(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Ed={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function aS(){if(v_)return _l;v_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:f,ref:l!==void 0?l:null,props:c}}return _l.Fragment=t,_l.jsx=n,_l.jsxs=n,_l}var T_;function oS(){return T_||(T_=1,Ed.exports=aS()),Ed.exports}var W=oS(),Ad={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function lS(){if(E_)return bt;E_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function O(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function $(C,Z,it){this.props=C,this.context=Z,this.refs=J,this.updater=it||j}$.prototype.isReactComponent={},$.prototype.setState=function(C,Z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Z,"setState")},$.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function ot(){}ot.prototype=$.prototype;function mt(C,Z,it){this.props=C,this.context=Z,this.refs=J,this.updater=it||j}var lt=mt.prototype=new ot;lt.constructor=mt,X(lt,$.prototype),lt.isPureReactComponent=!0;var wt=Array.isArray,ft={H:null,A:null,T:null,S:null,V:null},Nt=Object.prototype.hasOwnProperty;function V(C,Z,it,et,ct,Ot){return it=Ot.ref,{$$typeof:s,type:C,key:Z,ref:it!==void 0?it:null,props:Ot}}function S(C,Z){return V(C.type,Z,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function M(C){var Z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return Z[it]})}var D=/\/+/g;function k(C,Z){return typeof C=="object"&&C!==null&&C.key!=null?M(""+C.key):Z.toString(36)}function I(){}function oe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(I,I):(C.status="pending",C.then(function(Z){C.status==="pending"&&(C.status="fulfilled",C.value=Z)},function(Z){C.status==="pending"&&(C.status="rejected",C.reason=Z)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ne(C,Z,it,et,ct){var Ot=typeof C;(Ot==="undefined"||Ot==="boolean")&&(C=null);var _t=!1;if(C===null)_t=!0;else switch(Ot){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(C.$$typeof){case s:case t:_t=!0;break;case E:return _t=C._init,ne(_t(C._payload),Z,it,et,ct)}}if(_t)return ct=ct(C),_t=et===""?"."+k(C,0):et,wt(ct)?(it="",_t!=null&&(it=_t.replace(D,"$&/")+"/"),ne(ct,Z,it,"",function(xn){return xn})):ct!=null&&(R(ct)&&(ct=S(ct,it+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(D,"$&/")+"/")+_t)),Z.push(ct)),1;_t=0;var ke=et===""?".":et+":";if(wt(C))for(var Ft=0;Ft<C.length;Ft++)et=C[Ft],Ot=ke+k(et,Ft),_t+=ne(et,Z,it,Ot,ct);else if(Ft=O(C),typeof Ft=="function")for(C=Ft.call(C),Ft=0;!(et=C.next()).done;)et=et.value,Ot=ke+k(et,Ft++),_t+=ne(et,Z,it,Ot,ct);else if(Ot==="object"){if(typeof C.then=="function")return ne(oe(C),Z,it,et,ct);throw Z=String(C),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(C,Z,it){if(C==null)return C;var et=[],ct=0;return ne(C,et,"","",function(Ot){return Z.call(it,Ot,ct++)}),et}function nt(C){if(C._status===-1){var Z=C._result;Z=Z(),Z.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=Z)}if(C._status===1)return C._result.default;throw C._result}var dt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return bt.Children={map:H,forEach:function(C,Z,it){H(C,function(){Z.apply(this,arguments)},it)},count:function(C){var Z=0;return H(C,function(){Z++}),Z},toArray:function(C){return H(C,function(Z){return Z})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},bt.Component=$,bt.Fragment=n,bt.Profiler=l,bt.PureComponent=mt,bt.StrictMode=r,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ft,bt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ft.H.useMemoCache(C)}},bt.cache=function(C){return function(){return C.apply(null,arguments)}},bt.cloneElement=function(C,Z,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=X({},C.props),ct=C.key,Ot=void 0;if(Z!=null)for(_t in Z.ref!==void 0&&(Ot=void 0),Z.key!==void 0&&(ct=""+Z.key),Z)!Nt.call(Z,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&Z.ref===void 0||(et[_t]=Z[_t]);var _t=arguments.length-2;if(_t===1)et.children=it;else if(1<_t){for(var ke=Array(_t),Ft=0;Ft<_t;Ft++)ke[Ft]=arguments[Ft+2];et.children=ke}return V(C.type,ct,void 0,void 0,Ot,et)},bt.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},bt.createElement=function(C,Z,it){var et,ct={},Ot=null;if(Z!=null)for(et in Z.key!==void 0&&(Ot=""+Z.key),Z)Nt.call(Z,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ct[et]=Z[et]);var _t=arguments.length-2;if(_t===1)ct.children=it;else if(1<_t){for(var ke=Array(_t),Ft=0;Ft<_t;Ft++)ke[Ft]=arguments[Ft+2];ct.children=ke}if(C&&C.defaultProps)for(et in _t=C.defaultProps,_t)ct[et]===void 0&&(ct[et]=_t[et]);return V(C,Ot,void 0,void 0,null,ct)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(C){return{$$typeof:g,render:C}},bt.isValidElement=R,bt.lazy=function(C){return{$$typeof:E,_payload:{_status:-1,_result:C},_init:nt}},bt.memo=function(C,Z){return{$$typeof:y,type:C,compare:Z===void 0?null:Z}},bt.startTransition=function(C){var Z=ft.T,it={};ft.T=it;try{var et=C(),ct=ft.S;ct!==null&&ct(it,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Lt,dt)}catch(Ot){dt(Ot)}finally{ft.T=Z}},bt.unstable_useCacheRefresh=function(){return ft.H.useCacheRefresh()},bt.use=function(C){return ft.H.use(C)},bt.useActionState=function(C,Z,it){return ft.H.useActionState(C,Z,it)},bt.useCallback=function(C,Z){return ft.H.useCallback(C,Z)},bt.useContext=function(C){return ft.H.useContext(C)},bt.useDebugValue=function(){},bt.useDeferredValue=function(C,Z){return ft.H.useDeferredValue(C,Z)},bt.useEffect=function(C,Z,it){var et=ft.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return et.useEffect(C,Z)},bt.useId=function(){return ft.H.useId()},bt.useImperativeHandle=function(C,Z,it){return ft.H.useImperativeHandle(C,Z,it)},bt.useInsertionEffect=function(C,Z){return ft.H.useInsertionEffect(C,Z)},bt.useLayoutEffect=function(C,Z){return ft.H.useLayoutEffect(C,Z)},bt.useMemo=function(C,Z){return ft.H.useMemo(C,Z)},bt.useOptimistic=function(C,Z){return ft.H.useOptimistic(C,Z)},bt.useReducer=function(C,Z,it){return ft.H.useReducer(C,Z,it)},bt.useRef=function(C){return ft.H.useRef(C)},bt.useState=function(C){return ft.H.useState(C)},bt.useSyncExternalStore=function(C,Z,it){return ft.H.useSyncExternalStore(C,Z,it)},bt.useTransition=function(){return ft.H.useTransition()},bt.version="19.1.1",bt}var A_;function fm(){return A_||(A_=1,Ad.exports=lS()),Ad.exports}var Mt=fm(),Sd={exports:{}},vl={},wd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function uS(){return S_||(S_=1,(function(s){function t(H,nt){var dt=H.length;H.push(nt);t:for(;0<dt;){var Lt=dt-1>>>1,C=H[Lt];if(0<l(C,nt))H[Lt]=nt,H[dt]=C,dt=Lt;else break t}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var nt=H[0],dt=H.pop();if(dt!==nt){H[0]=dt;t:for(var Lt=0,C=H.length,Z=C>>>1;Lt<Z;){var it=2*(Lt+1)-1,et=H[it],ct=it+1,Ot=H[ct];if(0>l(et,dt))ct<C&&0>l(Ot,et)?(H[Lt]=Ot,H[ct]=dt,Lt=ct):(H[Lt]=et,H[it]=dt,Lt=it);else if(ct<C&&0>l(Ot,dt))H[Lt]=Ot,H[ct]=dt,Lt=ct;else break t}}return nt}function l(H,nt){var dt=H.sortIndex-nt.sortIndex;return dt!==0?dt:H.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,b=null,O=3,j=!1,X=!1,J=!1,$=!1,ot=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function wt(H){for(var nt=n(y);nt!==null;){if(nt.callback===null)r(y);else if(nt.startTime<=H)r(y),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(y)}}function ft(H){if(J=!1,wt(H),!X)if(n(p)!==null)X=!0,Nt||(Nt=!0,k());else{var nt=n(y);nt!==null&&ne(ft,nt.startTime-H)}}var Nt=!1,V=-1,S=5,R=-1;function M(){return $?!0:!(s.unstable_now()-R<S)}function D(){if($=!1,Nt){var H=s.unstable_now();R=H;var nt=!0;try{t:{X=!1,J&&(J=!1,mt(V),V=-1),j=!0;var dt=O;try{e:{for(wt(H),b=n(p);b!==null&&!(b.expirationTime>H&&M());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,O=b.priorityLevel;var C=Lt(b.expirationTime<=H);if(H=s.unstable_now(),typeof C=="function"){b.callback=C,wt(H),nt=!0;break e}b===n(p)&&r(p),wt(H)}else r(p);b=n(p)}if(b!==null)nt=!0;else{var Z=n(y);Z!==null&&ne(ft,Z.startTime-H),nt=!1}}break t}finally{b=null,O=dt,j=!1}nt=void 0}}finally{nt?k():Nt=!1}}}var k;if(typeof lt=="function")k=function(){lt(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,oe=I.port2;I.port1.onmessage=D,k=function(){oe.postMessage(null)}}else k=function(){ot(D,0)};function ne(H,nt){V=ot(function(){H(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(H){switch(O){case 1:case 2:case 3:var nt=3;break;default:nt=O}var dt=O;O=nt;try{return H()}finally{O=dt}},s.unstable_requestPaint=function(){$=!0},s.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var dt=O;O=H;try{return nt()}finally{O=dt}},s.unstable_scheduleCallback=function(H,nt,dt){var Lt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Lt+dt:Lt):dt=Lt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=dt+C,H={id:E++,callback:nt,priorityLevel:H,startTime:dt,expirationTime:C,sortIndex:-1},dt>Lt?(H.sortIndex=dt,t(y,H),n(p)===null&&H===n(y)&&(J?(mt(V),V=-1):J=!0,ne(ft,dt-Lt))):(H.sortIndex=C,t(p,H),X||j||(X=!0,Nt||(Nt=!0,k()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var nt=O;return function(){var dt=O;O=nt;try{return H.apply(this,arguments)}finally{O=dt}}}})(bd)),bd}var w_;function cS(){return w_||(w_=1,wd.exports=uS()),wd.exports}var Rd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function hS(){if(b_)return Qe;b_=1;var s=fm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},Qe.flushSync=function(p){var y=f.T,E=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=E,r.d.f()}},Qe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Qe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Qe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:O,fetchPriority:j}):E==="script"&&r.d.X(p,{crossOrigin:b,integrity:O,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Qe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=g(E,y.crossOrigin);r.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Qe.requestFormReset=function(p){r.d.r(p)},Qe.unstable_batchedUpdates=function(p,y){return p(y)},Qe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var R_;function fS(){if(R_)return Rd.exports;R_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=hS(),Rd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function dS(){if(I_)return vl;I_=1;var s=cS(),t=fm(),n=fS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),ot=Symbol.for("react.provider"),mt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),wt=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),Nt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function oe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case X:return"Fragment";case $:return"Profiler";case J:return"StrictMode";case ft:return"Suspense";case Nt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case lt:return(e.displayName||"Context")+".Provider";case mt:return(e._context.displayName||"Context")+".Consumer";case wt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:oe(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return oe(e(i))}catch{}}return null}var ne=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function Z(e){return{current:e}}function it(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function et(e,i){C++,Lt[C]=e.current,e.current=i}var ct=Z(null),Ot=Z(null),_t=Z(null),ke=Z(null);function Ft(e,i){switch(et(_t,i),et(Ot,e),et(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Ky(i),e=Yy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(ct),et(ct,e)}function xn(){it(ct),it(Ot),it(_t)}function ho(e){e.memoizedState!==null&&et(ke,e);var i=ct.current,a=Yy(i,e.type);i!==a&&(et(Ot,e),et(ct,a))}function Xs(e){Ot.current===e&&(it(ct),it(Ot)),ke.current===e&&(it(ke),dl._currentValue=dt)}var $s=Object.prototype.hasOwnProperty,Zr=s.unstable_scheduleCallback,Zs=s.unstable_cancelCallback,Eh=s.unstable_shouldYield,fo=s.unstable_requestPaint,nn=s.unstable_now,Zl=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Ce=s.unstable_UserBlockingPriority,vi=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,mo=s.unstable_IdlePriority,Sh=s.log,Wr=s.unstable_setDisableYieldValue,Xi=null,He=null;function vn(e){if(typeof Sh=="function"&&Wr(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Xi,e)}catch{}}var Ze=Math.clz32?Math.clz32:Jl,wh=Math.log,Wl=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(wh(e)/Wl|0)|0}var Xn=256,$i=4194304;function kn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Tn(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=kn(o):(v&=T,v!==0?h=kn(v):a||(a=T&~e,a!==0&&(h=kn(a))))):(T=o&~d,T!==0?h=kn(T):v!==0?h=kn(v):a||(a=o&~e,a!==0&&(h=kn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Zi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ws(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function go(){var e=Xn;return Xn<<=1,(Xn&4194048)===0&&(Xn=256),e}function Wi(){var e=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),e}function Js(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ce(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tu(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-Ze(a),K=1<<G;T[G]=0,w[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var B=z[G];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&Ji(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function Ji(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ze(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function tr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Ze(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ti(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:d_(e.type))}function bh(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var $n=Math.random().toString(36).slice(2),he="__reactFiber$"+$n,Pe="__reactProps$"+$n,Ei="__reactContainer$"+$n,Jr="__reactEvents$"+$n,ts="__reactListeners$"+$n,Rh="__reactHandles$"+$n,Pn="__reactResources$"+$n,er="__reactMarker$"+$n;function ta(e){delete e[he],delete e[Pe],delete e[Jr],delete e[ts],delete e[Rh]}function Zn(e){var i=e[he];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ei]||a[he]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Wy(e);e!==null;){if(a=e[he])return a;e=Wy(e)}return i}e=a,a=e.parentNode}return null}function Wn(e){if(e=e[he]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function nr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function ir(e){var i=e[Pn];return i||(i=e[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[er]=!0}var eu=new Set,es={};function Jn(e,i){ti(e,i),ti(e+"Capture",i)}function ti(e,i){for(es[e]=i,e=0;e<i.length;e++)eu.add(i[e])}var ns=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},ea={};function Ih(e){return $s.call(ea,e)?!0:$s.call(ei,e)?!1:ns.test(e)?ea[e]=!0:(ei[e]=!0,!1)}function is(e,i,a){if(Ih(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function rs(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function En(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var ss,na;function Ai(e){if(ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ss=i&&i[1]||"",na=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ss+e+na}var ia=!1;function ra(e,i){if(!e||ia)return"";ia=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var w=v.split(`
`),L=T.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===L.length)for(o=w.length-1,h=L.length-1;1<=o&&0<=h&&w[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==L[h]){var G=`
`+w[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{ia=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ai(a):""}function Ch(e){switch(e.tag){case 26:case 27:case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return ra(e.type,!1);case 11:return ra(e.type.render,!1);case 1:return ra(e.type,!0);case 31:return Ai("Activity");default:return""}}function Un(e){try{var i="";do i+=Ch(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function re(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function as(e){var i=rr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sr(e){e._valueTracker||(e._valueTracker=as(e))}function Qt(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var os=/[\n"\\]/g;function De(e){return e.replace(os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _o(e,i,a,o,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+re(i)):e.value!==""+re(i)&&(e.value=""+re(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?To(e,v,re(i)):a!=null?To(e,v,re(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+re(T):e.removeAttribute("name")}function vo(e,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+re(a):"",i=i!=null?""+re(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function To(e,i,a){i==="number"&&Si(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ar(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+re(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function nu(e,i,a){if(i!=null&&(i=""+re(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+re(a):""}function iu(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ne(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=re(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function An(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var wi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||wi.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ao(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Eo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Eo(e,d,i[d])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(e){return su.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var So=null;function wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var or=null,We=null;function au(e){var i=Wn(e);if(i&&(e=i.stateNode)){var a=e[Pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(_o(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+De(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Pe]||null;if(!h)throw Error(r(90));_o(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&Qt(o)}break t;case"textarea":nu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&ar(e,!!a.multiple,i,!1)}}}var ls=!1;function us(e,i,a){if(ls)return e(i,a);ls=!0;try{var o=e(i);return o}finally{if(ls=!1,(or!==null||We!==null)&&(Xu(),or&&(i=or,e=We,We=or=null,au(i),e)))for(i=0;i<e.length;i++)au(e[i])}}function lr(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Pe]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Je=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(Je)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){bi=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{bi=!1}var Sn=null,Zt=null,aa=null;function ou(){if(aa)return aa;var e,i=Zt,a=i.length,o,h="value"in Sn?Sn.value:Sn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return aa=h.slice(e,1<o?1-o:void 0)}function cs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function hs(){return!0}function bo(){return!1}function we(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hs:bo,this.isPropagationStopped=bo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=we(Ge),ds=E({},Ge,{view:0,detail:0}),ms=we(ds),oa,gs,ni,ps=E({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(oa=e.screenX-ni.screenX,gs=e.screenY-ni.screenY):gs=oa=0,ni=e),oa)},movementY:function(e){return"movementY"in e?e.movementY:gs}}),ys=we(ps),Dh=E({},ps,{dataTransfer:0}),lu=we(Dh),_s=E({},ds,{relatedTarget:0}),la=we(_s),uu=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ro=we(uu),Io=E({},Ge,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=we(Io),ua=E({},Ge,{data:0}),Co=we(ua),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fu[e])?!!i[e]:!1}function ca(){return du}var mu=E({},ds,{key:function(e){if(e.key){var i=hu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=cs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ri[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?cs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ha=we(mu),tn=E({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=we(tn),gu=E({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),cr=we(gu),u=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=we(u),_=E({},ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A=we(_),U=E({},Ge,{newState:0,oldState:0}),q=we(U),tt=[9,13,27,32],At=Je&&"CompositionEvent"in window,te=null;Je&&"documentMode"in document&&(te=document.documentMode);var qt=Je&&"TextEvent"in window&&!te,de=Je&&(!At||te&&8<te&&11>=te),cn=" ",ii=!1;function zn(e,i){switch(e){case"keyup":return tt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function No(e,i){switch(e){case"compositionend":return jn(i);case"keypress":return i.which!==32?null:(ii=!0,cn);case"textInput":return e=i.data,e===cn&&ii?null:e;default:return null}}function M0(e,i){if(Bn)return e==="compositionend"||!At&&zn(e,i)?(e=ou(),aa=Zt=Sn=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var x0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function og(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!x0[e.type]:i==="textarea"}function lg(e,i,a,o){or?We?We.push(o):We=[o]:or=o,i=ec(i,"onChange"),0<i.length&&(a=new fs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Oo=null,Vo=null;function k0(e){qy(e,0)}function pu(e){var i=nr(e);if(Qt(i))return e}function ug(e,i){if(e==="change")return i}var cg=!1;if(Je){var Nh;if(Je){var Oh="oninput"in document;if(!Oh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Oh=typeof hg.oninput=="function"}Nh=Oh}else Nh=!1;cg=Nh&&(!document.documentMode||9<document.documentMode)}function fg(){Oo&&(Oo.detachEvent("onpropertychange",dg),Vo=Oo=null)}function dg(e){if(e.propertyName==="value"&&pu(Vo)){var i=[];lg(i,Vo,e,wo(e)),us(k0,i)}}function P0(e,i,a){e==="focusin"?(fg(),Oo=i,Vo=a,Oo.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Vo)}function L0(e,i){if(e==="click")return pu(i)}function z0(e,i){if(e==="input"||e==="change")return pu(i)}function j0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var hn=typeof Object.is=="function"?Object.is:j0;function Mo(e,i){if(hn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!$s.call(i,h)||!hn(e[h],i[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,i){var a=mg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=mg(a)}}function pg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Si(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Si(e.document)}return i}function Vh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var B0=Je&&"documentMode"in document&&11>=document.documentMode,fa=null,Mh=null,xo=null,xh=!1;function _g(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xh||fa==null||fa!==Si(o)||(o=fa,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Mo(xo,o)||(xo=o,o=ec(Mh,"onSelect"),0<o.length&&(i=new fs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=fa)))}function vs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var da={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},kh={},vg={};Je&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Ts(e){if(kh[e])return kh[e];if(!da[e])return e;var i=da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in vg)return kh[e]=i[a];return e}var Tg=Ts("animationend"),Eg=Ts("animationiteration"),Ag=Ts("animationstart"),q0=Ts("transitionrun"),H0=Ts("transitionstart"),G0=Ts("transitioncancel"),Sg=Ts("transitionend"),wg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function qn(e,i){wg.set(e,i),Jn(i,[e])}var bg=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Un(i)},bg.set(e,i),i)}return{value:e,source:i,stack:Un(i)}}var bn=[],ma=0,Uh=0;function yu(){for(var e=ma,i=Uh=ma=0;i<e;){var a=bn[i];bn[i++]=null;var o=bn[i];bn[i++]=null;var h=bn[i];bn[i++]=null;var d=bn[i];if(bn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Rg(a,h,d)}}function _u(e,i,a,o){bn[ma++]=e,bn[ma++]=i,bn[ma++]=a,bn[ma++]=o,Uh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Lh(e,i,a,o){return _u(e,i,a,o),vu(e)}function ga(e,i){return _u(e,null,null,i),vu(e)}function Rg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-Ze(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function vu(e){if(50<sl)throw sl=0,Ff=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function F0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,i,a,o){return new F0(e,i,a,o)}function zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ii(e,i){var a=e.alternate;return a===null?(a=fn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ig(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Tu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")zh(e)&&(v=1);else if(typeof e=="string")v=KA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=fn(31,a,i,h),e.elementType=R,e.lanes=d,e;case X:return Es(a.children,h,d,i);case J:v=8,h|=24;break;case $:return e=fn(12,a,i,h|2),e.elementType=$,e.lanes=d,e;case ft:return e=fn(13,a,i,h),e.elementType=ft,e.lanes=d,e;case Nt:return e=fn(19,a,i,h),e.elementType=Nt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:case lt:v=10;break t;case mt:v=9;break t;case wt:v=11;break t;case V:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=fn(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function Es(e,i,a,o){return e=fn(7,e,o,i),e.lanes=a,e}function jh(e,i,a){return e=fn(6,e,null,i),e.lanes=a,e}function Bh(e,i,a){return i=fn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ya=[],_a=0,Eu=null,Au=0,Rn=[],In=0,As=null,Ci=1,Di="";function Ss(e,i){ya[_a++]=Au,ya[_a++]=Eu,Eu=e,Au=i}function Cg(e,i,a){Rn[In++]=Ci,Rn[In++]=Di,Rn[In++]=As,As=e;var o=Ci;e=Di;var h=32-Ze(o)-1;o&=~(1<<h),a+=1;var d=32-Ze(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Ci=1<<32-Ze(i)+h|a<<h|o,Di=d+e}else Ci=1<<d|a<<h|o,Di=e}function qh(e){e.return!==null&&(Ss(e,1),Cg(e,1,0))}function Hh(e){for(;e===Eu;)Eu=ya[--_a],ya[_a]=null,Au=ya[--_a],ya[_a]=null;for(;e===As;)As=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null,Ci=Rn[--In],Rn[In]=null}var en=null,le=null,jt=!1,ws=null,ri=!1,Gh=Error(r(519));function bs(e){var i=Error(r(418,""));throw Uo(wn(i,e)),Gh}function Dg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[he]=e,i[Pe]=o,a){case"dialog":Dt("cancel",i),Dt("close",i);break;case"iframe":case"object":case"embed":Dt("load",i);break;case"video":case"audio":for(a=0;a<ol.length;a++)Dt(ol[a],i);break;case"source":Dt("error",i);break;case"img":case"image":case"link":Dt("error",i),Dt("load",i);break;case"details":Dt("toggle",i);break;case"input":Dt("invalid",i),vo(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),sr(i);break;case"select":Dt("invalid",i);break;case"textarea":Dt("invalid",i),iu(i,o.value,o.defaultValue,o.children),sr(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Qy(i.textContent,a)?(o.popover!=null&&(Dt("beforetoggle",i),Dt("toggle",i)),o.onScroll!=null&&Dt("scroll",i),o.onScrollEnd!=null&&Dt("scrollend",i),o.onClick!=null&&(i.onclick=nc),i=!0):i=!1,i||bs(e)}function Ng(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ri=!1;return;case 27:case 3:ri=!0;return;default:en=en.return}}function ko(e){if(e!==en)return!1;if(!jt)return Ng(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||od(e.type,e.memoizedProps)),a=!a),a&&le&&bs(e),Ng(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){le=Gn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}le=null}}else i===27?(i=le,Rr(e.type)?(e=hd,hd=null,le=e):le=i):le=en?Gn(e.stateNode.nextSibling):null;return!0}function Po(){le=en=null,jt=!1}function Og(){var e=ws;return e!==null&&(an===null?an=e:an.push.apply(an,e),ws=null),e}function Uo(e){ws===null?ws=[e]:ws.push(e)}var Fh=Z(null),Rs=null,Ni=null;function hr(e,i,a){et(Fh,i._currentValue),i._currentValue=a}function Oi(e){e._currentValue=Fh.current,it(Fh)}function Qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Kh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<i.length;w++)if(T.context===i[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Qh(d.return,a,e),o||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Lo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&Kh(i,e,a,o),i.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Is(e){Rs=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Fe(e){return Vg(Rs,e)}function wu(e,i){return Rs===null&&Is(e),Vg(e,i)}function Vg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ni===null){if(e===null)throw Error(r(308));Ni=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Ni=Ni.next=i;return a}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},K0=s.unstable_scheduleCallback,Y0=s.unstable_NormalPriority,be={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new Q0,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&K0(Y0,function(){e.controller.abort()})}var jo=null,Xh=0,va=0,Ta=null;function X0(e,i){if(jo===null){var a=jo=[];Xh=0,va=Wf(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Xh++,i.then(Mg,Mg),i}function Mg(){if(--Xh===0&&jo!==null){Ta!==null&&(Ta.status="fulfilled");var e=jo;jo=null,va=0,Ta=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function $0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var xg=H.S;H.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&X0(e,i),xg!==null&&xg(e,i)};var Cs=Z(null);function $h(){var e=Cs.current;return e!==null?e:Wt.pooledCache}function bu(e,i){i===null?et(Cs,Cs.current):et(Cs,i.pool)}function kg(){var e=$h();return e===null?null:{parent:be._currentValue,pool:e}}var Bo=Error(r(460)),Pg=Error(r(474)),Ru=Error(r(542)),Zh={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Iu(){}function Lg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Iu,Iu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jg(e),e;default:if(typeof i.status=="string")i.then(Iu,Iu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,jg(e),e}throw qo=i,Bo}}var qo=null;function zg(){if(qo===null)throw Error(r(459));var e=qo;return qo=null,e}function jg(e){if(e===Bo||e===Ru)throw Error(r(483))}var fr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function dr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=vu(e),Rg(e,null,a),i}return _u(e,o,i,a),vu(e)}function Ho(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,tr(e,a)}}function tf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ef=!1;function Go(){if(ef){var e=Ta;if(e!==null)throw e}}function Fo(e,i,a,o){ef=!1;var h=e.updateQueue;fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,L=w.next;w.next=null,v===null?d=L:v.next=L,v=w;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=L:T.next=L,G.lastBaseUpdate=w))}if(d!==null){var K=h.baseState;v=0,G=L=w=null,T=d;do{var z=T.lane&-536870913,B=z!==T.lane;if(B?(Pt&z)===z:(o&z)===z){z!==0&&z===va&&(ef=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var vt=e,gt=T;z=i;var Xt=a;switch(gt.tag){case 1:if(vt=gt.payload,typeof vt=="function"){K=vt.call(Xt,K,z);break t}K=vt;break t;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=gt.payload,z=typeof vt=="function"?vt.call(Xt,K,z):vt,z==null)break t;K=E({},K,z);break t;case 2:fr=!0}}z=T.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(L=G=B,w=K):G=G.next=B,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;B=T,T=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);G===null&&(w=K),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Ar|=v,e.lanes=v,e.memoizedState=K}}function Bg(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function qg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bg(a[e],i)}var Ea=Z(null),Cu=Z(0);function Hg(e,i){e=Li,et(Cu,e),et(Ea,i),Li=e|i.baseLanes}function nf(){et(Cu,Li),et(Ea,Ea.current)}function rf(){Li=Cu.current,it(Ea),it(Cu)}var gr=0,Rt=null,Kt=null,_e=null,Du=!1,Aa=!1,Ds=!1,Nu=0,Qo=0,Sa=null,Z0=0;function me(){throw Error(r(321))}function sf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!hn(e[a],i[a]))return!1;return!0}function af(e,i,a,o,h,d){return gr=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=e===null||e.memoizedState===null?Rp:Ip,Ds=!1,d=a(o,h),Ds=!1,Aa&&(d=Fg(i,a,o,h)),Gg(e),d}function Gg(e){H.H=Pu;var i=Kt!==null&&Kt.next!==null;if(gr=0,_e=Kt=Rt=null,Du=!1,Qo=0,Sa=null,i)throw Error(r(300));e===null||Ne||(e=e.dependencies,e!==null&&Su(e)&&(Ne=!0))}function Fg(e,i,a,o){Rt=e;var h=0;do{if(Aa&&(Sa=null),Qo=0,Aa=!1,25<=h)throw Error(r(301));if(h+=1,_e=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=rA,d=i(a,o)}while(Aa);return d}function W0(){var e=H.H,i=e.useState()[0];return i=typeof i.then=="function"?Ko(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function of(){var e=Nu!==0;return Nu=0,e}function lf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function uf(e){if(Du){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Du=!1}gr=0,_e=Kt=Rt=null,Aa=!1,Qo=Nu=0,Sa=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?Rt.memoizedState=_e=e:_e=_e.next=e,_e}function ve(){if(Kt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=_e===null?Rt.memoizedState:_e.next;if(i!==null)_e=i,Kt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_e===null?Rt.memoizedState=_e=e:_e=_e.next=e}return _e}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var i=Qo;return Qo+=1,Sa===null&&(Sa=[]),e=Lg(Sa,e,i),i=Rt,(_e===null?i.memoizedState:_e.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?Rp:Ip),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===lt)return Fe(e)}throw Error(r(438,String(e)))}function hf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cf(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=M;return i.index++,a}function Vi(e,i){return typeof i=="function"?i(e):i}function Vu(e){var i=ve();return ff(i,Kt,e)}function ff(e,i,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var T=v=null,w=null,L=i,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Pt&K)===K:(gr&K)===K){var z=L.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===va&&(G=!0);else if((gr&z)===z){L=L.next,z===va&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=K,v=d):w=w.next=K,Rt.lanes|=z,Ar|=z;K=L.action,Ds&&a(d,K),d=L.hasEagerState?L.eagerState:a(d,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=z,v=d):w=w.next=z,Rt.lanes|=K,Ar|=K;L=L.next}while(L!==null&&L!==i);if(w===null?v=d:w.next=T,!hn(d,e.memoizedState)&&(Ne=!0,G&&(a=Ta,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=w,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function df(e){var i=ve(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Qg(e,i,a){var o=Rt,h=ve(),d=jt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!hn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=Xg.bind(null,o,h,e);if(Yo(2048,8,T,[e]),h.getSnapshot!==i||v||_e!==null&&_e.memoizedState.tag&1){if(o.flags|=2048,wa(9,Mu(),Yg.bind(null,o,h,a,i),null),Wt===null)throw Error(r(349));d||(gr&124)!==0||Kg(o,i,a)}return a}function Kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=cf(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Yg(e,i,a,o){i.value=a,i.getSnapshot=o,$g(i)&&Zg(e)}function Xg(e,i,a){return a(function(){$g(i)&&Zg(e)})}function $g(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!hn(e,a)}catch{return!0}}function Zg(e){var i=ga(e,2);i!==null&&yn(i,e,2)}function mf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),Ds){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},i}function Wg(e,i,a,o){return e.baseState=a,ff(e,Kt,typeof o=="function"?o:Vi)}function J0(e,i,a,o,h){if(ku(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};H.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=H.T,v={};H.T=v;try{var T=a(h,o),w=H.S;w!==null&&w(v,T),tp(e,i,T)}catch(L){gf(e,i,L)}finally{H.T=d}}else try{d=a(h,o),tp(e,i,d)}catch(L){gf(e,i,L)}}function tp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ep(e,i,o)},function(o){return gf(e,i,o)}):ep(e,i,a)}function ep(e,i,a){i.status="fulfilled",i.value=a,np(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Jg(e,a)))}function gf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,np(i),i=i.next;while(i!==o)}e.action=null}function np(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ip(e,i){return i}function rp(e,i){if(jt){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(jt){if(le){e:{for(var h=le,d=ri;h.nodeType!==8;){if(!d){h=null;break e}if(h=Gn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){le=Gn(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ip,lastRenderedState:i},a.queue=o,a=Sp.bind(null,Rt,o),o.dispatch=a,o=mf(!1),d=Tf.bind(null,Rt,!1,o.queue),o=rn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=J0.bind(null,Rt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function sp(e){var i=ve();return ap(i,Kt,e)}function ap(e,i,a){if(i=ff(e,i,ip)[0],e=Vu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ko(i)}catch(v){throw v===Bo?Ru:v}else o=i;i=ve();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,wa(9,Mu(),tA.bind(null,h,a),null)),[o,d,e]}function tA(e,i){e.action=i}function op(e){var i=ve(),a=Kt;if(a!==null)return ap(i,a,e);ve(),i=i.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function wa(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=cf(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Mu(){return{destroy:void 0,resource:void 0}}function lp(){return ve().memoizedState}function xu(e,i,a,o){var h=rn();o=o===void 0?null:o,Rt.flags|=e,h.memoizedState=wa(1|i,Mu(),a,o)}function Yo(e,i,a,o){var h=ve();o=o===void 0?null:o;var d=h.memoizedState.inst;Kt!==null&&o!==null&&sf(o,Kt.memoizedState.deps)?h.memoizedState=wa(i,d,a,o):(Rt.flags|=e,h.memoizedState=wa(1|i,d,a,o))}function up(e,i){xu(8390656,8,e,i)}function cp(e,i){Yo(2048,8,e,i)}function hp(e,i){return Yo(4,2,e,i)}function fp(e,i){return Yo(4,4,e,i)}function dp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function mp(e,i,a){a=a!=null?a.concat([e]):null,Yo(4,4,dp.bind(null,i,e),a)}function pf(){}function gp(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&sf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function pp(e,i){var a=ve();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&sf(i,o[1]))return o[0];if(o=e(),Ds){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[o,i],o}function yf(e,i,a){return a===void 0||(gr&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=vy(),Rt.lanes|=e,Ar|=e,a)}function yp(e,i,a,o){return hn(a,i)?a:Ea.current!==null?(e=yf(e,a,o),hn(e,i)||(Ne=!0),e):(gr&42)===0?(Ne=!0,e.memoizedState=a):(e=vy(),Rt.lanes|=e,Ar|=e,i)}function _p(e,i,a,o,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=H.T,T={};H.T=T,Tf(e,!1,i,a);try{var w=h(),L=H.S;if(L!==null&&L(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=$0(w,o);Xo(e,i,G,pn(e))}else Xo(e,i,o,pn(e))}catch(K){Xo(e,i,{then:function(){},status:"rejected",reason:K},pn())}finally{nt.p=d,H.T=v}}function eA(){}function _f(e,i,a,o){if(e.tag!==5)throw Error(r(476));var h=vp(e).queue;_p(e,h,i,dt,a===null?eA:function(){return Tp(e),a(o)})}function vp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:dt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Tp(e){var i=vp(e).next.queue;Xo(e,i,{},pn())}function vf(){return Fe(dl)}function Ep(){return ve().memoizedState}function Ap(){return ve().memoizedState}function nA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();e=dr(a);var o=mr(i,e,a);o!==null&&(yn(o,i,a),Ho(o,i,a)),i={cache:Yh()},e.payload=i;return}i=i.return}}function iA(e,i,a){var o=pn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ku(e)?wp(i,a):(a=Lh(e,i,a,o),a!==null&&(yn(a,e,o),bp(a,i,o)))}function Sp(e,i,a){var o=pn();Xo(e,i,a,o)}function Xo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ku(e))wp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return _u(e,i,h,0),Wt===null&&yu(),!1}catch{}finally{}if(a=Lh(e,i,h,o),a!==null)return yn(a,e,o),bp(a,i,o),!0}return!1}function Tf(e,i,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},ku(e)){if(i)throw Error(r(479))}else i=Lh(e,a,o,2),i!==null&&yn(i,e,2)}function ku(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function wp(e,i){Aa=Du=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function bp(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,tr(e,a)}}var Pu={readContext:Fe,use:Ou,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me},Rp={readContext:Fe,use:Ou,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Fe,useEffect:up,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,xu(4194308,4,dp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return xu(4194308,4,e,i)},useInsertionEffect:function(e,i){xu(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var o=e();if(Ds){vn(!0);try{e()}finally{vn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=rn();if(a!==void 0){var h=a(i);if(Ds){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=iA.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=mf(e);var i=e.queue,a=Sp.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:pf,useDeferredValue:function(e,i){var a=rn();return yf(a,e,i)},useTransition:function(){var e=mf(!1);return e=_p.bind(null,Rt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=rn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Wt===null)throw Error(r(349));(Pt&124)!==0||Kg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,up(Xg.bind(null,o,d,e),[e]),o.flags|=2048,wa(9,Mu(),Yg.bind(null,o,d,a,i),null),a},useId:function(){var e=rn(),i=Wt.identifierPrefix;if(jt){var a=Di,o=Ci;a=(o&~(1<<32-Ze(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Z0++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:vf,useFormState:rp,useActionState:rp,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:hf,useCacheRefresh:function(){return rn().memoizedState=nA.bind(null,Rt)}},Ip={readContext:Fe,use:Ou,useCallback:gp,useContext:Fe,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:Vu,useRef:lp,useState:function(){return Vu(Vi)},useDebugValue:pf,useDeferredValue:function(e,i){var a=ve();return yp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Vu(Vi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:Qg,useId:Ep,useHostTransitionStatus:vf,useFormState:sp,useActionState:sp,useOptimistic:function(e,i){var a=ve();return Wg(a,Kt,e,i)},useMemoCache:hf,useCacheRefresh:Ap},rA={readContext:Fe,use:Ou,useCallback:gp,useContext:Fe,useEffect:cp,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:pp,useReducer:df,useRef:lp,useState:function(){return df(Vi)},useDebugValue:pf,useDeferredValue:function(e,i){var a=ve();return Kt===null?yf(a,e,i):yp(a,Kt.memoizedState,e,i)},useTransition:function(){var e=df(Vi)[0],i=ve().memoizedState;return[typeof e=="boolean"?e:Ko(e),i]},useSyncExternalStore:Qg,useId:Ep,useHostTransitionStatus:vf,useFormState:op,useActionState:op,useOptimistic:function(e,i){var a=ve();return Kt!==null?Wg(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Ap},ba=null,$o=0;function Uu(e){var i=$o;return $o+=1,ba===null&&(ba=[]),Lg(ba,e,i)}function Zo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Lu(e,i){throw i.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Cp(e){var i=e._init;return i(e._payload)}function Dp(e){function i(x,N){if(e){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)i(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ii(x,N),x.index=0,x.sibling=null,x}function d(x,N,P){return x.index=P,e?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,P,F){return N===null||N.tag!==6?(N=jh(P,x.mode,F),N.return=x,N):(N=h(N,P),N.return=x,N)}function w(x,N,P,F){var at=P.type;return at===X?G(x,N,P.props.children,F,P.key):N!==null&&(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Cp(at)===N.type)?(N=h(N,P.props),Zo(N,P),N.return=x,N):(N=Tu(P.type,P.key,P.props,null,x.mode,F),Zo(N,P),N.return=x,N)}function L(x,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Bh(P,x.mode,F),N.return=x,N):(N=h(N,P.children||[]),N.return=x,N)}function G(x,N,P,F,at){return N===null||N.tag!==7?(N=Es(P,x.mode,F,at),N.return=x,N):(N=h(N,P),N.return=x,N)}function K(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=jh(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case O:return P=Tu(N.type,N.key,N.props,null,x.mode,P),Zo(P,N),P.return=x,P;case j:return N=Bh(N,x.mode,P),N.return=x,N;case S:var F=N._init;return N=F(N._payload),K(x,N,P)}if(ne(N)||k(N))return N=Es(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return K(x,Uu(N),P);if(N.$$typeof===lt)return K(x,wu(x,N),P);Lu(x,N)}return null}function z(x,N,P,F){var at=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return at!==null?null:T(x,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return P.key===at?w(x,N,P,F):null;case j:return P.key===at?L(x,N,P,F):null;case S:return at=P._init,P=at(P._payload),z(x,N,P,F)}if(ne(P)||k(P))return at!==null?null:G(x,N,P,F,null);if(typeof P.then=="function")return z(x,N,Uu(P),F);if(P.$$typeof===lt)return z(x,N,wu(x,P),F);Lu(x,P)}return null}function B(x,N,P,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,T(N,x,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return x=x.get(F.key===null?P:F.key)||null,w(N,x,F,at);case j:return x=x.get(F.key===null?P:F.key)||null,L(N,x,F,at);case S:var It=F._init;return F=It(F._payload),B(x,N,P,F,at)}if(ne(F)||k(F))return x=x.get(P)||null,G(N,x,F,at,null);if(typeof F.then=="function")return B(x,N,P,Uu(F),at);if(F.$$typeof===lt)return B(x,N,P,wu(N,F),at);Lu(N,F)}return null}function vt(x,N,P,F){for(var at=null,It=null,ut=N,pt=N=0,Ve=null;ut!==null&&pt<P.length;pt++){ut.index>pt?(Ve=ut,ut=null):Ve=ut.sibling;var zt=z(x,ut,P[pt],F);if(zt===null){ut===null&&(ut=Ve);break}e&&ut&&zt.alternate===null&&i(x,ut),N=d(zt,N,pt),It===null?at=zt:It.sibling=zt,It=zt,ut=Ve}if(pt===P.length)return a(x,ut),jt&&Ss(x,pt),at;if(ut===null){for(;pt<P.length;pt++)ut=K(x,P[pt],F),ut!==null&&(N=d(ut,N,pt),It===null?at=ut:It.sibling=ut,It=ut);return jt&&Ss(x,pt),at}for(ut=o(ut);pt<P.length;pt++)Ve=B(ut,x,pt,P[pt],F),Ve!==null&&(e&&Ve.alternate!==null&&ut.delete(Ve.key===null?pt:Ve.key),N=d(Ve,N,pt),It===null?at=Ve:It.sibling=Ve,It=Ve);return e&&ut.forEach(function(Or){return i(x,Or)}),jt&&Ss(x,pt),at}function gt(x,N,P,F){if(P==null)throw Error(r(151));for(var at=null,It=null,ut=N,pt=N=0,Ve=null,zt=P.next();ut!==null&&!zt.done;pt++,zt=P.next()){ut.index>pt?(Ve=ut,ut=null):Ve=ut.sibling;var Or=z(x,ut,zt.value,F);if(Or===null){ut===null&&(ut=Ve);break}e&&ut&&Or.alternate===null&&i(x,ut),N=d(Or,N,pt),It===null?at=Or:It.sibling=Or,It=Or,ut=Ve}if(zt.done)return a(x,ut),jt&&Ss(x,pt),at;if(ut===null){for(;!zt.done;pt++,zt=P.next())zt=K(x,zt.value,F),zt!==null&&(N=d(zt,N,pt),It===null?at=zt:It.sibling=zt,It=zt);return jt&&Ss(x,pt),at}for(ut=o(ut);!zt.done;pt++,zt=P.next())zt=B(ut,x,pt,zt.value,F),zt!==null&&(e&&zt.alternate!==null&&ut.delete(zt.key===null?pt:zt.key),N=d(zt,N,pt),It===null?at=zt:It.sibling=zt,It=zt);return e&&ut.forEach(function(sS){return i(x,sS)}),jt&&Ss(x,pt),at}function Xt(x,N,P,F){if(typeof P=="object"&&P!==null&&P.type===X&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case O:t:{for(var at=P.key;N!==null;){if(N.key===at){if(at=P.type,at===X){if(N.tag===7){a(x,N.sibling),F=h(N,P.props.children),F.return=x,x=F;break t}}else if(N.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&Cp(at)===N.type){a(x,N.sibling),F=h(N,P.props),Zo(F,P),F.return=x,x=F;break t}a(x,N);break}else i(x,N);N=N.sibling}P.type===X?(F=Es(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=Tu(P.type,P.key,P.props,null,x.mode,F),Zo(F,P),F.return=x,x=F)}return v(x);case j:t:{for(at=P.key;N!==null;){if(N.key===at)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(x,N.sibling),F=h(N,P.children||[]),F.return=x,x=F;break t}else{a(x,N);break}else i(x,N);N=N.sibling}F=Bh(P,x.mode,F),F.return=x,x=F}return v(x);case S:return at=P._init,P=at(P._payload),Xt(x,N,P,F)}if(ne(P))return vt(x,N,P,F);if(k(P)){if(at=k(P),typeof at!="function")throw Error(r(150));return P=at.call(P),gt(x,N,P,F)}if(typeof P.then=="function")return Xt(x,N,Uu(P),F);if(P.$$typeof===lt)return Xt(x,N,wu(x,P),F);Lu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(x,N.sibling),F=h(N,P),F.return=x,x=F):(a(x,N),F=jh(P,x.mode,F),F.return=x,x=F),v(x)):a(x,N)}return function(x,N,P,F){try{$o=0;var at=Xt(x,N,P,F);return ba=null,at}catch(ut){if(ut===Bo||ut===Ru)throw ut;var It=fn(29,ut,null,x.mode);return It.lanes=F,It.return=x,It}finally{}}}var Ra=Dp(!0),Np=Dp(!1),Cn=Z(null),si=null;function pr(e){var i=e.alternate;et(Re,Re.current&1),et(Cn,e),si===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(si=e)}function Op(e){if(e.tag===22){if(et(Re,Re.current),et(Cn,e),si===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(si=e)}}else yr()}function yr(){et(Re,Re.current),et(Cn,Cn.current)}function Mi(e){it(Cn),si===e&&(si=null),it(Re)}var Re=Z(0);function zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ef(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Af={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=pn(),h=dr(o);h.payload=i,a!=null&&(h.callback=a),i=mr(e,h,o),i!==null&&(yn(i,e,o),Ho(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=pn(),h=dr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=mr(e,h,o),i!==null&&(yn(i,e,o),Ho(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=pn(),o=dr(a);o.tag=2,i!=null&&(o.callback=i),i=mr(e,o,a),i!==null&&(yn(i,e,a),Ho(i,e,a))}};function Vp(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Mo(a,o)||!Mo(h,d):!0}function Mp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Af.enqueueReplaceState(i,i.state,null)}function Ns(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var ju=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function xp(e){ju(e)}function kp(e){console.error(e)}function Pp(e){ju(e)}function Bu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Up(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(e,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(e,i)},a}function Lp(e){return e=dr(e),e.tag=3,e}function zp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Up(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Up(i,a,o),typeof h!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function sA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Lo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return si===null?Kf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Zh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Xf(e,o,h)),!1;case 22:return a.flags|=65536,o===Zh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Xf(e,o,h)),!1}throw Error(r(435,a.tag))}return Xf(e,o,h),Kf(),!1}if(jt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Gh&&(e=Error(r(422),{cause:o}),Uo(wn(e,a)))):(o!==Gh&&(i=Error(r(423),{cause:o}),Uo(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,a),h=Sf(e.stateNode,o,h),tf(e,h),ue!==4&&(ue=2)),!1;var d=Error(r(520),{cause:o});if(d=wn(d,a),rl===null?rl=[d]:rl.push(d),ue!==4&&(ue=2),i===null)return!0;o=wn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Sf(a.stateNode,o,e),tf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Sr===null||!Sr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Lp(h),zp(h,e,a,o),tf(a,h),!1}a=a.return}while(a!==null);return!1}var jp=Error(r(461)),Ne=!1;function Ue(e,i,a,o){i.child=e===null?Np(i,null,a,o):Ra(i,e.child,a,o)}function Bp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Is(i),o=af(e,i,a,v,d,h),T=of(),e!==null&&!Ne?(lf(e,i,h),xi(e,i,h)):(jt&&T&&qh(i),i.flags|=1,Ue(e,i,o,h),i.child)}function qp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!zh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hp(e,i,d,o,h)):(e=Tu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Of(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(v,o)&&e.ref===i.ref)return xi(e,i,h)}return i.flags|=1,e=Ii(d,o),e.ref=i.ref,e.return=i,i.child=e}function Hp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Mo(d,o)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=o=d,Of(e,h))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,xi(e,i,h)}return wf(e,i,a,o,h)}function Gp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Fp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):nf(),Op(i);else return i.lanes=i.childLanes=536870912,Fp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(bu(i,d.cachePool),Hg(i,d),yr(),i.memoizedState=null):(e!==null&&bu(i,null),nf(),yr());return Ue(e,i,h,a),i.child}function Fp(e,i,a,o){var h=$h();return h=h===null?null:{parent:be._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&bu(i,null),nf(),Op(i),e!==null&&Lo(e,i,o,!0),null}function qu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function wf(e,i,a,o,h){return Is(i),a=af(e,i,a,o,void 0,h),o=of(),e!==null&&!Ne?(lf(e,i,h),xi(e,i,h)):(jt&&o&&qh(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Qp(e,i,a,o,h,d){return Is(i),i.updateQueue=null,a=Fg(i,o,a,h),Gg(e),o=of(),e!==null&&!Ne?(lf(e,i,d),xi(e,i,d)):(jt&&o&&qh(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Kp(e,i,a,o,h){if(Is(i),i.stateNode===null){var d=pa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Fe(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Af,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Wh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Fe(v):pa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ef(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Af.enqueueReplaceState(d,d.state,null),Fo(i,o,d,h),Go(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var T=i.memoizedProps,w=Ns(a,T);d.props=w;var L=d.context,G=a.contextType;v=pa,typeof G=="object"&&G!==null&&(v=Fe(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||L!==v)&&Mp(i,d,o,v),fr=!1;var z=i.memoizedState;d.state=z,Fo(i,o,d,h),Go(),L=i.memoizedState,T||z!==L||fr?(typeof K=="function"&&(Ef(i,a,K,o),L=i.memoizedState),(w=fr||Vp(i,a,w,o,z,L,v))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Jh(e,i),v=i.memoizedProps,G=Ns(a,v),d.props=G,K=i.pendingProps,z=d.context,L=a.contextType,w=pa,typeof L=="object"&&L!==null&&(w=Fe(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==w)&&Mp(i,d,o,w),fr=!1,z=i.memoizedState,d.state=z,Fo(i,o,d,h),Go();var B=i.memoizedState;v!==K||z!==B||fr||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof T=="function"&&(Ef(i,a,T,o),B=i.memoizedState),(G=fr||Vp(i,a,G,o,z,B,w)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=w,o=G):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,qu(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Ra(i,e.child,null,h),i.child=Ra(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=xi(e,i,h),e}function Yp(e,i,a,o){return Po(),i.flags|=256,Ue(e,i,a,o),i.child}var bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:kg()}}function If(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Dn),e}function Xp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(h?pr(i):yr(),jt){var T=le,w;if(w=T){t:{for(w=T,T=ri;w.nodeType!==8;){if(!T){T=null;break t}if(w=Gn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(i.memoizedState={dehydrated:T,treeContext:As!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},w=fn(18,null,null,0),w.stateNode=T,w.return=i,i.child=w,en=i,le=null,w=!0):w=!1}w||bs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return cd(T)?i.lanes=32:i.lanes=536870912,null;Mi(i)}return T=o.children,o=o.fallback,h?(yr(),h=i.mode,T=Hu({mode:"hidden",children:T},h),o=Es(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,h=i.child,h.memoizedState=Rf(a),h.childLanes=If(e,v,a),i.memoizedState=bf,o):(pr(i),Cf(i,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)i.flags&256?(pr(i),i.flags&=-257,i=Df(e,i,a)):i.memoizedState!==null?(yr(),i.child=e.child,i.flags|=128,i=null):(yr(),h=o.fallback,T=i.mode,o=Hu({mode:"visible",children:o.children},T),h=Es(h,T,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Ra(i,e.child,null,a),o=i.child,o.memoizedState=Rf(a),o.childLanes=If(e,v,a),i.memoizedState=bf,i=h);else if(pr(i),cd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(r(419)),o.stack="",o.digest=v,Uo({value:o,source:null,stack:null}),i=Df(e,i,a)}else if(Ne||Lo(e,i,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:po(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,ga(e,o),yn(v,e,o),jp;T.data==="$?"||Kf(),i=Df(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,le=Gn(T.nextSibling),en=i,jt=!0,ws=null,ri=!1,e!==null&&(Rn[In++]=Ci,Rn[In++]=Di,Rn[In++]=As,Ci=e.id,Di=e.overflow,As=i),i=Cf(i,o.children),i.flags|=4096);return i}return h?(yr(),h=o.fallback,T=i.mode,w=e.child,L=w.sibling,o=Ii(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,L!==null?h=Ii(L,h):(h=Es(h,T,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,T=e.child.memoizedState,T===null?T=Rf(a):(w=T.cachePool,w!==null?(L=be._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=kg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=If(e,v,a),i.memoizedState=bf,o):(pr(i),a=e.child,e=a.sibling,a=Ii(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Cf(e,i){return i=Hu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Hu(e,i){return e=fn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Df(e,i,a){return Ra(i,e.child,null,a),e=Cf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function $p(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Qh(e.return,i,a)}function Nf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Zp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Ue(e,i,o.children,a),o=Re.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,a,i);else if(e.tag===19)$p(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(et(Re,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Nf(i,!0,a,null,d);break;case"together":Nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Lo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=Ii(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ii(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Of(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function aA(e,i,a){switch(i.tag){case 3:Ft(i,i.stateNode.containerInfo),hr(i,be,e.memoizedState.cache),Po();break;case 27:case 5:ho(i);break;case 4:Ft(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xp(e,i,a):(pr(i),e=xi(e,i,a),e!==null?e.sibling:null);pr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Lo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Zp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Re,Re.current),o)break;return null;case 22:case 23:return i.lanes=0,Gp(e,i,a);case 24:hr(i,be,e.memoizedState.cache)}return xi(e,i,a)}function Wp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Of(e,a)&&(i.flags&128)===0)return Ne=!1,aA(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(i.flags&1048576)!==0&&Cg(i,Au,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")zh(o)?(e=Ns(o,e),i.tag=1,i=Kp(null,i,o,e,a)):(i.tag=0,i=wf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===wt){i.tag=11,i=Bp(null,i,o,e,a);break t}else if(h===V){i.tag=14,i=qp(null,i,o,e,a);break t}}throw i=oe(o)||o,Error(r(306,i,""))}}return i;case 0:return wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ns(o,i.pendingProps),Kp(e,i,o,h,a);case 3:t:{if(Ft(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Jh(e,i),Fo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,hr(i,be,o),o!==d.cache&&Kh(i,[be],a,!0),Go(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Yp(e,i,o,a);break t}else if(o!==h){h=wn(Error(r(424)),i),Uo(h),i=Yp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Gn(e.firstChild),en=i,jt=!0,ws=null,ri=!0,a=Np(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Po(),o===h){i=xi(e,i,a);break t}Ue(e,i,o,a)}i=i.child}return i;case 26:return qu(e,i),e===null?(a=n_(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,o=ic(_t.current).createElement(a),o[he]=i,o[Pe]=e,ze(o,a,e),fe(o),i.stateNode=o):i.memoizedState=n_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ho(i),e===null&&jt&&(o=i.stateNode=Jy(i.type,i.pendingProps,_t.current),en=i,ri=!0,h=le,Rr(i.type)?(hd=h,le=Gn(o.firstChild)):le=h),Ue(e,i,i.pendingProps.children,a),qu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((h=o=le)&&(o=xA(o,i.type,i.pendingProps,ri),o!==null?(i.stateNode=o,en=i,le=Gn(o.firstChild),ri=!1,h=!0):h=!1),h||bs(i)),ho(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,od(h,d)?o=null:v!==null&&od(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=af(e,i,W0,null,null,a),dl._currentValue=h),qu(e,i),Ue(e,i,o,a),i.child;case 6:return e===null&&jt&&((e=a=le)&&(a=kA(a,i.pendingProps,ri),a!==null?(i.stateNode=a,en=i,le=null,e=!0):e=!1),e||bs(i)),null;case 13:return Xp(e,i,a);case 4:return Ft(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Ra(i,null,o,a):Ue(e,i,o,a),i.child;case 11:return Bp(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,hr(i,i.type,o.value),Ue(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Is(i),h=Fe(h),o=o(h),i.flags|=1,Ue(e,i,o,a),i.child;case 14:return qp(e,i,i.type,i.pendingProps,a);case 15:return Hp(e,i,i.type,i.pendingProps,a);case 19:return Zp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Hu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ii(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Gp(e,i,a);case 24:return Is(i),o=Fe(be),e===null?(h=$h(),h===null&&(h=Wt,d=Yh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Wh(i),hr(i,be,h)):((e.lanes&a)!==0&&(Jh(e,i),Fo(i,null,null,a),Go()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,be,o)):(o=d.cache,hr(i,be,o),o!==h.cache&&Kh(i,[be],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ki(e){e.flags|=4}function Jp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!o_(i)){if(i=Cn.current,i!==null&&((Pt&4194048)===Pt?si!==null:(Pt&62914560)!==Pt&&(Pt&536870912)===0||i!==si))throw qo=Zh,Pg;e.flags|=8192}}function Gu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Wi():536870912,e.lanes|=i,Na|=i)}function Wo(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function oA(e,i,a){var o=i.pendingProps;switch(Hh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Oi(be),xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ko(i)?ki(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Og())),se(i),null;case 26:return a=i.memoizedState,e===null?(ki(i),a!==null?(se(i),Jp(i,a)):(se(i),i.flags&=-16777217)):a?a!==e.memoizedState?(ki(i),se(i),Jp(i,a)):(se(i),i.flags&=-16777217):(e.memoizedProps!==o&&ki(i),se(i),i.flags&=-16777217),null;case 27:Xs(i),a=_t.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}e=ct.current,ko(i)?Dg(i):(e=Jy(h,o,a),i.stateNode=e,ki(i))}return se(i),null;case 5:if(Xs(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return se(i),null}if(e=ct.current,ko(i))Dg(i);else{switch(h=ic(_t.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[he]=i,e[Pe]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ki(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&ki(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=_t.current,ko(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=en,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[he]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Qy(e.nodeValue,a)),e||bs(i)}else e=ic(e).createTextNode(o),e[he]=i,i.stateNode=e}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ko(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[he]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),h=!1}else h=Og(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Mi(i),i):(Mi(i),null)}if(Mi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Gu(i,i.updateQueue),se(i),null;case 4:return xn(),e===null&&nd(i.stateNode.containerInfo),se(i),null;case 10:return Oi(i.type),se(i),null;case 19:if(it(Re),h=i.memoizedState,h===null)return se(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Wo(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=zu(e),d!==null){for(i.flags|=128,Wo(h,!1),e=d.updateQueue,i.updateQueue=e,Gu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ig(a,e),a=a.sibling;return et(Re,Re.current&1|2),i.child}e=e.sibling}h.tail!==null&&nn()>Ku&&(i.flags|=128,o=!0,Wo(h,!1),i.lanes=4194304)}else{if(!o)if(e=zu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Gu(i,e),Wo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!jt)return se(i),null}else 2*nn()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,o=!0,Wo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=nn(),i.sibling=null,e=Re.current,et(Re,o?e&1|2:e&1),i):(se(i),null);case 22:case 23:return Mi(i),rf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),a=i.updateQueue,a!==null&&Gu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&it(Cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Oi(be),se(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function lA(e,i){switch(Hh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Oi(be),xn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Xs(i),null;case 13:if(Mi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Po()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(Re),null;case 4:return xn(),null;case 10:return Oi(i.type),null;case 22:case 23:return Mi(i),rf(),e!==null&&it(Cs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Oi(be),null;case 25:return null;default:return null}}function ty(e,i){switch(Hh(i),i.tag){case 3:Oi(be),xn();break;case 26:case 27:case 5:Xs(i);break;case 4:xn();break;case 13:Mi(i);break;case 19:it(Re);break;case 10:Oi(i.type);break;case 22:case 23:Mi(i),rf(),e!==null&&it(Cs);break;case 24:Oi(be)}}function Jo(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$t(i,i.return,T)}}function _r(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var w=a,L=T;try{L()}catch(G){$t(h,w,G)}}}o=o.next}while(o!==d)}}catch(G){$t(i,i.return,G)}}function ey(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{qg(i,a)}catch(o){$t(e,e.return,o)}}}function ny(e,i,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function tl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ai(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function iy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Vf(e,i,a){try{var o=e.stateNode;DA(o,e.type,a,i),o[Pe]=i}catch(h){$t(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Rr(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Rr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=nc));else if(o!==4&&(o===27&&Rr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(xf(e,i,a),e=e.sibling;e!==null;)xf(e,i,a),e=e.sibling}function Fu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Rr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Fu(e,i,a),e=e.sibling;e!==null;)Fu(e,i,a),e=e.sibling}function sy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);ze(i,o,a),i[he]=e,i[Pe]=a}catch(d){$t(e,e.return,d)}}var Pi=!1,ge=!1,kf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function uA(e,i){if(e=e.containerInfo,sd=uc,e=yg(e),Vh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,L=0,G=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(T=v+h),K!==d||o!==0&&K.nodeType!==3||(w=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(T=v),z===d&&++G===o&&(w=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:e,selectionRange:a},uc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var vt=Ns(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(vt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)ud(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function oy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:vr(e,a),o&4&&Jo(5,a);break;case 1:if(vr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Ns(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&ey(a),o&512&&tl(a,a.return);break;case 3:if(vr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&sy(a);case 26:case 5:vr(e,a),i===null&&o&4&&iy(a),o&512&&tl(a,a.return);break;case 12:vr(e,a);break;case 13:vr(e,a),o&4&&cy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_A.bind(null,a),PA(e,a))));break;case 22:if(o=a.memoizedState!==null||Pi,!o){i=i!==null&&i.memoizedState!==null||ge,h=Pi;var d=ge;Pi=o,(ge=i)&&!d?Tr(e,a,(a.subtreeFlags&8772)!==0):vr(e,a),Pi=h,ge=d}break;case 30:break;default:vr(e,a)}}function ly(e){var i=e.alternate;i!==null&&(e.alternate=null,ly(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ta(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,sn=!1;function Ui(e,i,a){for(a=a.child;a!==null;)uy(e,i,a),a=a.sibling}function uy(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Xi,a)}catch{}switch(a.tag){case 26:ge||ai(a,i),Ui(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||ai(a,i);var o=ie,h=sn;Rr(a.type)&&(ie=a.stateNode,sn=!1),Ui(e,i,a),ul(a.stateNode),ie=o,sn=h;break;case 5:ge||ai(a,i);case 6:if(o=ie,h=sn,ie=null,Ui(e,i,a),ie=o,sn=h,ie!==null)if(sn)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ie.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ie!==null&&(sn?(e=ie,Zy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),yl(e)):Zy(ie,a.stateNode));break;case 4:o=ie,h=sn,ie=a.stateNode.containerInfo,sn=!0,Ui(e,i,a),ie=o,sn=h;break;case 0:case 11:case 14:case 15:ge||_r(2,a,i),ge||_r(4,a,i),Ui(e,i,a);break;case 1:ge||(ai(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ny(a,i,o)),Ui(e,i,a);break;case 21:Ui(e,i,a);break;case 22:ge=(o=ge)||a.memoizedState!==null,Ui(e,i,a),ge=o;break;default:Ui(e,i,a)}}function cy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yl(e)}catch(a){$t(i,i.return,a)}}function cA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ay),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ay),i;default:throw Error(r(435,e.tag))}}function Pf(e,i){var a=cA(e);i.forEach(function(o){var h=vA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function dn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Rr(T.type)){ie=T.stateNode,sn=!1;break t}break;case 5:ie=T.stateNode,sn=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,sn=!0;break t}T=T.return}if(ie===null)throw Error(r(160));uy(d,v,h),ie=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hy(i,e),i=i.sibling}var Hn=null;function hy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(i,e),mn(e),o&4&&(_r(3,e,e.return),Jo(3,e),_r(5,e,e.return));break;case 1:dn(i,e),mn(e),o&512&&(ge||a===null||ai(a,a.return)),o&64&&Pi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Hn;if(dn(i,e),mn(e),o&512&&(ge||a===null||ai(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[er]||d[he]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),ze(d,o,a),d[he]=e,fe(d),o=d;break t;case"link":var v=s_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;case"meta":if(v=s_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=h.createElement(o),ze(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[he]=e,fe(d),o=d}e.stateNode=o}else a_(h,e.type,e.stateNode);else e.stateNode=r_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?a_(h,e.type,e.stateNode):r_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,a.memoizedProps)}break;case 27:dn(i,e),mn(e),o&512&&(ge||a===null||ai(a,a.return)),a!==null&&o&4&&Vf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,e),mn(e),o&512&&(ge||a===null||ai(a,a.return)),e.flags&32){h=e.stateNode;try{An(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(dn(i,e),mn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(ac=null,h=Hn,Hn=rc(i.containerInfo),dn(i,e),Hn=h,mn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{yl(i.containerInfo)}catch(B){$t(e,e.return,B)}kf&&(kf=!1,fy(e));break;case 4:o=Hn,Hn=rc(e.stateNode.containerInfo),dn(i,e),mn(e),Hn=o;break;case 12:dn(i,e),mn(e);break;case 13:dn(i,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qf=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pf(e,o)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,L=Pi,G=ge;if(Pi=L||h,ge=G||w,dn(i,e),ge=G,Pi=L,mn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||w||Pi||ge||Os(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){w=a=i;try{if(d=w.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var K=w.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(w,w.return,B)}}}else if(i.tag===6){if(a===null){w=i;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(B){$t(w,w.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Pf(e,a))));break;case 19:dn(i,e),mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pf(e,o)));break;case 30:break;case 21:break;default:dn(i,e),mn(e)}}function mn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ry(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Mf(e);Fu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var T=Mf(e);Fu(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,L=Mf(e);xf(e,L,w);break;default:throw Error(r(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oy(e,i.alternate,i),i=i.sibling}function Os(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Os(i);break;case 1:ai(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ny(i,i.return,a),Os(i);break;case 27:ul(i.stateNode);case 26:case 5:ai(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}e=e.sibling}}function Tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),Jo(4,d);break;case 1:if(Tr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Bg(w[h],T)}catch(L){$t(o,o.return,L)}}a&&v&64&&ey(d),tl(d,d.return);break;case 27:sy(d);case 26:case 5:Tr(h,d,a),a&&o===null&&v&4&&iy(d),tl(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&cy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),tl(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function Uf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function Lf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e))}function oi(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dy(e,i,a,o),i=i.sibling}function dy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:oi(e,i,a,o),h&2048&&Jo(9,i);break;case 1:oi(e,i,a,o);break;case 3:oi(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){oi(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(i,i.return,w)}}else oi(e,i,a,o);break;case 13:oi(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?oi(e,i,a,o):el(e,i):d._visibility&2?oi(e,i,a,o):(d._visibility|=2,Ia(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Uf(v,i);break;case 24:oi(e,i,a,o),h&2048&&Lf(i.alternate,i);break;default:oi(e,i,a,o)}}function Ia(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,T=a,w=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ia(d,v,T,w,h),Jo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Ia(d,v,T,w,h):el(d,v):(G._visibility|=2,Ia(d,v,T,w,h)),h&&L&2048&&Uf(v.alternate,v);break;case 24:Ia(d,v,T,w,h),h&&L&2048&&Lf(v.alternate,v);break;default:Ia(d,v,T,w,h)}i=i.sibling}}function el(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:el(a,o),h&2048&&Uf(o.alternate,o);break;case 24:el(a,o),h&2048&&Lf(o.alternate,o);break;default:el(a,o)}i=i.sibling}}var nl=8192;function Ca(e){if(e.subtreeFlags&nl)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 26:Ca(e),e.flags&nl&&e.memoizedState!==null&&XA(Hn,e.memoizedState,e.memoizedProps);break;case 5:Ca(e);break;case 3:case 4:var i=Hn;Hn=rc(e.stateNode.containerInfo),Ca(e),Hn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,Ca(e),nl=i):Ca(e));break;default:Ca(e)}}function gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,yy(o,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:il(e),e.flags&2048&&_r(9,e,e.return);break;case 3:il(e);break;case 12:il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Qu(e)):il(e);break;default:il(e)}}function Qu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,yy(o,e)}gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:_r(8,i,i.return),Qu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Qu(i));break;default:Qu(i)}e=e.sibling}}function yy(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(ly(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var hA={getCacheForType:function(e){var i=Fe(be),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},fA=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,Ct=null,Pt=0,Gt=0,gn=null,Er=!1,Da=!1,zf=!1,Li=0,ue=0,Ar=0,Vs=0,jf=0,Dn=0,Na=0,rl=null,an=null,Bf=!1,qf=0,Ku=1/0,Yu=null,Sr=null,Le=0,wr=null,Oa=null,Va=0,Hf=0,Gf=null,_y=null,sl=0,Ff=null;function pn(){if((Ht&2)!==0&&Pt!==0)return Pt&-Pt;if(H.T!==null){var e=va;return e!==0?e:Wf()}return Ti()}function vy(){Dn===0&&(Dn=(Pt&536870912)===0||jt?go():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function yn(e,i,a){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),br(e,Pt,Dn,!1)),ce(e,a),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Vs|=a),ue===4&&br(e,Pt,Dn,!1)),li(e))}function Ty(e,i,a){if((Ht&6)!==0)throw Error(r(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Zi(e,i),h=o?gA(e,i):Yf(e,i,!0),d=o;do{if(h===0){Da&&!o&&br(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!dA(a)){h=Yf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var T=e;h=rl;var w=T.current.memoizedState.isDehydrated;if(w&&(Ma(T,v).flags|=256),v=Yf(T,v,!1),v!==2){if(zf&&!w){T.errorRecoveryDisabledLanes|=d,Vs|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ma(e,0),br(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:br(o,i,Dn,!Er);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=qf+300-nn(),10<h)){if(br(o,i,Dn,!Er),Tn(o,0,!0)!==0)break t;o.timeoutHandle=Xy(Ey.bind(null,o,a,an,Yu,Bf,i,Dn,Vs,Na,Er,d,2,-0,0),h);break t}Ey(o,a,an,Yu,Bf,i,Dn,Vs,Na,Er,d,0,-0,0)}}break}while(!0);li(e)}function Ey(e,i,a,o,h,d,v,T,w,L,G,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:YA},my(i),K=$A(),K!==null)){e.cancelPendingCommit=K(Cy.bind(null,e,i,d,a,o,h,v,T,w,G,1,z,B)),br(e,d,v,!L);return}Cy(e,i,d,a,o,h,v,T,w)}function dA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function br(e,i,a,o){i&=~jf,i&=~Vs,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-Ze(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&Ji(e,a,i)}function Xu(){return(Ht&6)===0?(al(0),!1):!0}function Qf(){if(Ct!==null){if(Gt===0)var e=Ct.return;else e=Ct,Ni=Rs=null,uf(e),ba=null,$o=0,e=Ct;for(;e!==null;)ty(e.alternate,e),e=e.return;Ct=null}}function Ma(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,OA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qf(),Wt=e,Ct=a=Ii(e.current,null),Pt=i,Gt=0,gn=null,Er=!1,Da=Zi(e,i),zf=!1,Na=Dn=jf=Vs=Ar=ue=0,an=rl=null,Bf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Ze(o),d=1<<h;i|=e[h],o&=~d}return Li=i,yu(),a}function Ay(e,i){Rt=null,H.H=Pu,i===Bo||i===Ru?(i=zg(),Gt=3):i===Pg?(i=zg(),Gt=4):Gt=i===jp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ct===null&&(ue=1,Bu(e,wn(i,e.current)))}function Sy(){var e=H.H;return H.H=Pu,e===null?Pu:e}function wy(){var e=H.A;return H.A=hA,e}function Kf(){ue=4,Er||(Pt&4194048)!==Pt&&Cn.current!==null||(Da=!0),(Ar&134217727)===0&&(Vs&134217727)===0||Wt===null||br(Wt,Pt,Dn,!1)}function Yf(e,i,a){var o=Ht;Ht|=2;var h=Sy(),d=wy();(Wt!==e||Pt!==i)&&(Yu=null,Ma(e,i)),i=!1;var v=ue;t:do try{if(Gt!==0&&Ct!==null){var T=Ct,w=gn;switch(Gt){case 8:Qf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var L=Gt;if(Gt=0,gn=null,xa(e,T,w,L),a&&Da){v=0;break t}break;default:L=Gt,Gt=0,gn=null,xa(e,T,w,L)}}mA(),v=ue;break}catch(G){Ay(e,G)}while(!0);return i&&e.shellSuspendCounter++,Ni=Rs=null,Ht=o,H.H=h,H.A=d,Ct===null&&(Wt=null,Pt=0,yu()),v}function mA(){for(;Ct!==null;)by(Ct)}function gA(e,i){var a=Ht;Ht|=2;var o=Sy(),h=wy();Wt!==e||Pt!==i?(Yu=null,Ku=nn()+500,Ma(e,i)):Da=Zi(e,i);t:do try{if(Gt!==0&&Ct!==null){i=Ct;var d=gn;e:switch(Gt){case 1:Gt=0,gn=null,xa(e,i,d,1);break;case 2:case 9:if(Ug(d)){Gt=0,gn=null,Ry(i);break}i=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),li(e)},d.then(i,i);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Ug(d)?(Gt=0,gn=null,Ry(i)):(Gt=0,gn=null,xa(e,i,d,7));break;case 5:var v=null;switch(Ct.tag){case 26:v=Ct.memoizedState;case 5:case 27:var T=Ct;if(!v||o_(v)){Gt=0,gn=null;var w=T.sibling;if(w!==null)Ct=w;else{var L=T.return;L!==null?(Ct=L,$u(L)):Ct=null}break e}}Gt=0,gn=null,xa(e,i,d,5);break;case 6:Gt=0,gn=null,xa(e,i,d,6);break;case 8:Qf(),ue=6;break t;default:throw Error(r(462))}}pA();break}catch(G){Ay(e,G)}while(!0);return Ni=Rs=null,H.H=o,H.A=h,Ht=a,Ct!==null?0:(Wt=null,Pt=0,yu(),ue)}function pA(){for(;Ct!==null&&!Eh();)by(Ct)}function by(e){var i=Wp(e.alternate,e,Li);e.memoizedProps=e.pendingProps,i===null?$u(e):Ct=i}function Ry(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Qp(a,i,i.pendingProps,i.type,void 0,Pt);break;case 11:i=Qp(a,i,i.pendingProps,i.type.render,i.ref,Pt);break;case 5:uf(i);default:ty(a,i),i=Ct=Ig(i,Li),i=Wp(a,i,Li)}e.memoizedProps=e.pendingProps,i===null?$u(e):Ct=i}function xa(e,i,a,o){Ni=Rs=null,uf(i),ba=null,$o=0;var h=i.return;try{if(sA(e,h,i,a,Pt)){ue=1,Bu(e,wn(a,e.current)),Ct=null;return}}catch(d){if(h!==null)throw Ct=h,d;ue=1,Bu(e,wn(a,e.current)),Ct=null;return}i.flags&32768?(jt||o===1?e=!0:Da||(Pt&536870912)!==0?e=!1:(Er=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(i,e)):$u(i)}function $u(e){var i=e;do{if((i.flags&32768)!==0){Iy(i,Er);return}e=i.return;var a=oA(i.alternate,i,Li);if(a!==null){Ct=a;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=e}while(i!==null);ue===0&&(ue=5)}function Iy(e,i){do{var a=lA(e.alternate,e);if(a!==null){a.flags&=32767,Ct=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=a}while(e!==null);ue=6,Ct=null}function Cy(e,i,a,o,h,d,v,T,w){e.cancelPendingCommit=null;do Zu();while(Le!==0);if((Ht&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Uh,tu(e,a,d,v,T,w),e===Wt&&(Ct=Wt=null,Pt=0),Oa=i,wr=e,Va=a,Hf=d,Gf=h,_y=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,TA(vi,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,v=Ht,Ht|=4;try{uA(e,i,a)}finally{Ht=v,nt.p=h,H.T=o}}Le=1,Dy(),Ny(),Oy()}}function Dy(){if(Le===1){Le=0;var e=wr,i=Oa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{hy(i,e);var d=ad,v=yg(e.containerInfo),T=d.focusedElem,w=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&pg(T.ownerDocument.documentElement,T)){if(w!==null&&Vh(T)){var L=w.start,G=w.end;if(G===void 0&&(G=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),vt=T.textContent.length,gt=Math.min(w.start,vt),Xt=w.end===void 0?gt:Math.min(w.end,vt);!B.extend&&gt>Xt&&(v=Xt,Xt=gt,gt=v);var x=gg(T,gt),N=gg(T,Xt);if(x&&N&&(B.rangeCount!==1||B.anchorNode!==x.node||B.anchorOffset!==x.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var P=K.createRange();P.setStart(x.node,x.offset),B.removeAllRanges(),gt>Xt?(B.addRange(P),B.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),B.addRange(P))}}}}for(K=[],B=T;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var F=K[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}uc=!!sd,ad=sd=null}finally{Ht=h,nt.p=o,H.T=a}}e.current=i,Le=2}}function Ny(){if(Le===2){Le=0;var e=wr,i=Oa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Ht;Ht|=4;try{oy(e,i.alternate,i)}finally{Ht=h,nt.p=o,H.T=a}}Le=3}}function Oy(){if(Le===4||Le===3){Le=0,fo();var e=wr,i=Oa,a=Va,o=_y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Oa=wr=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Sr=null),yo(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Xi,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{H.T=i,nt.p=h}}(Va&3)!==0&&Zu(),li(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Ff?sl++:(sl=0,Ff=e):sl=0,al(0)}}function Vy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,zo(i)))}function Zu(e){return Dy(),Ny(),Oy(),My()}function My(){if(Le!==5)return!1;var e=wr,i=Hf;Hf=0;var a=yo(Va),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Gf,Gf=null;var d=wr,v=Va;if(Le=0,Oa=wr=null,Va=0,(Ht&6)!==0)throw Error(r(331));var T=Ht;if(Ht|=4,py(d.current),dy(d,d.current,v,a),Ht=T,al(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Xi,d)}catch{}return!0}finally{nt.p=h,H.T=o,Vy(e,i)}}function xy(e,i,a){i=wn(a,i),i=Sf(e.stateNode,i,2),e=mr(e,i,2),e!==null&&(ce(e,2),li(e))}function $t(e,i,a){if(e.tag===3)xy(e,e,a);else for(;i!==null;){if(i.tag===3){xy(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sr===null||!Sr.has(o))){e=wn(a,e),a=Lp(2),o=mr(i,a,2),o!==null&&(zp(a,o,i,e),ce(o,2),li(o));break}}i=i.return}}function Xf(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new fA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(zf=!0,h.add(a),e=yA.bind(null,e,i,a),i.then(e,e))}function yA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(Pt&a)===a&&(ue===4||ue===3&&(Pt&62914560)===Pt&&300>nn()-qf?(Ht&2)===0&&Ma(e,0):jf|=a,Na===Pt&&(Na=0)),li(e)}function ky(e,i){i===0&&(i=Wi()),e=ga(e,i),e!==null&&(ce(e,i),li(e))}function _A(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),ky(e,a)}function vA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),ky(e,a)}function TA(e,i){return Zr(e,i)}var Wu=null,ka=null,$f=!1,Ju=!1,Zf=!1,Ms=0;function li(e){e!==ka&&e.next===null&&(ka===null?Wu=ka=e:ka=ka.next=e),Ju=!0,$f||($f=!0,AA())}function al(e,i){if(!Zf&&Ju){Zf=!0;do for(var a=!1,o=Wu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,zy(o,d))}else d=Pt,d=Tn(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Zi(o,d)||(a=!0,zy(o,d));o=o.next}while(a);Zf=!1}}function EA(){Py()}function Py(){Ju=$f=!1;var e=0;Ms!==0&&(NA()&&(e=Ms),Ms=0);for(var i=nn(),a=null,o=Wu;o!==null;){var h=o.next,d=Uy(o,i);d===0?(o.next=null,a===null?Wu=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(d&3)!==0)&&(Ju=!0)),o=h}al(e)}function Uy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ze(d),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&o)!==0)&&(h[v]=Ws(T,i)):w<=i&&(e.expiredLanes|=T),d&=~T}if(i=Wt,a=Pt,a=Tn(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Zs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Zi(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Zs(o),yo(a)){case 2:case 8:a=Ce;break;case 32:a=vi;break;case 268435456:a=mo;break;default:a=vi}return o=Ly.bind(null,e),a=Zr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Zs(o),e.callbackPriority=2,e.callbackNode=null,2}function Ly(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zu()&&e.callbackNode!==a)return null;var o=Pt;return o=Tn(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ty(e,o,i),Uy(e,nn()),e.callbackNode!=null&&e.callbackNode===a?Ly.bind(null,e):null)}function zy(e,i){if(Zu())return null;Ty(e,i,!0)}function AA(){VA(function(){(Ht&6)!==0?Zr(Se,EA):Py()})}function Wf(){return Ms===0&&(Ms=go()),Ms}function jy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ln(""+e)}function By(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function SA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=jy((h[Pe]||null).action),v=o.submitter;v&&(i=(i=v[Pe]||null)?jy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fs("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var w=v?By(h,v):new FormData(h);_f(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=v?By(h,v):new FormData(h),_f(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Jf=0;Jf<Ph.length;Jf++){var td=Ph[Jf],wA=td.toLowerCase(),bA=td[0].toUpperCase()+td.slice(1);qn(wA,"on"+bA)}qn(Tg,"onAnimationEnd"),qn(Eg,"onAnimationIteration"),qn(Ag,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(q0,"onTransitionRun"),qn(H0,"onTransitionStart"),qn(G0,"onTransitionCancel"),qn(Sg,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function qy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],w=T.instance,L=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=w}else for(v=0;v<o.length;v++){if(T=o[v],w=T.instance,L=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=L;try{d(h)}catch(G){ju(G)}h.currentTarget=null,d=w}}}}function Dt(e,i){var a=i[Jr];a===void 0&&(a=i[Jr]=new Set);var o=e+"__bubble";a.has(o)||(Hy(i,e,2,!1),a.add(o))}function ed(e,i,a){var o=0;i&&(o|=4),Hy(a,e,o,i)}var tc="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[tc]){e[tc]=!0,eu.forEach(function(a){a!=="selectionchange"&&(RA.has(a)||ed(a,!1,e),ed(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[tc]||(i[tc]=!0,ed("selectionchange",!1,i))}}function Hy(e,i,a,o){switch(d_(i)){case 2:var h=JA;break;case 8:h=tS;break;default:h=pd}a=h.bind(null,i,a,e),h=void 0,!bi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function id(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Zn(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=d=v;continue t}T=T.parentNode}}o=o.return}us(function(){var L=d,G=wo(a),K=[];t:{var z=wg.get(e);if(z!==void 0){var B=fs,vt=e;switch(e){case"keypress":if(cs(a)===0)break t;case"keydown":case"keyup":B=ha;break;case"focusin":vt="focus",B=la;break;case"focusout":vt="blur",B=la;break;case"beforeblur":case"afterblur":B=la;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=cr;break;case Tg:case Eg:case Ag:B=Ro;break;case Sg:B=m;break;case"scroll":case"scrollend":B=ms;break;case"wheel":B=A;break;case"copy":case"cut":case"paste":B=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Do;break;case"toggle":case"beforetoggle":B=q}var gt=(i&4)!==0,Xt=!gt&&(e==="scroll"||e==="scrollend"),x=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=L,P;N!==null;){var F=N;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=lr(N,x),F!=null&&gt.push(ll(N,F,P))),Xt)break;N=N.return}0<gt.length&&(z=new B(z,vt,null,a,G),K.push({event:z,listeners:gt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==So&&(vt=a.relatedTarget||a.fromElement)&&(Zn(vt)||vt[Ei]))break t;if((B||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,B?(vt=a.relatedTarget||a.toElement,B=L,vt=vt?Zn(vt):null,vt!==null&&(Xt=c(vt),gt=vt.tag,vt!==Xt||gt!==5&&gt!==27&&gt!==6)&&(vt=null)):(B=null,vt=L),B!==vt)){if(gt=ys,F="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Do,F="onPointerLeave",x="onPointerEnter",N="pointer"),Xt=B==null?z:nr(B),P=vt==null?z:nr(vt),z=new gt(F,N+"leave",B,a,G),z.target=Xt,z.relatedTarget=P,F=null,Zn(G)===L&&(gt=new gt(x,N+"enter",vt,a,G),gt.target=P,gt.relatedTarget=Xt,F=gt),Xt=F,B&&vt)e:{for(gt=B,x=vt,N=0,P=gt;P;P=Pa(P))N++;for(P=0,F=x;F;F=Pa(F))P++;for(;0<N-P;)gt=Pa(gt),N--;for(;0<P-N;)x=Pa(x),P--;for(;N--;){if(gt===x||x!==null&&gt===x.alternate)break e;gt=Pa(gt),x=Pa(x)}gt=null}else gt=null;B!==null&&Gy(K,z,B,gt,!1),vt!==null&&Xt!==null&&Gy(K,Xt,vt,gt,!0)}}t:{if(z=L?nr(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var at=ug;else if(og(z))if(cg)at=z0;else{at=U0;var It=P0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&sa(L.elementType)&&(at=ug):at=L0;if(at&&(at=at(e,L))){lg(K,at,a,G);break t}It&&It(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&To(z,"number",z.value)}switch(It=L?nr(L):window,e){case"focusin":(og(It)||It.contentEditable==="true")&&(fa=It,Mh=L,xo=null);break;case"focusout":xo=Mh=fa=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,_g(K,a,G);break;case"selectionchange":if(B0)break;case"keydown":case"keyup":_g(K,a,G)}var ut;if(At)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Bn?zn(e,a)&&(pt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(de&&a.locale!=="ko"&&(Bn||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Bn&&(ut=ou()):(Sn=G,Zt="value"in Sn?Sn.value:Sn.textContent,Bn=!0)),It=ec(L,pt),0<It.length&&(pt=new Co(pt,e,null,a,G),K.push({event:pt,listeners:It}),ut?pt.data=ut:(ut=jn(a),ut!==null&&(pt.data=ut)))),(ut=qt?No(e,a):M0(e,a))&&(pt=ec(L,"onBeforeInput"),0<pt.length&&(It=new Co("onBeforeInput","beforeinput",null,a,G),K.push({event:It,listeners:pt}),It.data=ut)),SA(K,e,L,a,G)}qy(K,i)})}function ll(e,i,a){return{instance:e,listener:i,currentTarget:a}}function ec(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=lr(e,a),h!=null&&o.unshift(ll(e,h,d)),h=lr(e,i),h!=null&&o.push(ll(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,w=T.alternate,L=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||L===null||(w=L,h?(L=lr(a,d),L!=null&&v.unshift(ll(a,L,w))):h||(L=lr(a,d),L!=null&&v.push(ll(a,L,w)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var IA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function Fy(e){return(typeof e=="string"?e:""+e).replace(IA,`
`).replace(CA,"")}function Qy(e,i){return i=Fy(i),Fy(e)===i}function nc(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||An(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&An(e,""+o);break;case"className":rs(e,"class",o);break;case"tabIndex":rs(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,a,o);break;case"style":Ao(e,o,d);break;case"data":if(i!=="object"){rs(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ln(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ln(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=nc);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ln(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),is(e,"popover",o);break;case"xlinkActuate":En(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":En(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":En(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":En(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":En(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":En(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":En(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":En(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":En(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":is(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ru.get(a)||a,is(e,a,o))}}function rd(e,i,a,o,h,d){switch(a){case"style":Ao(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?An(e,o):(typeof o=="number"||typeof o=="bigint")&&An(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!es.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):is(e,a,o)}}}function ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Dt("invalid",e);var T=d=v=h=null,w=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":w=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Yt(e,i,o,G,a,null)}}vo(e,d,T,w,L,v,h,!1),sr(e);return;case"select":Dt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Yt(e,i,h,T,a,null)}i=d,a=v,e.multiple=!!o,i!=null?ar(e,!!o,i,!1):a!=null&&ar(e,!!o,a,!0);return;case"textarea":Dt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Yt(e,i,v,T,a,null)}iu(e,o,h,d),sr(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,w,o,a,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<ol.length;o++)Dt(ol[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(sa(i)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&rd(e,i,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Yt(e,i,T,o,a,null))}function DA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,w=null,L=null,G=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=K;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":G=B;break;case"value":v=B;break;case"defaultValue":T=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:B!==K&&Yt(e,i,z,B,o,K)}}_o(e,v,T,w,L,G,d,h);return;case"select":B=v=T=z=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":B=w;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,w)}for(h in o)if(d=o[h],w=a[h],o.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":z=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==w&&Yt(e,i,h,d,o,w)}i=T,a=v,o=B,z!=null?ar(e,!!a,z,!1):!!o!=!!a&&(i!=null?ar(e,!!a,i,!0):ar(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}nu(e,z,B);return;case"option":for(var vt in a)if(z=a[vt],a.hasOwnProperty(vt)&&z!=null&&!o.hasOwnProperty(vt))switch(vt){case"selected":e.selected=!1;break;default:Yt(e,i,vt,null,o,z)}for(w in o)if(z=o[w],B=a[w],o.hasOwnProperty(w)&&z!==B&&(z!=null||B!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,w,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)z=a[gt],a.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Yt(e,i,gt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(sa(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&rd(e,i,Xt,void 0,o,z);for(G in o)z=o[G],B=a[G],!o.hasOwnProperty(G)||z===B||z===void 0&&B===void 0||rd(e,i,G,z,o,B);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,i,x,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,o,B)}var sd=null,ad=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function od(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ld=null;function NA(){var e=window.event;return e&&e.type==="popstate"?e===ld?!1:(ld=e,!0):(ld=null,!1)}var Xy=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(MA)}:Xy;function MA(e){setTimeout(function(){throw e})}function Rr(e){return e==="head"}function Zy(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&ul(v.documentElement),a&2&&ul(v.body),a&4)for(a=v.head,ul(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[er]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(d),yl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);yl(i)}function ud(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function xA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[er])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function kA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gn(e.nextSibling),e===null))return null;return e}function cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function PA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Gn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var hd=null;function Wy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Jy(e,i,a){switch(i=ic(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ta(e)}var Nn=new Map,t_=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zi=nt.d;nt.d={f:UA,r:LA,D:zA,C:jA,L:BA,m:qA,X:GA,S:HA,M:FA};function UA(){var e=zi.f(),i=Xu();return e||i}function LA(e){var i=Wn(e);i!==null&&i.tag===5&&i.type==="form"?Tp(i):zi.r(e)}var Ua=typeof document>"u"?null:document;function e_(e,i,a){var o=Ua;if(o&&typeof i=="string"&&i){var h=De(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),t_.has(h)||(t_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),ze(i,"link",e),fe(i),o.head.appendChild(i)))}}function zA(e){zi.D(e),e_("dns-prefetch",e,null)}function jA(e,i){zi.C(e,i),e_("preconnect",e,i)}function BA(e,i,a){zi.L(e,i,a);var o=Ua;if(o&&e&&i){var h='link[rel="preload"][as="'+De(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+De(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+De(a.imageSizes)+'"]')):h+='[href="'+De(e)+'"]';var d=h;switch(i){case"style":d=La(e);break;case"script":d=za(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(cl(d))||i==="script"&&o.querySelector(hl(d))||(i=o.createElement("link"),ze(i,"link",e),fe(i),o.head.appendChild(i)))}}function qA(e,i){zi.m(e,i);var a=Ua;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+De(o)+'"][href="'+De(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=za(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(d)))return}o=a.createElement("link"),ze(o,"link",e),fe(o),a.head.appendChild(o)}}}function HA(e,i,a){zi.S(e,i,a);var o=Ua;if(o&&e){var h=ir(o).hoistableStyles,d=La(e);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(cl(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&fd(e,a);var w=v=o.createElement("link");fe(w),ze(w,"link",e),w._p=new Promise(function(L,G){w.onload=L,w.onerror=G}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,sc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function GA(e,i){zi.X(e,i);var a=Ua;if(a&&e){var o=ir(a).hoistableScripts,h=za(e),d=o.get(h);d||(d=a.querySelector(hl(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&dd(e,i),d=a.createElement("script"),fe(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function FA(e,i){zi.M(e,i);var a=Ua;if(a&&e){var o=ir(a).hoistableScripts,h=za(e),d=o.get(h);d||(d=a.querySelector(hl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&dd(e,i),d=a.createElement("script"),fe(d),ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function n_(e,i,a,o){var h=(h=_t.current)?rc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=ir(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var d=ir(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(cl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||QA(h,e,a,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=za(a),a=ir(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+De(e)+'"'}function cl(e){return'link[rel="stylesheet"]['+e+"]"}function i_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function QA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),ze(i,"link",a),fe(i),e.head.appendChild(i))}function za(e){return'[src="'+De(e)+'"]'}function hl(e){return"script[async]"+e}function r_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+De(a.href)+'"]');if(o)return i.instance=o,fe(o),o;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),fe(o),ze(o,"style",h),sc(o,a.precedence,e),i.instance=o;case"stylesheet":h=La(a.href);var d=e.querySelector(cl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;o=i_(a),(h=Nn.get(h))&&fd(o,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var v=d;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(d,"link",o),i.state.loading|=4,sc(d,a.precedence,e),i.instance=d;case"script":return d=za(a.src),(h=e.querySelector(hl(d)))?(i.instance=h,fe(h),h):(o=a,(h=Nn.get(d))&&(o=E({},a),dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),ze(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,sc(o,a.precedence,e));return i.instance}function sc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function fd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ac=null;function s_(e,i,a){if(ac===null){var o=new Map,h=ac=new Map;h.set(a,o)}else h=ac,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[er]||d[he]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function a_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function KA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var fl=null;function YA(){}function XA(e,i,a){if(fl===null)throw Error(r(475));var o=fl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=e.querySelector(cl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=oc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=i_(a),(h=Nn.get(h))&&fd(a,h),d=d.createElement("link"),fe(d);var v=d;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=oc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function $A(){if(fl===null)throw Error(r(475));var e=fl;return e.stylesheets&&e.count===0&&md(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&md(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function oc(){if(this.count--,this.count===0){if(this.stylesheets)md(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var lc=null;function md(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,lc=new Map,i.forEach(ZA,e),lc=null,oc.call(e))}function ZA(e,i){if(!(i.state.loading&4)){var a=lc.get(e);if(a)var o=a.get(null);else{a=new Map,lc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=oc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var dl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function WA(e,i,a,o,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.hiddenUpdates=Js(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function l_(e,i,a,o,h,d,v,T,w,L,G,K){return e=new WA(e,i,a,v,T,w,L,K),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),e.current=d,d.stateNode=e,i=Yh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Wh(d),e}function u_(e){return e?(e=pa,e):pa}function c_(e,i,a,o,h,d){h=u_(h),o.context===null?o.context=h:o.pendingContext=h,o=dr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=mr(e,o,i),a!==null&&(yn(a,e,i),Ho(a,e,i))}function h_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function gd(e,i){h_(e,i),(e=e.alternate)&&h_(e,i)}function f_(e){if(e.tag===13){var i=ga(e,67108864);i!==null&&yn(i,e,67108864),gd(e,67108864)}}var uc=!0;function JA(e,i,a,o){var h=H.T;H.T=null;var d=nt.p;try{nt.p=2,pd(e,i,a,o)}finally{nt.p=d,H.T=h}}function tS(e,i,a,o){var h=H.T;H.T=null;var d=nt.p;try{nt.p=8,pd(e,i,a,o)}finally{nt.p=d,H.T=h}}function pd(e,i,a,o){if(uc){var h=yd(o);if(h===null)id(e,i,o,cc,a),m_(e,o);else if(nS(h,e,i,a,o))o.stopPropagation();else if(m_(e,o),i&4&&-1<eS.indexOf(e)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Ze(v);T.entanglements[1]|=w,v&=~w}li(d),(Ht&6)===0&&(Ku=nn()+500,al(0))}}break;case 13:T=ga(d,2),T!==null&&yn(T,d,2),Xu(),gd(d,2)}if(d=yd(o),d===null&&id(e,i,o,cc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else id(e,i,o,null,a)}}function yd(e){return e=wo(e),_d(e)}var cc=null;function _d(e){if(cc=null,e=Zn(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return cc=e,null}function d_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case Se:return 2;case Ce:return 8;case vi:case Ah:return 32;case mo:return 268435456;default:return 32}default:return 32}}var vd=!1,Ir=null,Cr=null,Dr=null,ml=new Map,gl=new Map,Nr=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m_(e,i){switch(e){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function pl(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&f_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function nS(e,i,a,o,h){switch(i){case"focusin":return Ir=pl(Ir,e,i,a,o,h),!0;case"dragenter":return Cr=pl(Cr,e,i,a,o,h),!0;case"mouseover":return Dr=pl(Dr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return ml.set(d,pl(ml.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,gl.set(d,pl(gl.get(d)||null,e,i,a,o,h)),!0}return!1}function g_(e){var i=Zn(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,bh(e.priority,function(){if(a.tag===13){var o=pn();o=po(o);var h=ga(a,o);h!==null&&yn(h,a,o),gd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);So=o,a.target.dispatchEvent(o),So=null}else return i=Wn(a),i!==null&&f_(i),e.blockedOn=a,!1;i.shift()}return!0}function p_(e,i,a){hc(e)&&a.delete(i)}function iS(){vd=!1,Ir!==null&&hc(Ir)&&(Ir=null),Cr!==null&&hc(Cr)&&(Cr=null),Dr!==null&&hc(Dr)&&(Dr=null),ml.forEach(p_),gl.forEach(p_)}function fc(e,i){e.blockedOn===i&&(e.blockedOn=null,vd||(vd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iS)))}var dc=null;function y_(e){dc!==e&&(dc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){dc===e&&(dc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(_d(o||a)===null)continue;break}var d=Wn(a);d!==null&&(e.splice(i,3),i-=3,_f(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function yl(e){function i(w){return fc(w,e)}Ir!==null&&fc(Ir,e),Cr!==null&&fc(Cr,e),Dr!==null&&fc(Dr,e),ml.forEach(i),gl.forEach(i);for(var a=0;a<Nr.length;a++){var o=Nr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&Nr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Pe]||null;if(typeof d=="function")v||y_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pe]||null)T=v.formAction;else if(_d(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),y_(a)}}}function Td(e){this._internalRoot=e}mc.prototype.render=Td.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=pn();c_(a,o,e,i,null,null)},mc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;c_(e.current,2,null,e,null,null),Xu(),i[Ei]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ti();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,e),a===0&&g_(e)}};var __=t.version;if(__!=="19.1.1")throw Error(r(527,__,"19.1.1"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var rS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{Xi=gc.inject(rS),He=gc}catch{}}return vl.createRoot=function(e,i){if(!l(e))throw Error(r(299));var a=!1,o="",h=xp,d=kp,v=Pp,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=l_(e,1,!1,null,null,a,o,h,d,v,T,null),e[Ei]=i.current,nd(e),new Td(i)},vl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=xp,v=kp,T=Pp,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=l_(e,1,!0,i,a??null,o,h,d,v,T,w,L),i.context=u_(null),a=i.current,o=pn(),o=po(o),h=dr(o),h.callback=null,mr(a,h,o),a=o,i.current.lanes=a,ce(i,a),li(i),e[Ei]=i.current,nd(e),new mc(i)},vl.version="19.1.1",vl}var C_;function mS(){if(C_)return Sd.exports;C_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sd.exports=dS(),Sd.exports}var gS=mS();const pS=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},yS=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],f=s[n++],g=s[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const c=s[n++],f=s[n++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,j=y&63;p||(j=64,f||(O=64)),r.push(n[E],n[b],n[O],n[j])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(aT(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):yS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||b==null)throw new _S;const O=c<<2|g>>4;if(r.push(O),y!==64){const j=g<<4&240|y>>2;if(r.push(j),b!==64){const X=y<<6&192|b;r.push(X)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(s){const t=aT(s);return oT.encodeByteArray(t,!0)},Mc=function(s){return vS(s).replace(/\./g,"")},lT=function(s){try{return oT.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=()=>TS().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof D_>"u")return;const s=D_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},SS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&lT(s[1]);return t&&JSON.parse(t)},Wc=()=>{try{return pS()||ES()||AS()||SS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},uT=s=>Wc()?.emulatorHosts?.[s],wS=s=>{const t=uT(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},cT=()=>Wc()?.config,hT=s=>Wc()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mc(JSON.stringify(n)),Mc(JSON.stringify(f)),""].join(".")}const wl={};function IS(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function CS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let N_=!1;function dT(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||wl[s]===t||wl[s]||N_)return;wl[s]=t;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",c=IS().prod.length>0;function f(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function p(O,j){O.setAttribute("width","24"),O.setAttribute("id",j),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{N_=!0,f()},O}function E(O,j){O.setAttribute("id",j),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function b(){const O=CS(r),j=n("text"),X=document.getElementById(j)||document.createElement("span"),J=n("learnmore"),$=document.getElementById(J)||document.createElement("a"),ot=n("preprendIcon"),mt=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const lt=O.element;g(lt),E($,J);const wt=y();p(mt,ot),lt.append(mt,X,$,wt),document.body.appendChild(lt)}c?(X.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function NS(){const s=Wc()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xS(){const s=$e();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kS(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class Yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=LS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?zS(c,r):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Yi(l,g,r)}}function zS(s,t){return s.replace(jS,(n,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const jS=/\{\$([^}]+)}/g;function BS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function js(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const l of n){if(!r.includes(l))return!1;const c=s[l],f=t[l];if(O_(c)&&O_(f)){if(!js(c,f))return!1}else if(c!==f)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function O_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function qS(s,t){const n=new HS(s,t);return n.subscribe.bind(n)}class HS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let l;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:r},l.next===void 0&&(l.next=Id),l.error===void 0&&(l.error=Id),l.complete===void 0&&(l.complete=Id);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Id(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(s){return s&&s._delegate?s._delegate:s}class Bs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new bS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KS(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&f.resolve(l)}return l}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(s){return s===xs?void 0:s}function KS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new FS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const XS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},$S=Vt.INFO,ZS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},WS=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dm{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const JS=(s,t)=>t.some(n=>s instanceof n);let V_,M_;function tw(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ew(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,zd=new WeakMap,gT=new WeakMap,Cd=new WeakMap,mm=new WeakMap;function nw(s){const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Lr(s.result)),l()},f=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&mT.set(n,s)}).catch(()=>{}),mm.set(t,s),t}function iw(s){if(zd.has(s))return;const t=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});zd.set(s,t)}let jd={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return zd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||gT.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function rw(s){jd=s(jd)}function sw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Dd(this),t,...n);return gT.set(r,t.sort?t.sort():[t]),Lr(r)}:ew().includes(s)?function(...t){return s.apply(Dd(this),t),Lr(mT.get(this))}:function(...t){return Lr(s.apply(Dd(this),t))}}function aw(s){return typeof s=="function"?sw(s):(s instanceof IDBTransaction&&iw(s),JS(s,tw())?new Proxy(s,jd):s)}function Lr(s){if(s instanceof IDBRequest)return nw(s);if(Cd.has(s))return Cd.get(s);const t=aw(s);return t!==s&&(Cd.set(s,t),mm.set(t,s)),t}const Dd=s=>mm.get(s);function ow(s,t,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const f=indexedDB.open(s,t),g=Lr(f);return r&&f.addEventListener("upgradeneeded",p=>{r(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const lw=["get","getKey","getAll","getAllKeys","count"],uw=["put","add","delete","clear"],Nd=new Map;function x_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,l=uw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||lw.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Nd.set(t,c),c}rw(s=>({...s,get:(t,n,r)=>x_(t,n)||s.get(t,n,r),has:(t,n)=>!!x_(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hw(s){return s.getComponent()?.type==="VERSION"}const Bd="@firebase/app",k_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new dm("@firebase/app"),fw="@firebase/app-compat",dw="@firebase/analytics-compat",mw="@firebase/analytics",gw="@firebase/app-check-compat",pw="@firebase/app-check",yw="@firebase/auth",_w="@firebase/auth-compat",vw="@firebase/database",Tw="@firebase/data-connect",Ew="@firebase/database-compat",Aw="@firebase/functions",Sw="@firebase/functions-compat",ww="@firebase/installations",bw="@firebase/installations-compat",Rw="@firebase/messaging",Iw="@firebase/messaging-compat",Cw="@firebase/performance",Dw="@firebase/performance-compat",Nw="@firebase/remote-config",Ow="@firebase/remote-config-compat",Vw="@firebase/storage",Mw="@firebase/storage-compat",xw="@firebase/firestore",kw="@firebase/ai",Pw="@firebase/firestore-compat",Uw="firebase",Lw="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",zw={[Bd]:"fire-core",[fw]:"fire-core-compat",[mw]:"fire-analytics",[dw]:"fire-analytics-compat",[pw]:"fire-app-check",[gw]:"fire-app-check-compat",[yw]:"fire-auth",[_w]:"fire-auth-compat",[vw]:"fire-rtdb",[Tw]:"fire-data-connect",[Ew]:"fire-rtdb-compat",[Aw]:"fire-fn",[Sw]:"fire-fn-compat",[ww]:"fire-iid",[bw]:"fire-iid-compat",[Rw]:"fire-fcm",[Iw]:"fire-fcm-compat",[Cw]:"fire-perf",[Dw]:"fire-perf-compat",[Nw]:"fire-rc",[Ow]:"fire-rc-compat",[Vw]:"fire-gcs",[Mw]:"fire-gcs-compat",[xw]:"fire-fst",[Pw]:"fire-fst-compat",[kw]:"fire-vertex","fire-js":"fire-js",[Uw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,jw=new Map,Hd=new Map;function P_(s,t){try{s.container.addComponent(t)}catch(n){Gi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Xa(s){const t=s.name;if(Hd.has(t))return Gi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,s);for(const n of xc.values())P_(n,s);for(const n of jw.values())P_(n,s);return!0}function gm(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function Fn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new jl("app","Firebase",Bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=Lw;function pT(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:qd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw zr.create("bad-app-name",{appName:String(l)});if(n||(n=cT()),!n)throw zr.create("no-options");const c=xc.get(l);if(c){if(js(n,c.options)&&js(r,c.config))return c;throw zr.create("duplicate-app",{appName:l})}const f=new YS(l);for(const p of Hd.values())f.addComponent(p);const g=new qw(n,r,f);return xc.set(l,g),g}function yT(s=qd){const t=xc.get(s);if(!t&&s===qd&&cT())return pT();if(!t)throw zr.create("no-app",{appName:s});return t}function jr(s,t,n){let r=zw[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${r}" with version "${t}":`];l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Gi.warn(f.join(" "));return}Xa(new Bs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="firebase-heartbeat-database",Gw=1,Nl="firebase-heartbeat-store";let Od=null;function _T(){return Od||(Od=ow(Hw,Gw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Nl)}catch(n){console.warn(n)}}}}).catch(s=>{throw zr.create("idb-open",{originalErrorMessage:s.message})})),Od}async function Fw(s){try{const n=(await _T()).transaction(Nl),r=await n.objectStore(Nl).get(vT(s));return await n.done,r}catch(t){if(t instanceof Yi)Gi.warn(t.message);else{const n=zr.create("idb-get",{originalErrorMessage:t?.message});Gi.warn(n.message)}}}async function U_(s,t){try{const r=(await _T()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(t,vT(s)),await r.done}catch(n){if(n instanceof Yi)Gi.warn(n.message);else{const r=zr.create("idb-set",{originalErrorMessage:n?.message});Gi.warn(r.message)}}}function vT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=1024,Kw=30;class Yw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $w(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=L_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>Kw){const l=Zw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Gi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:n,unsentEntries:r}=Xw(this._heartbeatsCache.heartbeats),l=Mc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Gi.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function Xw(s,t=Qw){const n=[];let r=s.slice();for(const l of s){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),z_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),z_(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $w{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Fw(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function z_(s){return Mc(JSON.stringify({version:2,heartbeats:s})).length}function Zw(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(s){Xa(new Bs("platform-logger",t=>new cw(t),"PRIVATE")),Xa(new Bs("heartbeat",t=>new Yw(t),"PRIVATE")),jr(Bd,k_,s),jr(Bd,k_,"esm2020"),jr("fire-js","")}Ww("");function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Jw=TT,ET=new jl("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kc=new dm("@firebase/auth");function tb(s,...t){kc.logLevel<=Vt.WARN&&kc.warn(`Auth (${ro}): ${s}`,...t)}function Ac(s,...t){kc.logLevel<=Vt.ERROR&&kc.error(`Auth (${ro}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(s,...t){throw ym(s,...t)}function Kn(s,...t){return ym(s,...t)}function pm(s,t,n){const r={...Jw(),[t]:n};return new jl("auth","Firebase",r).create(t,{appName:s.name})}function Us(s){return pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eb(s,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&yi(s,"argument-error"),pm(s,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return ET.create(s,...t)}function Tt(s,t,...n){if(!s)throw ym(t,...n)}function qi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ac(t),new Error(t)}function Fi(s,t){s||qi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(){return typeof self<"u"&&self.location?.href||""}function nb(){return j_()==="http:"||j_()==="https:"}function j_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nb()||VS()||"connection"in navigator)?navigator.onLine:!0}function rb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,n){this.shortDelay=t,this.longDelay=n,Fi(n>t,"Short delay should be less than long delay!"),this.isMobile=DS()||MS()}get(){return ib()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(s,t){Fi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ob=new ql(3e4,6e4);function vm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function so(s,t,n,r,l={}){return ST(s,l,async()=>{let c={},f={};r&&(t==="GET"?f=r:c={body:JSON.stringify(r)});const g=Bl({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:p,...c};return OS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(y.credentials="include"),AT.fetch()(await wT(s,s.config.apiHost,n,g),y)})}async function ST(s,t,n){s._canInitEmulator=!1;const r={...sb,...t};try{const l=new ub(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw pc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw pc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw pc(s,"user-disabled",f);const E=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pm(s,E,y);yi(s,E)}}catch(l){if(l instanceof Yi)throw l;yi(s,"network-request-failed",{message:String(l)})}}async function lb(s,t,n,r,l={}){const c=await so(s,t,n,r,l);return"mfaPendingCredential"in c&&yi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function wT(s,t,n,r){const l=`${t}${n}?${r}`,c=s,f=c.config.emulator?_m(s.config,l):`${s.config.apiScheme}://${l}`;return ab.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class ub{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),ob.get())})}}function pc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Kn(s,t,r);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(s,t){return so(s,"POST","/v1/accounts:delete",t)}async function Pc(s,t){return so(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function hb(s,t=!1){const n=xe(s),r=await n.getIdToken(t),l=Tm(r);Tt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c?.sign_in_provider;return{claims:l,token:r,authTime:bl(Vd(l.auth_time)),issuedAtTime:bl(Vd(l.iat)),expirationTime:bl(Vd(l.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Vd(s){return Number(s)*1e3}function Tm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=lT(n);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function B_(s){const t=Tm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Yi&&fb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function fb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(s){const t=s.auth,n=await s.getIdToken(),r=await Ol(s,Pc(t,{idToken:n}));Tt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?bT(l.providerUserInfo):[],f=gb(s.providerData,c),g=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!f?.length,y=g?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,E)}async function mb(s){const t=xe(s);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gb(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function bT(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(s,t){const n=await ST(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,f=await wT(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(p.credentials="include"),AT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yb(s,t){return so(s,"POST","/v2/accounts:revokeToken",vm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=B_(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await pb(t,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,f=new Ga;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),l&&(Tt(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ga,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Fd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Ol(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return hb(this,t)}reload(){return mb(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Uc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(Us(this.auth));const t=await this.getIdToken();return await Ol(this,cb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:O,isAnonymous:j,providerData:X,stsTokenManager:J}=n;Tt(b&&J,t,"internal-error");const $=Ga.fromJSON(this.name,J);Tt(typeof b=="string",t,"internal-error"),Vr(r,t.name),Vr(l,t.name),Tt(typeof O=="boolean",t,"internal-error"),Tt(typeof j=="boolean",t,"internal-error"),Vr(c,t.name),Vr(f,t.name),Vr(g,t.name),Vr(p,t.name),Vr(y,t.name),Vr(E,t.name);const ot=new Qn({uid:b,auth:t,email:l,emailVerified:O,displayName:r,isAnonymous:j,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:y,lastLoginAt:E});return X&&Array.isArray(X)&&(ot.providerData=X.map(mt=>({...mt}))),p&&(ot._redirectEventId=p),ot}static async _fromIdTokenResponse(t,n,r=!1){const l=new Ga;l.updateFromServerResponse(n);const c=new Qn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await Uc(c),c}static async _fromGetAccountInfoResponse(t,n,r){const l=n.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?bT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!c?.length,g=new Ga;g.updateFromIdToken(r);const p=new Qn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Fd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function Hi(s){Fi(s instanceof Function,"Expected a class definition");let t=q_.get(s);return t?(Fi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,q_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}RT.type="NONE";const H_=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s,t,n){return`firebase:${s}:${t}:${n}`}class Fa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Pc(this.auth,{idToken:t}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Fa(Hi(H_),t,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Hi(H_);const f=Sc(r,t.config.apiKey,t.name);let g=null;for(const y of n)try{const E=await y._get(f);if(E){let b;if(typeof E=="string"){const O=await Pc(t,{idToken:E}).catch(()=>{});if(!O)break;b=await Qn._fromGetAccountInfoResponse(t,O,E)}else b=Qn._fromJSON(t,E);y!==c&&(g=b),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Fa(c,t,r):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Fa(c,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(NT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(IT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(VT(t))return"Blackberry";if(MT(t))return"Webos";if(CT(t))return"Safari";if((t.includes("chrome/")||DT(t))&&!t.includes("edge/"))return"Chrome";if(OT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function IT(s=$e()){return/firefox\//i.test(s)}function CT(s=$e()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function DT(s=$e()){return/crios\//i.test(s)}function NT(s=$e()){return/iemobile/i.test(s)}function OT(s=$e()){return/android/i.test(s)}function VT(s=$e()){return/blackberry/i.test(s)}function MT(s=$e()){return/webos/i.test(s)}function Em(s=$e()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function _b(s=$e()){return Em(s)&&!!window.navigator?.standalone}function vb(){return xS()&&document.documentMode===10}function xT(s=$e()){return Em(s)||OT(s)||MT(s)||VT(s)||/windows phone/i.test(s)||NT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(s,t=[]){let n;switch(s){case"Browser":n=G_($e());break;case"Worker":n=`${G_($e())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(s,t={}){return so(s,"GET","/v2/passwordPolicy",vm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=6;class Sb{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ab,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t,n,r,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new Tb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ET,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Pc(this,{idToken:t}),r=await Qn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Fn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===f)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Fn(this.app))return Promise.reject(Us(this));const n=t?xe(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(Us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Fn(this.app)?Promise.reject(Us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Eb(this),n=new Sb(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Hi(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&tb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jc(s){return xe(s)}class F_{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bb(s){Am=s}function Rb(s){return Am.loadJS(s)}function Ib(){return Am.gapiScript}function Cb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s,t){const n=gm(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(js(c,t??{}))return l;yi(l,"already-initialized")}return n.initialize({options:t})}function Nb(s,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function Ob(s,t,n){const r=Jc(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=PT(t),{host:f,port:g}=Vb(t),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(js(y,r.config.emulator)&&js(E,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=E,r.settings.appVerificationDisabledForTesting=!0,io(f)?(fT(`${c}//${f}${p}`),dT("Auth",!0)):Mb()}function PT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Vb(s){const t=PT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Q_(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Q_(f)}}}function Q_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Mb(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(t){return qi("not implemented")}_linkToIdToken(t,n){return qi("not implemented")}_getReauthenticationResolver(t){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(s,t){return lb(s,"POST","/v1/accounts:signInWithIdp",vm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="http://localhost";class qs extends UT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):yi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const f=new qs(r,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return Qa(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Qa(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Qa(t,n)}buildRequest(){const t={requestUri:xb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Bl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends Sm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Hl{constructor(){super("facebook.com")}static credential(t){return qs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mr.credentialFromTaggedObject(t)}static credentialFromError(t){return Mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mr.credential(t.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ji.credentialFromTaggedObject(t)}static credentialFromError(t){return ji.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.GOOGLE_SIGN_IN_METHOD="google.com";ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Hl{constructor(){super("github.com")}static credential(t){return qs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Hl{constructor(){super("twitter.com")}static credential(t,n){return qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return kr.credential(n,r)}catch{return null}}}kr.TWITTER_SIGN_IN_METHOD="twitter.com";kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,l=!1){const c=await Qn._fromIdTokenResponse(t,r,l),f=K_(r);return new $a({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const l=K_(r);return new $a({user:t,providerId:l,_tokenResponse:r,operationType:n})}}function K_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends Yi{constructor(t,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,l){return new Lc(t,n,r,l)}}function LT(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Lc._fromErrorAndOperation(s,c,t,r):c})}async function kb(s,t,n=!1){const r=await Ol(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return $a._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(s,t,n=!1){const{auth:r}=s;if(Fn(r.app))return Promise.reject(Us(r));const l="reauthenticate";try{const c=await Ol(s,LT(r,l,t,s),n);Tt(c.idToken,r,"internal-error");const f=Tm(c.idToken);Tt(f,r,"internal-error");const{sub:g}=f;return Tt(s.uid===g,r,"user-mismatch"),$a._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&yi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(s,t,n=!1){if(Fn(s.app))return Promise.reject(Us(s));const r="signIn",l=await LT(s,r,t),c=await $a._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}function Lb(s,t,n,r){return xe(s).onIdTokenChanged(t,n,r)}function zb(s,t,n){return xe(s).beforeAuthStateChanged(t,n)}function zT(s,t,n,r){return xe(s).onAuthStateChanged(t,n,r)}function jb(s){return xe(s).signOut()}const zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zc,"1"),this.storage.removeItem(zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1e3,qb=10;class BT extends jT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&t(n,l,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);vb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,qb):l()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Bb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}BT.type="LOCAL";const Hb=BT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends jT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}qT.type="SESSION";const HT=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const r=new th(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await Gb(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}th.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=wm("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:l,onMessage(b){const O=b;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(E),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(E),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function Qb(s){ci().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function Kb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yb(){return navigator?.serviceWorker?.controller||null}function Xb(){return GT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="firebaseLocalStorageDb",$b=1,jc="firebaseLocalStorage",QT="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function eh(s,t){return s.transaction([jc],t?"readwrite":"readonly").objectStore(jc)}function Zb(){const s=indexedDB.deleteDatabase(FT);return new Gl(s).toPromise()}function Qd(){const s=indexedDB.open(FT,$b);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(jc,{keyPath:QT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(jc)?t(r):(r.close(),await Zb(),t(await Qd()))})})}async function Y_(s,t,n){const r=eh(s,!0).put({[QT]:t,value:n});return new Gl(r).toPromise()}async function Wb(s,t){const n=eh(s,!1).get(t),r=await new Gl(n).toPromise();return r===void 0?null:r.value}function X_(s,t){const n=eh(s,!0).delete(t);return new Gl(n).toPromise()}const Jb=800,t1=3;class KT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>t1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=th._getInstance(Xb()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Kb(),!this.activeServiceWorker)return;this.sender=new Fb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Yb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qd();return await Y_(t,zc,"1"),await X_(t,zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Wb(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>X_(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=eh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KT.type="LOCAL";const e1=KT;new ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s,t){return t?Hi(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends UT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Qa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function n1(s){return Ub(s.auth,new bm(s),s.bypassAuthState)}function i1(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),Pb(n,new bm(s),s.bypassAuthState)}async function r1(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),kb(n,new bm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return n1;case"linkViaPopup":case"linkViaRedirect":return r1;case"reauthViaPopup":case"reauthViaRedirect":return i1;default:yi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=new ql(2e3,1e4);async function a1(s,t,n){if(Fn(s.app))return Promise.reject(Kn(s,"operation-not-supported-in-this-environment"));const r=Jc(s);eb(s,t,Sm);const l=YT(r,n);return new ks(r,"signInViaPopup",t,l).executeNotNull()}class ks extends XT{constructor(t,n,r,l,c){super(t,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s1.get())};t()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="pendingRedirect",wc=new Map;class l1 extends XT{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=wc.get(this.auth._key());if(!t){try{const r=await u1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}wc.set(this.auth._key(),t)}return this.bypassAuthState||wc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u1(s,t){const n=f1(t),r=h1(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function c1(s,t){wc.set(s._key(),t)}function h1(s){return Hi(s._redirectPersistence)}function f1(s){return Sc(o1,s.config.apiKey,s.name)}async function d1(s,t,n=!1){if(Fn(s.app))return Promise.reject(Us(s));const r=Jc(s),l=YT(r,t),f=await new l1(r,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=600*1e3;class g1{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!p1(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!$T(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=m1&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function $T({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function p1(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $T(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(s,t={}){return so(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v1=/^https?/;async function T1(s){if(s.config.emulator)return;const{authorizedDomains:t}=await y1(s);for(const n of t)try{if(E1(n))return}catch{}yi(s,"unauthorized-domain")}function E1(s){const t=Gd(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!v1.test(n))return!1;if(_1.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new ql(3e4,6e4);function Z_(){const s=ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function S1(s){return new Promise((t,n)=>{function r(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),n(Kn(s,"network-request-failed"))},timeout:A1.get()})}if(ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ci().gapi?.load)r();else{const l=Cb("iframefcb");return ci()[l]=()=>{gapi.load?r():n(Kn(s,"network-request-failed"))},Rb(`${Ib()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw bc=null,t})}let bc=null;function w1(s){return bc=bc||S1(s),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new ql(5e3,15e3),R1="__/auth/iframe",I1="emulator/auth/iframe",C1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N1(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?_m(t,I1):`https://${s.config.authDomain}/${R1}`,r={apiKey:t.apiKey,appName:s.name,v:ro},l=D1.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Bl(r).slice(1)}`}async function O1(s){const t=await w1(s),n=ci().gapi;return Tt(n,s,"internal-error"),t.open({where:document.body,url:N1(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C1,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const f=Kn(s,"network-request-failed"),g=ci().setTimeout(()=>{c(f)},b1.get());function p(){ci().clearTimeout(g),l(r)}r.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},M1=500,x1=600,k1="_blank",P1="http://localhost";class W_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U1(s,t,n,r=M1,l=x1){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...V1,width:r.toString(),height:l.toString(),top:c,left:f},y=$e().toLowerCase();n&&(g=DT(y)?k1:n),IT(y)&&(t=t||P1,p.scrollbars="yes");const E=Object.entries(p).reduce((O,[j,X])=>`${O}${j}=${X},`,"");if(_b(y)&&g!=="_self")return L1(t||"",g),new W_(null);const b=window.open(t||"",g,E);Tt(b,s,"popup-blocked");try{b.focus()}catch{}return new W_(b)}function L1(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="__/auth/handler",j1="emulator/auth/handler",B1=encodeURIComponent("fac");async function J_(s,t,n,r,l,c){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ro,eventId:l};if(t instanceof Sm){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",BS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof Hl){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),y=p?`#${B1}=${encodeURIComponent(p)}`:"";return`${q1(s)}?${Bl(g).slice(1)}${y}`}function q1({config:s}){return s.emulator?_m(s,j1):`https://${s.authDomain}/${z1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="webStorageSupport";class H1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HT,this._completeRedirectFn=d1,this._overrideRedirectResult=c1}async _openPopup(t,n,r,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await J_(t,n,r,Gd(),l);return U1(t,c,wm())}async _openRedirect(t,n,r,l){await this._originValidation(t);const c=await J_(t,n,r,Gd(),l);return Qb(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Fi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await O1(t),r=new g1(t);return n.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Md,{type:Md},l=>{const c=l?.[0]?.[Md];c!==void 0&&n(!!c),yi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T1(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return xT()||CT()||Em()}}const G1=H1;var tv="@firebase/auth",ev="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K1(s){Xa(new Bs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(s)},y=new wb(r,l,c,p);return Nb(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Xa(new Bs("auth-internal",t=>{const n=Jc(t.getProvider("auth").getImmediate());return(r=>new F1(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(tv,ev,Q1(s)),jr(tv,ev,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=300,X1=hT("authIdTokenMaxAge")||Y1;let nv=null;const $1=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>X1)return;const l=n?.token;nv!==l&&(nv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Z1(s=yT()){const t=gm(s,"auth");if(t.isInitialized())return t.getImmediate();const n=Db(s,{popupRedirectResolver:G1,persistence:[e1,Hb,HT]}),r=hT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=$1(c.toString());zb(n,f,()=>f(n.currentUser)),Lb(n,g=>f(g))}}const l=uT("auth");return l&&Ob(n,`http://${l}`),n}function W1(){return document.getElementsByTagName("head")?.[0]??document}bb({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Kn("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",W1().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K1("Browser");var J1="firebase",tR="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(J1,tR,"app");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,ZT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,S){function R(){}R.prototype=S.prototype,V.F=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.D=function(M,D,k){for(var I=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)I[oe-2]=arguments[oe];return S.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],D=V.g[2];let k=V.g[3],I;I=S+(k^R&(D^k))+M[0]+3614090360&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(D^S&(R^D))+M[1]+3905402710&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(R^k&(S^R))+M[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(S^D&(k^S))+M[3]+3250441966&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(k^R&(D^k))+M[4]+4118548399&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(D^S&(R^D))+M[5]+1200080426&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(R^k&(S^R))+M[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(S^D&(k^S))+M[7]+4249261313&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(k^R&(D^k))+M[8]+1770035416&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(D^S&(R^D))+M[9]+2336552879&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(R^k&(S^R))+M[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(S^D&(k^S))+M[11]+2304563134&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(k^R&(D^k))+M[12]+1804603682&4294967295,S=R+(I<<7&4294967295|I>>>25),I=k+(D^S&(R^D))+M[13]+4254626195&4294967295,k=S+(I<<12&4294967295|I>>>20),I=D+(R^k&(S^R))+M[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=R+(S^D&(k^S))+M[15]+1236535329&4294967295,R=D+(I<<22&4294967295|I>>>10),I=S+(D^k&(R^D))+M[1]+4129170786&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(S^R))+M[6]+3225465664&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(k^S))+M[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(D^k))+M[0]+3921069994&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(R^D))+M[5]+3593408605&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(S^R))+M[10]+38016083&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(k^S))+M[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(D^k))+M[4]+3889429448&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(R^D))+M[9]+568446438&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(S^R))+M[14]+3275163606&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(k^S))+M[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(D^k))+M[8]+1163531501&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(D^k&(R^D))+M[13]+2850285829&4294967295,S=R+(I<<5&4294967295|I>>>27),I=k+(R^D&(S^R))+M[2]+4243563512&4294967295,k=S+(I<<9&4294967295|I>>>23),I=D+(S^R&(k^S))+M[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=R+(k^S&(D^k))+M[12]+2368359562&4294967295,R=D+(I<<20&4294967295|I>>>12),I=S+(R^D^k)+M[5]+4294588738&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^D)+M[8]+2272392833&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^R)+M[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^S)+M[14]+4259657740&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^k)+M[1]+2763975236&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^D)+M[4]+1272893353&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^R)+M[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^S)+M[10]+3200236656&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^k)+M[13]+681279174&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^D)+M[0]+3936430074&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^R)+M[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^S)+M[6]+76029189&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(R^D^k)+M[9]+3654602809&4294967295,S=R+(I<<4&4294967295|I>>>28),I=k+(S^R^D)+M[12]+3873151461&4294967295,k=S+(I<<11&4294967295|I>>>21),I=D+(k^S^R)+M[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=R+(D^k^S)+M[2]+3299628645&4294967295,R=D+(I<<23&4294967295|I>>>9),I=S+(D^(R|~k))+M[0]+4096336452&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~D))+M[7]+1126891415&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~R))+M[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~S))+M[5]+4237533241&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~k))+M[12]+1700485571&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~D))+M[3]+2399980690&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~R))+M[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~S))+M[1]+2240044497&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~k))+M[8]+1873313359&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~D))+M[15]+4264355552&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~R))+M[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~S))+M[13]+1309151649&4294967295,R=D+(I<<21&4294967295|I>>>11),I=S+(D^(R|~k))+M[4]+4149444226&4294967295,S=R+(I<<6&4294967295|I>>>26),I=k+(R^(S|~D))+M[11]+3174756917&4294967295,k=S+(I<<10&4294967295|I>>>22),I=D+(S^(k|~R))+M[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=R+(k^(D|~S))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+k&4294967295}r.prototype.v=function(V,S){S===void 0&&(S=V.length);const R=S-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=R;)l(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<S;)if(M[D++]=V.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<S;)if(M[D++]=V[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var V=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;S=this.o*8;for(var R=V.length-8;R<V.length;++R)V[R]=S&255,S/=256;for(this.v(V),V=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)V[S++]=this.g[R]>>>M&255;return V};function c(V,S){var R=g;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function f(V,S){this.h=S;const R=[];let M=!0;for(let D=V.length-1;D>=0;D--){const k=V[D]|0;M&&k==S||(R[D]=k,M=!1)}this.g=R}var g={};function p(V){return-128<=V&&V<128?c(V,function(S){return new f([S|0],S<0?-1:0)}):new f([V|0],V<0?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(V<0)return $(y(-V));const S=[];let R=1;for(let M=0;V>=R;M++)S[M]=V/R|0,R*=4294967296;return new f(S,0)}function E(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return $(E(V.substring(1),S));if(V.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let M=b;for(let k=0;k<V.length;k+=8){var D=Math.min(8,V.length-k);const I=parseInt(V.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(I))):(M=M.j(R),M=M.add(y(I)))}return M}var b=p(0),O=p(1),j=p(16777216);s=f.prototype,s.m=function(){if(J(this))return-$(this).m();let V=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);V+=(M>=0?M:4294967296+M)*S,S*=4294967296}return V},s.toString=function(V){if(V=V||10,V<2||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(J(this))return"-"+$(this).toString(V);const S=y(Math.pow(V,6));var R=this;let M="";for(;;){const D=wt(R,S).g;R=ot(R,D.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(V);if(R=D,X(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},s.i=function(V){return V<0?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(let S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function J(V){return V.h==-1}s.l=function(V){return V=ot(this,V),J(V)?-1:X(V)?0:1};function $(V){const S=V.g.length,R=[];for(let M=0;M<S;M++)R[M]=~V.g[M];return new f(R,~V.h).add(O)}s.abs=function(){return J(this)?$(this):this},s.add=function(V){const S=Math.max(this.g.length,V.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let k=M+(this.i(D)&65535)+(V.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);M=I>>>16,k&=65535,I&=65535,R[D]=I<<16|k}return new f(R,R[R.length-1]&-2147483648?-1:0)};function ot(V,S){return V.add($(S))}s.j=function(V){if(X(this)||X(V))return b;if(J(this))return J(V)?$(this).j($(V)):$($(this).j(V));if(J(V))return $(this.j($(V)));if(this.l(j)<0&&V.l(j)<0)return y(this.m()*V.m());const S=this.g.length+V.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<V.g.length;D++){const k=this.i(M)>>>16,I=this.i(M)&65535,oe=V.i(D)>>>16,ne=V.i(D)&65535;R[2*M+2*D]+=I*ne,mt(R,2*M+2*D),R[2*M+2*D+1]+=k*ne,mt(R,2*M+2*D+1),R[2*M+2*D+1]+=I*oe,mt(R,2*M+2*D+1),R[2*M+2*D+2]+=k*oe,mt(R,2*M+2*D+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new f(R,0)};function mt(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function lt(V,S){this.g=V,this.h=S}function wt(V,S){if(X(S))throw Error("division by zero");if(X(V))return new lt(b,b);if(J(V))return S=wt($(V),S),new lt($(S.g),$(S.h));if(J(S))return S=wt(V,$(S)),new lt($(S.g),S.h);if(V.g.length>30){if(J(V)||J(S))throw Error("slowDivide_ only works with positive integers.");for(var R=O,M=S;M.l(V)<=0;)R=ft(R),M=ft(M);var D=Nt(R,1),k=Nt(M,1);for(M=Nt(M,2),R=Nt(R,2);!X(M);){var I=k.add(M);I.l(V)<=0&&(D=D.add(R),k=I),M=Nt(M,1),R=Nt(R,1)}return S=ot(V,D.j(S)),new lt(D,S)}for(D=b;V.l(S)>=0;){for(R=Math.max(1,Math.floor(V.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(R),I=k.j(S);J(I)||I.l(V)>0;)R-=M,k=y(R),I=k.j(S);X(k)&&(k=O),D=D.add(k),V=ot(V,I)}return new lt(D,V)}s.B=function(V){return wt(this,V).h},s.and=function(V){const S=Math.max(this.g.length,V.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&V.i(M);return new f(R,this.h&V.h)},s.or=function(V){const S=Math.max(this.g.length,V.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|V.i(M);return new f(R,this.h|V.h)},s.xor=function(V){const S=Math.max(this.g.length,V.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^V.i(M);return new f(R,this.h^V.h)};function ft(V){const S=V.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new f(R,V.h)}function Nt(V,S){const R=S>>5;S%=32;const M=V.g.length-R,D=[];for(let k=0;k<M;k++)D[k]=S>0?V.i(k+R)>>>S|V.i(k+R+1)<<32-S:V.i(k+R);return new f(D,V.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZT=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Br=f}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WT,Tl,JT,Rc,Kd,tE,eE,nE;(function(){var s,t=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof yc=="object"&&yc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)t:{var _=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break t;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&_.push([A,m[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=p,y.apply(null,arguments)}function E(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(A,U,q){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[U].apply(A,tt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function j(u){const m=u.length;if(m>0){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function X(u,m){for(let A=1;A<arguments.length;A++){const U=arguments[A];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const q=U.length||0;u.length=_+q;for(let tt=0;tt<q;tt++)u[_+tt]=U[tt]}else u.push(U)}}class J{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){f.setTimeout(()=>{throw u},0)}function ot(){var u=V;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,_){const A=lt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var lt=new J(()=>new wt,u=>u.reset());class wt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,Nt=!1,V=new mt,S=()=>{const u=Promise.resolve(void 0);ft=()=>{u.then(R)}};function R(){for(var u;u=ot();){try{u.h.call(u.g)}catch(_){$(_)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Nt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function oe(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(oe,D),oe.prototype.init=function(u,m){const _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),H=0;function nt(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++H,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function C(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function Z(u){const m={};for(const _ in u)m[_]=u[_];return m}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let q=0;q<it.length;q++)_=it[q],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function ct(u){this.src=u,this.g={},this.h=0}ct.prototype.add=function(u,m,_,A,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const tt=_t(u,m,A,U);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new nt(m,this.src,q,!!A,U),m.fa=_,u.push(m)),m};function Ot(u,m){const _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(A,U,1),q&&(dt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _t(u,m,_,A){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==A)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ft={};function xn(u,m,_,A,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)xn(u,m[q],_,A,U);return null}return _=Zl(_),u&&u[ne]?u.J(m,_,g(A)?!!A.capture:!1,U):ho(u,m,_,!1,A,U)}function ho(u,m,_,A,U,q){if(!m)throw Error("Invalid event type");const tt=g(U)?!!U.capture:!!U;let At=fo(u);if(At||(u[ke]=At=new ct(u)),_=At.add(m,_,A,tt,q),_.proxy)return _;if(A=Xs(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Zs(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xs(){function u(_){return m.call(u.src,u.listener,_)}const m=Eh;return u}function $s(u,m,_,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)$s(u,m[q],_,A,U);else A=g(A)?!!A.capture:!!A,_=Zl(_),u&&u[ne]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=_t(m,_,A,U),_>-1&&(dt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=fo(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_t(m,_,A,U)),(_=u>-1?m[u]:null)&&Zr(_))}function Zr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ne])Ot(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Zs(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=fo(m))?(Ot(_,u),_.h==0&&(_.src=null,m[ke]=null)):dt(u)}}}function Zs(u){return u in Ft?Ft[u]:Ft[u]="on"+u}function Eh(u,m){if(u.da)u=!0;else{m=new oe(m,this);const _=u.listener,A=u.ha||u.src;u.fa&&Zr(u),u=_.call(A,m)}return u}function fo(u){return u=u[ke],u instanceof ct?u:null}var nn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zl(u){return typeof u=="function"?u:(u[nn]||(u[nn]=function(m){return u.handleEvent(m)}),u[nn])}function Se(){M.call(this),this.i=new ct(this),this.M=this,this.G=null}b(Se,M),Se.prototype[ne]=!0,Se.prototype.removeEventListener=function(u,m,_,A){$s(this,u,m,_,A)};function Ce(u,m){var _,A=u.G;if(A)for(_=[];A;A=A.G)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(A,u),et(m,U)}U=!0;let q,tt;if(_)for(tt=_.length-1;tt>=0;tt--)q=m.g=_[tt],U=vi(q,A,!0,m)&&U;if(q=m.g=u,U=vi(q,A,!0,m)&&U,U=vi(q,A,!1,m)&&U,_)for(tt=0;tt<_.length;tt++)q=m.g=_[tt],U=vi(q,A,!1,m)&&U}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let A=0;A<_.length;A++)dt(_[A]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},Se.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function vi(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const tt=m[q];if(tt&&!tt.da&&tt.capture==_){const At=tt.listener,te=tt.ha||tt.src;tt.fa&&Ot(u.i,tt),U=At.call(te,A)!==!1&&U}}return U&&!A.defaultPrevented}function Ah(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function mo(u){u.g=Ah(()=>{u.g=null,u.i&&(u.i=!1,mo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sh extends M{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){M.call(this),this.h=u,this.g={}}b(Wr,M);var Xi=[];function He(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Zr(m)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),He(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vn=f.JSON.stringify,Ze=f.JSON.parse,wh=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Wl(){}function Jl(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $i(){D.call(this,"d")}b($i,D);function kn(){D.call(this,"c")}b(kn,D);var Tn={},Zi=null;function Ws(){return Zi=Zi||new Se}Tn.Ia="serverreachability";function go(u){D.call(this,Tn.Ia,u)}b(go,D);function Wi(u){const m=Ws();Ce(m,new go(m))}Tn.STAT_EVENT="statevent";function Js(u,m){D.call(this,Tn.STAT_EVENT,u),this.stat=m}b(Js,D);function ce(u){const m=Ws();Ce(m,new Js(m,u))}Tn.Ja="timingevent";function tu(u,m){D.call(this,Tn.Ja,u),this.size=m}b(tu,D);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function po(u,m,_,A,U,q){u.info(function(){if(u.g)if(q){var tt="",At=q.split("&");for(let qt=0;qt<At.length;qt++){var te=At[qt].split("=");if(te.length>1){const de=te[0];te=te[1];const cn=de.split("_");tt=cn.length>=2&&cn[1]=="type"?tt+(de+"="+te+"&"):tt+(de+"=redacted&")}}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+tt})}function yo(u,m,_,A,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+tt})}function Ti(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$n(u,_)+(A?" "+A:"")})}function bh(u,m){u.info(function(){return"TIMEOUT: "+m})}tr.prototype.info=function(){};function $n(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<A.length;tt++)A[tt]=""}}}}return vn(q)}catch{return m}}var he={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ei;function Jr(){}b(Jr,Wl),Jr.prototype.g=function(){return new XMLHttpRequest},Ei=new Jr;function ts(u){return encodeURIComponent(String(u))}function Rh(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,A){this.j=u,this.i=m,this.l=_,this.S=A||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new er}function er(){this.i=null,this.g="",this.h=!1}var ta={},Zn={};function Wn(u,m,_){u.M=1,u.A=Si(re(m)),u.u=_,u.R=!0,nr(u,null)}function nr(u,m){u.F=Date.now(),es(u),u.B=re(u.A);var _=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ru(_.i,"t",A),u.C=0,_=u.j.L,u.h=new er,u.g=ca(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Sh(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Xi[0]=U.toString()),U=Xi);for(let q=0;q<U.length;q++){const tt=xn(_,U[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?Z(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wi(),po(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ge(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Ge(this.g),te=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||fs(this.g)))){this.K||At!=4||te==7||(te==8||qt<=0?Wi(3):Wi(2)),ti(this);var m=this.g.ca();this.X=m;var _=ir(this);if(this.o=m==200,yo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var q=A;break e}}q=null}if(u=q)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ea(this,u);else{this.o=!1,this.m=3,ce(12),ei(this),ns(this);break t}}if(this.R){u=!0;let de;for(;!this.K&&this.C<_.length;)if(de=eu(this,_),de==Zn){At==4&&(this.m=4,ce(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(de==ta){this.m=4,ce(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,de,null),ea(this,de);if(fe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,ce(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),ei(this),ns(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Io(tt),tt.P=!0,ce(11))}}else Ti(this.i,this.l,_,null),ea(this,_);At==4&&ei(this),this.o&&!this.K&&(At==4?Co(this.j,this):(this.o=!1,es(this)))}else ds(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ce(12)):(this.m=0,ce(13)),ei(this),ns(this)}}}catch{}finally{}};function ir(u){if(!fe(u))return u.g.la();const m=fs(u.g);if(m==="")return"";let _="";const A=m.length,U=Ge(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ei(u),ns(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(U&&q==A-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function fe(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Zn:(_=Number(m.substring(_,A)),isNaN(_)?ta:(A+=1,A+_>m.length?Zn:(m=m.slice(A,A+_),u.C=A+_,m)))}Pn.prototype.cancel=function(){this.K=!0,ei(this)};function es(u){u.T=Date.now()+u.H,Jn(u,u.H)}function Jn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ji(y(u.aa,u),m)}function ti(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(bh(this.i,this.B),this.M!=2&&(Wi(),ce(17)),ei(this),this.m=2,ns(this)):Jn(this,this.T-u)};function ns(u){u.j.I==0||u.K||Co(u.j,u)}function ei(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,He(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ea(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ss(_.h,u))){if(!u.L&&ss(_.h,u)&&_.I==3){try{var A=_.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),ni(_);else break t;Ro(_),ce(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ji(y(_.Va,_),6e3));En(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ri(_,11)}else if((u.L||_.g==u)&&ua(_),!I(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let qt=U[m];const de=qt[0];if(!(de<=_.K))if(_.K=de,qt=qt[1],_.I==2)if(qt[0]=="c"){_.M=qt[1],_.ba=qt[2];const cn=qt[3];cn!=null&&(_.ka=cn,_.j.info("VER="+_.ka));const ii=qt[4];ii!=null&&(_.za=ii,_.j.info("SVER="+_.za));const zn=qt[5];zn!=null&&typeof zn=="number"&&zn>0&&(A=1.5*zn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const jn=u.g;if(jn){const Bn=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bn){var q=A.h;q.g||Bn.indexOf("spdy")==-1&&Bn.indexOf("quic")==-1&&Bn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(na(q,q.h),q.h=null))}if(A.G){const No=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(A.wa=No,Qt(A.J,A.G,No))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var tt=u;if(A.na=du(A,A.L?A.ba:null,A.W),tt.L){Ai(A.h,tt);var At=tt,te=A.O;te&&(At.H=te),At.D&&(ti(At),es(At)),A.g=tt}else uu(A);_.i.length>0&&ys(_)}else qt[0]!="stop"&&qt[0]!="close"||Ri(_,7);else _.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Ri(_,7):gs(_):qt[0]!="noop"&&_.l&&_.l.qa(qt),_.A=0)}}Wi(4)}catch{}}var Ih=class{constructor(u,m){this.g=u,this.map=m}};function is(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function rs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function En(u){return u.h?1:u.g?u.g.size:0}function ss(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function na(u,m){u.g?u.g.add(m):u.h=m}function Ai(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}is.prototype.cancel=function(){if(this.i=ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ia(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return j(u.i)}var ra=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ch(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const A=u[_].indexOf("=");let U,q=null;A>=0?(U=u[_].substring(0,A),q=u[_].substring(A+1)):U=u[_],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,rr(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,sr(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(ra))?(this.l=!1,rr(this,m[1]||"",!0),this.o=os(m[2]||""),this.g=os(m[3]||"",!0),as(this,m[4]),this.h=os(m[5]||"",!0),sr(this,m[6]||"",!0),this.m=os(m[7]||"")):(this.l=!1,this.i=new An(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(De(m,vo,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(De(m,vo,!0),"@"),u.push(ts(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(De(_,_.charAt(0)=="/"?ar:To,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",De(_,iu)),u.join("")},Un.prototype.resolve=function(u){const m=re(this);let _=!!u.j;_?rr(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var A=u.h;if(_)as(m,u.u);else if(_=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=m.h.lastIndexOf("/");U!=-1&&(A=m.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let tt=0;tt<U.length;){const At=U[tt++];At=="."?A&&tt==U.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&tt==U.length&&q.push("")):(q.push(At),A=!0)}A=q.join("/")}else A=U}return _?m.h=A:_=u.i.toString()!=="",_?sr(m,su(u.i)):_=!!u.m,_&&(m.m=u.m),m};function re(u){return new Un(u)}function rr(u,m,_){u.j=_?os(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function sr(u,m,_){m instanceof An?(u.i=m,So(u.i,u.l)):(_||(m=De(m,nu)),u.i=new An(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function Si(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function os(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function De(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,_o),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _o(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var vo=/[#\/\?@]/g,To=/[#\?:]/g,ar=/[#\?]/g,nu=/[#\?@]/g,iu=/#/g;function An(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wi(u){u.g||(u.g=new Map,u.h=0,u.i&&Ch(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=An.prototype,s.add=function(u,m){wi(this),this.i=null,u=Ln(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Eo(u,m){wi(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return wi(u),m=Ln(u,m),u.g.has(m)}s.forEach=function(u,m){wi(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)};function sa(u,m){wi(u);let _=[];if(typeof m=="string")Ao(u,m)&&(_=_.concat(u.g.get(Ln(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return wi(this),this.i=null,u=Ln(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=sa(this,u),u.length>0?String(u[0]):m):m};function ru(u,m,_){Eo(u,m),_.length>0&&(u.i=null,u.g.set(Ln(u,m),j(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var _=m[A];const U=ts(_);_=sa(this,_);for(let q=0;q<_.length;q++){let tt=U;_[q]!==""&&(tt+="="+ts(_[q])),u.push(tt)}}return this.i=u.join("&")};function su(u){const m=new An;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function So(u,m){m&&!u.j&&(wi(u),u.i=null,u.g.forEach(function(_,A){const U=A.toLowerCase();A!=U&&(Eo(this,A),ru(this,U,_))},u)),u.j=m}function wo(u,m){const _=new tr;if(f.Image){const A=new Image;A.onload=E(We,_,"TestLoadImage: loaded",!0,m,A),A.onerror=E(We,_,"TestLoadImage: error",!1,m,A),A.onabort=E(We,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=E(We,_,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function or(u,m){const _=new tr,A=new AbortController,U=setTimeout(()=>{A.abort(),We(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?We(_,"TestPingServer: ok",!0,m):We(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),We(_,"TestPingServer: error",!1,m)})}function We(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function au(){this.g=new wh}function ls(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ls,Wl),ls.prototype.g=function(){return new us(this.i,this.h)};function us(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(us,Se),s=us.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,bi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Je(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;lr(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function lr(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Je(this):bi(this),this.readyState==3&&lr(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Je(this))},s.Na=function(u){this.g&&(this.response=u,Je(this))},s.ga=function(){this.g&&Je(this)};function Je(u){u.readyState=4,u.l=null,u.j=null,u.B=null,bi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function bi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ur(u){let m="";return Lt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Sn(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ur(_),typeof u=="string"?_!=null&&ts(_):Qt(u,m,_))}function Zt(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Zt,Se);var aa=/^https?$/i,ou=["POST","PUT"];s=Zt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ei.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){cs(this,q);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())_.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(ou,m,void 0)>=0)||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of _)this.g.setRequestHeader(q,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){cs(this,q)}};function cs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,hs(u),we(u)}function hs(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),we(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),we(this,!0)),Zt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?bo(this):this.Xa())},s.Xa=function(){bo(this)};function bo(u){if(u.h&&typeof c<"u"){if(u.v&&Ge(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Ge(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=q===0){let tt=String(u.D).match(ra)[1]||null;!tt&&f.self&&f.self.location&&(tt=f.self.location.protocol.slice(0,-1)),A=!aa.test(tt?tt.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var U=Ge(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",hs(u)}}finally{we(u)}}}}function we(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ce(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ge(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ge(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ze(m)}};function fs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(u){const m={};u=(u.g&&Ge(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(I(u[A]))continue;var _=Rh(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}C(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function oa(u){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,u),this.Za=ms("retryDelaySeedMs",1e4,u),this.Ta=ms("forwardChannelMaxRetries",2,u),this.va=ms("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new is(u&&u.concurrentRequestLimit),this.Ba=new au,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=oa.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,A){ce(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=du(this,null,this.W),ys(this)};function gs(u){if(ps(u),u.I==3){var m=u.V++,_=re(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),_s(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=Si(re(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.A,_=!0),_||(m.g=ca(m.j,null),m.g.ea(m.A)),m.F=Date.now(),es(m)}fu(u)}function ni(u){u.g&&(Io(u),u.g.cancel(),u.g=null)}function ps(u){ni(u),u.v&&(f.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function ys(u){if(!rs(u.h)&&!u.m){u.m=!0;var m=u.Ea;ft||S(),Nt||(ft(),Nt=!0),V.add(m,u),u.D=0}}function Dh(u,m){return En(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ji(y(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Pn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=Z(q),et(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=la(this,U,m),_=re(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),_s(this,_),q&&(this.R?m="headers="+ts(ur(q))+"&"+m:this.u&&Sn(_,this.u,q)),na(this.h,U),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),U.U=!0,Wn(U,_,null)):Wn(U,_,m),this.I=2}}else this.I==3&&(u?lu(this,u):this.i.length==0||rs(this.h)||lu(this))};function lu(u,m){var _;m?_=m.l:_=u.V++;const A=re(u.J);Qt(A,"SID",u.M),Qt(A,"RID",_),Qt(A,"AID",u.K),_s(u,A),u.u&&u.o&&Sn(A,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=la(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),na(u.h,_),Wn(_,A,m)}function _s(u,m){u.H&&Lt(u.H,function(_,A){Qt(m,A,_)}),u.l&&Lt({},function(_,A){Qt(m,A,_)})}function la(u,m,_){_=Math.min(u.i.length,_);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let At=-1;for(;;){const te=["count="+_];At==-1?_>0?(At=U[0].g,te.push("ofs="+At)):At=0:te.push("ofs="+At);let qt=!0;for(let de=0;de<_;de++){var q=U[de].g;const cn=U[de].map;if(q-=At,q<0)At=Math.max(0,U[de].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var tt=cn instanceof Map?cn:Object.entries(cn);for(const[ii,zn]of tt){let jn=zn;g(zn)&&(jn=vn(zn)),te.push(q+ii+"="+encodeURIComponent(jn))}}catch(ii){throw te.push(q+"type="+encodeURIComponent("_badmap")),ii}}catch{A&&A(cn)}}if(qt){tt=te.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function uu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ft||S(),Nt||(ft(),Nt=!0),V.add(m,u),u.A=0}}function Ro(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ji(y(u.Da,u),hu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ji(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ce(10),ni(this),cu(this))};function Io(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function cu(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=re(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),_s(u,m),u.u&&u.o&&Sn(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Si(re(m)),_.u=null,_.R=!0,nr(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ni(this),Ro(this),ce(19))};function ua(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Co(u,m){var _=null;if(u.g==m){ua(u),Io(u),u.g=null;var A=2}else if(ss(u.h,m))_=m.G,Ai(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;A=Ws(),Ce(A,new tu(A,_)),ys(u)}else uu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(A==1&&Dh(u,m)||A==2&&Ro(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function hu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),A=u.Ua;const U=!A;A=new Un(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||rr(A,"https"),Si(A),U?wo(A.toString(),_):or(A.toString(),_)}else ce(2);u.I=0,u.l&&u.l.pa(m),fu(u),ps(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=ia(u.h);(m.length!=0||u.i.length!=0)&&(X(u.ja,m),X(u.ja,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.oa()}}function du(u,m,_){var A=_ instanceof Un?re(_):new Un(_);if(A.g!="")m&&(A.g=m+"."+A.g),as(A,A.u);else{var U=f.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Un(null);A&&rr(q,A),m&&(q.g=m),U&&as(q,U),_&&(q.h=_),A=q}return _=u.G,m=u.wa,_&&m&&Qt(A,_,m),Qt(A,"VER",u.ka),_s(u,A),A}function ca(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new ls({ab:_})):new Zt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ha(){}ha.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Se.call(this),this.g=new oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new cr(this)}b(tn,Se),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){gs(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=vn(u),u=_);m.i.push(new Ih(m.Ya++,u)),m.I==3&&ys(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,gs(this.g),delete this.g,tn.Z.N.call(this)};function Do(u){$i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Do,$i);function gu(){kn.call(this),this.status=1}b(gu,kn);function cr(u){this.g=u}b(cr,mu),cr.prototype.ra=function(){Ce(this.g,"a")},cr.prototype.qa=function(u){Ce(this.g,new Do(u))},cr.prototype.pa=function(u){Ce(this.g,new gu)},cr.prototype.oa=function(){Ce(this.g,"b")},ha.prototype.createWebChannel=ha.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,nE=function(){return new ha},eE=function(){return Ws()},tE=Tn,Kd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},he.NO_ERROR=0,he.TIMEOUT=8,he.HTTP_ERROR=6,Rc=he,Pe.COMPLETE="complete",JT=Pe,Jl.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Tl=Jl,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,WT=Zt}).apply(typeof yc<"u"?yc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new dm("@firebase/firestore");function ja(){return Hs.logLevel}function st(s,...t){if(Hs.logLevel<=Vt.DEBUG){const n=t.map(Rm);Hs.debug(`Firestore (${ao}): ${s}`,...n)}}function Qi(s,...t){if(Hs.logLevel<=Vt.ERROR){const n=t.map(Rm);Hs.error(`Firestore (${ao}): ${s}`,...n)}}function Za(s,...t){if(Hs.logLevel<=Vt.WARN){const n=t.map(Rm);Hs.warn(`Firestore (${ao}): ${s}`,...n)}}function Rm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,iE(s,r,n)}function iE(s,t,n){let r=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Qi(r),new Error(r)}function Bt(s,t,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||iE(t,l,r)}function St(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ye.UNAUTHENTICATED)))}shutdown(){}}class nR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Bt(this.o===void 0,42304);let r=this.i;const l=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let c=new Ls;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ls,t.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=c;t.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ls)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new rE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Bt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class rR{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sR{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new rR(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aR{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Bt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new av(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=oR(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=t.charAt(l[c]%62))}return r}}function xt(s,t){return s<t?-1:s>t?1:0}function Yd(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return xd(l)===xd(c)?xt(l,c):xd(l)?1:-1}return xt(s.length,t.length)}const lR=55296,uR=57343;function xd(s){const t=s.charCodeAt(0);return t>=lR&&t<=uR}function Wa(s,t,n){return s.length===t.length&&s.every(((r,l)=>n(r,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class ui{constructor(t,n,r){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&yt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let l=0;l<r;l++){const c=ui.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return xt(t.length,n.length)}static compareSegments(t,n){const r=ui.isNumericId(t),l=ui.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?ui.extractNumericId(t).compare(ui.extractNumericId(n)):Yd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Br.fromString(t.substring(4,t.length-2))}}class Jt extends ui{construct(t,n,r){return new Jt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new rt(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new Jt(n)}static emptyPath(){return new Jt([])}}const cR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ui{construct(t,n,r){return new Be(t,n,r)}static isValidIdentifier(t){return cR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Be([ov])}static fromServerFormat(t){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new rt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(r+=g,l++):(c(),l++)}if(c(),f)throw new rt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Jt.fromString(t))}static fromName(t){return new ht(Jt.fromString(t).popFirst(5))}static empty(){return new ht(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s,t,n){if(!n)throw new rt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function hR(s,t,n,r){if(t===!0&&r===!0)throw new rt(Q.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function lv(s){if(!ht.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function uv(s){if(ht.isDocumentKey(s))throw new rt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function aE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function hi(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new rt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nh(s);throw new rt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(s,t){const n={typeString:s};return t&&(n.value=t),n}function Fl(s,t){if(!aE(s))throw new rt(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(l&&typeof f!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new rt(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*hv);return new ee(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<cv)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:Ae("string",ee._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ee(0,0))}static max(){return new Et(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=-1;function fR(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new ee(n+1,0):new ee(n,r));return new Hr(l,ht.empty(),t)}function dR(s){return new Hr(s.readTime,s.key,Vl)}class Hr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Hr(Et.min(),ht.empty(),Vl)}static max(){return new Hr(Et.max(),ht.empty(),Vl)}}function mR(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=ht.comparator(s.documentKey,t.documentKey),n!==0?n:xt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==gR)throw s;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):Y.reject(n)}static resolve(t){return new Y(((n,r)=>{n(t)}))}static reject(t){return new Y(((n,r)=>{r(t)}))}static waitFor(t){return new Y(((n,r)=>{let l=0,c=0,f=!1;t.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(p=>r(p)))})),f=!0,c===l&&n()}))}static or(t){let n=Y.resolve(!1);for(const r of t)n=n.next((l=>l?Y.resolve(l):r()));return n}static forEach(t,n){const r=[];return t.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(t,n){return new Y(((r,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next((E=>{f[y]=E,++g,g===c&&r(f)}),(E=>l(E)))}}))}static doWhile(t,n){return new Y(((r,l)=>{const c=()=>{t()===!0?n().next((()=>{c()}),l):r()};c()}))}}function yR(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function lo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function rh(s){return s==null}function Bc(s){return s===0&&1/s==-1/0}function _R(s){return typeof s=="number"&&Number.isInteger(s)&&!Bc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function vR(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=fv(t)),t=TR(s.get(n),t);return fv(t)}function TR(s,t){let n=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function fv(s){return s+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function Xr(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function lE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,n){this.comparator=t,this.root=n||je.EMPTY}insert(t,n){return new ae(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _c(this.root,t,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _c(this.root,t,this.comparator,!0)}}class _c{constructor(t,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?r(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,n,r,l,c){this.key=t,this.value=n,this.color=r??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,l,c){return new je(t??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,r,l,c){return this}insert(t,n,r){return new je(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ie(this.comparator);return n.data=t,n}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new _n([])}unionWith(t){let n=new Ie(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new _n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new uE("Invalid base64 string: "+c):c}})(t);return new qe(n)}static fromUint8Array(t){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(t);return new qe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const ER=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(s){if(Bt(!!s,39018),typeof s=="string"){let t=0;const n=ER.exec(s);if(Bt(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:pe(s.seconds),nanos:pe(s.nanos)}}function pe(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Fr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",hE="__type__",fE="__previous_value__",dE="__local_write_time__";function Dm(s){return(s?.mapValue?.fields||{})[hE]?.stringValue===cE}function sh(s){const t=s.mapValue.fields[fE];return Dm(t)?sh(t):t}function Ml(s){const t=Gr(s.mapValue.fields[dE].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n,r,l,c,f,g,p,y,E){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const qc="(default)";class xl{constructor(t,n){this.projectId=t,this.database=n||qc}static empty(){return new xl("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof xl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",SR="__max__",vc={mapValue:{}},gE="__vector__",Hc="value";function Qr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Dm(s)?4:bR(s)?9007199254740991:wR(s)?10:11:yt(28295,{value:s})}function _i(s,t){if(s===t)return!0;const n=Qr(s);if(n!==Qr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ml(s).isEqual(Ml(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Gr(l.timestampValue),g=Gr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Fr(l.bytesValue).isEqual(Fr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return pe(l.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(l.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return pe(l.integerValue)===pe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=pe(l.doubleValue),g=pe(c.doubleValue);return f===g?Bc(f)===Bc(g):isNaN(f)&&isNaN(g)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(dv(f)!==dv(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!_i(f[p],g[p])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function kl(s,t){return(s.values||[]).find((n=>_i(n,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const n=Qr(s),r=Qr(t);if(n!==r)return xt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(s.booleanValue,t.booleanValue);case 2:return(function(c,f){const g=pe(c.integerValue||c.doubleValue),p=pe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return gv(s.timestampValue,t.timestampValue);case 4:return gv(Ml(s),Ml(t));case 5:return Yd(s.stringValue,t.stringValue);case 6:return(function(c,f){const g=Fr(c),p=Fr(f);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=xt(g[y],p[y]);if(E!==0)return E}return xt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,f){const g=xt(pe(c.latitude),pe(f.latitude));return g!==0?g:xt(pe(c.longitude),pe(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return pv(s.arrayValue,t.arrayValue);case 10:return(function(c,f){const g=c.fields||{},p=f.fields||{},y=g[Hc]?.arrayValue,E=p[Hc]?.arrayValue,b=xt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:pv(y,E)})(s.mapValue,t.mapValue);case 11:return(function(c,f){if(c===vc.mapValue&&f===vc.mapValue)return 0;if(c===vc.mapValue)return 1;if(f===vc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const O=Yd(p[b],E[b]);if(O!==0)return O;const j=Ja(g[p[b]],y[E[b]]);if(j!==0)return j}return xt(p.length,E.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function gv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return xt(s,t);const n=Gr(s),r=Gr(t),l=xt(n.seconds,r.seconds);return l!==0?l:xt(n.nanos,r.nanos)}function pv(s,t){const n=s.values||[],r=t.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Ja(n[l],r[l]);if(c)return c}return xt(n.length,r.length)}function to(s){return Xd(s)}function Xd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Fr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ht.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Xd(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of r)c?c=!1:l+=",",l+=`${f}:${Xd(n.fields[f])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Ic(s){switch(Qr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sh(s);return t?16+Ic(t):16;case 5:return 2*s.stringValue.length;case 6:return Fr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Ic(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Xr(r.fields,((c,f)=>{l+=c.length+Ic(f)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function yv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function $d(s){return!!s&&"integerValue"in s}function Nm(s){return!!s&&"arrayValue"in s}function _v(s){return!!s&&"nullValue"in s}function vv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Cc(s){return!!s&&"mapValue"in s}function wR(s){return(s?.mapValue?.fields||{})[mE]?.stringValue===gE}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Xr(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Rl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rl(s.arrayValue.values[n]);return t}return{...s}}function bR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===SR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.value=t}static empty(){return new un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Cc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(n)}setAll(t){let n=Be.emptyPath(),r={},l=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,l),r={},l=[],n=g.popLast()}f?r[g.lastSegment()]=Rl(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(t){const n=this.field(t.popLast());Cc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=n.mapValue.fields[t.get(r)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,r){Xr(n,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new un(Rl(this.value))}}function pE(s){const t=[];return Xr(s.fields,((n,r)=>{const l=new Be([n]);if(Cc(r)){const c=pE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)})),new _n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,n,r,l,c,f,g){this.key=t,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),un.empty(),0)}static newFoundDocument(t,n,r,l){return new Xe(t,1,n,Et.min(),r,l,0)}static newNoDocument(t,n){return new Xe(t,2,n,Et.min(),Et.min(),un.empty(),0)}static newUnknownDocument(t,n){return new Xe(t,3,n,Et.min(),Et.min(),un.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(t,n){this.position=t,this.inclusive=n}}function Tv(s,t,n){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],f=s.position[l];if(c.field.isKeyField()?r=ht.comparator(ht.fromName(f.referenceValue),n.key):r=Ja(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ev(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!_i(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(t,n="asc"){this.field=t,this.dir=n}}function RR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Ee extends yE{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new CR(t,n,r):n==="array-contains"?new OR(t,r):n==="in"?new VR(t,r):n==="not-in"?new MR(t,r):n==="array-contains-any"?new xR(t,r):new Ee(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new DR(t,r):new NR(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends yE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Yn(t,n)}matches(t){return _E(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _E(s){return s.op==="and"}function vE(s){return IR(s)&&_E(s)}function IR(s){for(const t of s.filters)if(t instanceof Yn)return!1;return!0}function Zd(s){if(s instanceof Ee)return s.field.canonicalString()+s.op.toString()+to(s.value);if(vE(s))return s.filters.map((t=>Zd(t))).join(",");{const t=s.filters.map((n=>Zd(n))).join(",");return`${s.op}(${t})`}}function TE(s,t){return s instanceof Ee?(function(r,l){return l instanceof Ee&&r.op===l.op&&r.field.isEqual(l.field)&&_i(r.value,l.value)})(s,t):s instanceof Yn?(function(r,l){return l instanceof Yn&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,f,g)=>c&&TE(f,l.filters[g])),!0):!1})(s,t):void yt(19439)}function EE(s){return s instanceof Ee?(function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`})(s):s instanceof Yn?(function(n){return n.op.toString()+" {"+n.getFilters().map(EE).join(" ,")+"}"})(s):"Filter"}class CR extends Ee{constructor(t,n,r){super(t,n,r),this.key=ht.fromName(r.referenceValue)}matches(t){const n=ht.comparator(t.key,this.key);return this.matchesComparison(n)}}class DR extends Ee{constructor(t,n){super(t,"in",n),this.keys=AE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class NR extends Ee{constructor(t,n){super(t,"not-in",n),this.keys=AE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function AE(s,t){return(t.arrayValue?.values||[]).map((n=>ht.fromName(n.referenceValue)))}class OR extends Ee{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Nm(n)&&kl(n.arrayValue,this.value)}}class VR extends Ee{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kl(this.value.arrayValue,n)}}class MR extends Ee{constructor(t,n){super(t,"not-in",n)}matches(t){if(kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kl(this.value.arrayValue,n)}}class xR extends Ee{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>kl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n=null,r=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function Av(s,t=null,n=[],r=[],l=null,c=null,f=null){return new kR(s,t,n,r,l,c,f)}function Om(s){const t=St(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>Zd(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),rh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>to(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>to(r))).join(",")),t.Te=n}return t.Te}function Vm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!RR(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!TE(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Ev(s.startAt,t.startAt)&&Ev(s.endAt,t.endAt)}function Wd(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,n=null,r=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PR(s,t,n,r,l,c,f,g){return new uo(s,t,n,r,l,c,f,g)}function Mm(s){return new uo(s)}function Sv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function SE(s){return s.collectionGroup!==null}function Il(s){const t=St(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ie(Be.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Pl(c,r))})),n.has(Be.keyField().canonicalString())||t.Ie.push(new Pl(Be.keyField(),r))}return t.Ie}function fi(s){const t=St(s);return t.Ee||(t.Ee=UR(t,Il(s))),t.Ee}function UR(s,t){if(s.limitType==="F")return Av(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Pl(l.field,c)}));const n=s.endAt?new Gc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Gc(s.startAt.position,s.startAt.inclusive):null;return Av(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function Jd(s,t){const n=s.filters.concat([t]);return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function tm(s,t,n){return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function ah(s,t){return Vm(fi(s),fi(t))&&s.limitType===t.limitType}function wE(s){return`${Om(fi(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>EE(l))).join(", ")}]`),rh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>to(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>to(l))).join(",")),`Target(${r})`})(fi(s))}; limitType=${s.limitType})`}function oh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ht.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Il(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(f,g,p){const y=Tv(f,g,p);return f.inclusive?y<=0:y<0})(r.startAt,Il(r),l)||r.endAt&&!(function(f,g,p){const y=Tv(f,g,p);return f.inclusive?y>=0:y>0})(r.endAt,Il(r),l))})(s,t)}function LR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function bE(s){return(t,n)=>{let r=!1;for(const l of Il(s)){const c=zR(l,t,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function zR(s,t,n){const r=s.field.isKeyField()?ht.comparator(t.key,n.key):(function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ja(p,y):yt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return yt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Xr(this.inner,((n,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new ae(ht.comparator);function Ki(){return jR}const RE=new ae(ht.comparator);function El(...s){let t=RE;for(const n of s)t=t.insert(n.key,n);return t}function IE(s){let t=RE;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Ps(){return Cl()}function CE(){return Cl()}function Cl(){return new Qs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const BR=new ae(ht.comparator),qR=new Ie(ht.comparator);function kt(...s){let t=qR;for(const n of s)t=t.add(n);return t}const HR=new Ie(xt);function GR(){return HR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function DE(s){return{integerValue:""+s}}function FR(s,t){return _R(t)?DE(t):xm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function QR(s,t,n){return s instanceof Ul?(function(l,c){const f={fields:{[hE]:{stringValue:cE},[dE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Dm(c)&&(c=sh(c)),c&&(f.fields[fE]=c),{mapValue:f}})(n,t):s instanceof Ll?OE(s,t):s instanceof zl?VE(s,t):(function(l,c){const f=NE(l,c),g=wv(f)+wv(l.Ae);return $d(f)&&$d(l.Ae)?DE(g):xm(l.serializer,g)})(s,t)}function KR(s,t,n){return s instanceof Ll?OE(s,t):s instanceof zl?VE(s,t):n}function NE(s,t){return s instanceof Fc?(function(r){return $d(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Ul extends lh{}class Ll extends lh{constructor(t){super(),this.elements=t}}function OE(s,t){const n=ME(t);for(const r of s.elements)n.some((l=>_i(l,r)))||n.push(r);return{arrayValue:{values:n}}}class zl extends lh{constructor(t){super(),this.elements=t}}function VE(s,t){let n=ME(t);for(const r of s.elements)n=n.filter((l=>!_i(l,r)));return{arrayValue:{values:n}}}class Fc extends lh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function wv(s){return pe(s.integerValue||s.doubleValue)}function ME(s){return Nm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.field=t,this.transform=n}}function XR(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Ll&&l instanceof Ll||r instanceof zl&&l instanceof zl?Wa(r.elements,l.elements,_i):r instanceof Fc&&l instanceof Fc?_i(r.Ae,l.Ae):r instanceof Ul&&l instanceof Ul})(s.transform,t.transform)}class $R{constructor(t,n){this.version=t,this.transformResults=n}}class Mn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Mn}static exists(t){return new Mn(void 0,t)}static updateTime(t){return new Mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class uh{}function xE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new km(s.key,Mn.none()):new Ql(s.key,s.data,Mn.none());{const n=s.data,r=un.empty();let l=new Ie(Be.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),l=l.add(c)}return new $r(s.key,r,new _n(l.toArray()),Mn.none())}}function ZR(s,t,n){s instanceof Ql?(function(l,c,f){const g=l.value.clone(),p=Rv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):s instanceof $r?(function(l,c,f){if(!Dc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=Rv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(kE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function Dl(s,t,n,r){return s instanceof Ql?(function(c,f,g,p){if(!Dc(c.precondition,f))return g;const y=c.value.clone(),E=Iv(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,t,n,r):s instanceof $r?(function(c,f,g,p){if(!Dc(c.precondition,f))return g;const y=Iv(c.fieldTransforms,p,f),E=f.data;return E.setAll(kE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,n,r):(function(c,f,g){return Dc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,t,n)}function WR(s,t){let n=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=NE(r.transform,l||null);c!=null&&(n===null&&(n=un.empty()),n.set(r.field,c))}return n||null}function bv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Wa(r,l,((c,f)=>XR(c,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ql extends uh{constructor(t,n,r,l=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class $r extends uh{constructor(t,n,r,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function Rv(s,t,n){const r=new Map;Bt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],f=c.transform,g=t.data.field(c.field);r.set(c.field,KR(f,g,n[l]))}return r}function Iv(s,t,n){const r=new Map;for(const l of s){const c=l.transform,f=n.data.field(l.field);r.set(l.field,QR(c,f,t))}return r}class km extends uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JR extends uh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,n,r,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&ZR(c,t,r[l])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Dl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Dl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=CE();return this.mutations.forEach((l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=xE(f,g);p!==null&&r.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((n,r)=>bv(n,r)))&&Wa(this.baseMutations,t.baseMutations,((n,r)=>bv(n,r)))}}class Pm{constructor(t,n,r,l){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(t,n,r){Bt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return BR})();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,r[f].version);return new Pm(t,n,r,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Ut;function iI(s){switch(s){case Q.OK:return yt(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function PE(s){if(s===void 0)return Qi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Te.OK:return Q.OK;case Te.CANCELLED:return Q.CANCELLED;case Te.UNKNOWN:return Q.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Q.INTERNAL;case Te.UNAVAILABLE:return Q.UNAVAILABLE;case Te.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Te.NOT_FOUND:return Q.NOT_FOUND;case Te.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Te.ABORTED:return Q.ABORTED;case Te.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Te.DATA_LOSS:return Q.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=Te||(Te={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Br([4294967295,4294967295],0);function Cv(s){const t=rI().encode(s),n=new ZT;return n.update(t),new Uint8Array(n.digest())}function Dv(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Br([n,r],0),new Br([l,c],0)]}class Um{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Br.fromNumber(this.ge)}ye(t,n,r){let l=t.add(n.multiply(Br.fromNumber(r)));return l.compare(sI)===1&&(l=new Br([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Cv(t),[r,l]=Dv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,l,c);if(!this.we(f))return!1}return!0}static create(t,n,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Um(c,l,n);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=Cv(t),[r,l]=Dv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,l,c);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n,r,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new ch(Et.min(),l,new ae(xt),Ki(),kt())}}class Kl{constructor(t,n,r,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Kl(r,n,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n,r,l){this.be=t,this.removedTargetIds=n,this.key=r,this.De=l}}class UE{constructor(t,n){this.targetId=t,this.Ce=n}}class LE{constructor(t,n,r=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Ov(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),r=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:yt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=Ov()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class aI{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ki(),this.Je=Tc(),this.He=Tc(),this.Ye=new ae(xt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,r=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Wd(c))if(r===0){const f=new ht(c.path);this.et(n,f,Xe.newNoDocument(f,Et.min()))}else Bt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Fr(r).toUint8Array()}catch(p){if(p instanceof uE)return Za("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Um(f,l,c)}catch(p){return Za(p instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&Wd(g.target)){const p=new ht(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Xe.newNoDocument(p,t))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let r=kt();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(t)));const l=new ch(t,n,this.Ye,this.je,r);return this.je=Ki(),this.Je=Tc(),this.He=Tc(),this.Ye=new ae(xt),l}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Nv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ie(xt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ie(xt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Tc(){return new ae(ht.comparator)}function Ov(){return new ae(ht.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},lI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class cI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function em(s,t){return s.useProto3Json||rh(t)?t:{value:t}}function Qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function zE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function hI(s,t){return Qc(s,t.toTimestamp())}function di(s){return Bt(!!s,49232),Et.fromTimestamp((function(n){const r=Gr(n);return new ee(r.seconds,r.nanos)})(s))}function Lm(s,t){return nm(s,t).canonicalString()}function nm(s,t){const n=(function(l){return new Jt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?n:n.child(t)}function jE(s){const t=Jt.fromString(s);return Bt(FE(t),10190,{key:t.toString()}),t}function im(s,t){return Lm(s.databaseId,t.path)}function kd(s,t){const n=jE(t);if(n.get(1)!==s.databaseId.projectId)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new rt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ht(qE(n))}function BE(s,t){return Lm(s.databaseId,t)}function fI(s){const t=jE(s);return t.length===4?Jt.emptyPath():qE(t)}function rm(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qE(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Vv(s,t,n){return{name:im(s,t),fields:n.value.mapValue.fields}}function dI(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,E){return y.useProto3Json?(Bt(E===void 0||typeof E=="string",58123),qe.fromBase64String(E||"")):(Bt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),qe.fromUint8Array(E||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(y){const E=y.code===void 0?Q.UNKNOWN:PE(y.code);return new rt(E,y.message||"")})(f);n=new LE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=kd(s,r.document.name),c=di(r.document.updateTime),f=r.document.createTime?di(r.document.createTime):Et.min(),g=new un({mapValue:{fields:r.document.fields}}),p=Xe.newFoundDocument(l,c,f,g),y=r.targetIds||[],E=r.removedTargetIds||[];n=new Nc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=kd(s,r.document),c=r.readTime?di(r.readTime):Et.min(),f=Xe.newNoDocument(l,c),g=r.removedTargetIds||[];n=new Nc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=kd(s,r.document),c=r.removedTargetIds||[];n=new Nc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,f=new nI(l,c),g=r.targetId;n=new UE(g,f)}}return n}function mI(s,t){let n;if(t instanceof Ql)n={update:Vv(s,t.key,t.value)};else if(t instanceof km)n={delete:im(s,t.key)};else if(t instanceof $r)n={update:Vv(s,t.key,t.data),updateMask:SI(t.fieldMask)};else{if(!(t instanceof JR))return yt(16599,{Vt:t.type});n={verify:im(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(c,f){const g=f.transform;if(g instanceof Ul)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ll)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Fc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:hI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),n}function gI(s,t){return s&&s.length>0?(Bt(t!==void 0,14353),s.map((n=>(function(l,c){let f=l.updateTime?di(l.updateTime):di(c);return f.isEqual(Et.min())&&(f=di(c)),new $R(f,l.transformResults||[])})(n,t)))):[]}function pI(s,t){return{documents:[BE(s,t.path)]}}function yI(s,t){const n={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(s,l);const c=(function(y){if(y.length!==0)return GE(Yn.create(y,"and"))})(t.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((E=>(function(O){return{field:qa(O.field),direction:TI(O.dir)}})(E)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=em(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function _I(s){let t=fI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Bt(r===1,65062);const E=n.from[0];E.allDescendants?l=E.collectionId:t=t.child(E.collectionId)}let c=[];n.where&&(c=(function(b){const O=HE(b);return O instanceof Yn&&vE(O)?O.getFilters():[O]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((O=>(function(X){return new Pl(Ha(X.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(O)))})(n.orderBy));let g=null;n.limit&&(g=(function(b){let O;return O=typeof b=="object"?b.value:b,rh(O)?null:O})(n.limit));let p=null;n.startAt&&(p=(function(b){const O=!!b.before,j=b.values||[];return new Gc(j,O)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const O=!b.before,j=b.values||[];return new Gc(j,O)})(n.endAt)),PR(t,l,f,c,g,"F",p,y)}function vI(s,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function HE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ha(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(n.unaryFilter.field);return Ee.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(n.unaryFilter.field);return Ee.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Ee.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ee.create(Ha(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Yn.create(n.compositeFilter.filters.map((r=>HE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(s):yt(30097,{filter:s})}function TI(s){return oI[s]}function EI(s){return lI[s]}function AI(s){return uI[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Ha(s){return Be.fromServerFormat(s.fieldPath)}function GE(s){return s instanceof Ee?(function(n){if(n.op==="=="){if(vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(_v(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vv(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(_v(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:EI(n.op),value:n.value}}})(s):s instanceof Yn?(function(n){const r=n.getFilters().map((l=>GE(l)));return r.length===1?r[0]:{compositeFilter:{op:AI(n.op),filters:r}}})(s):yt(54877,{filter:s})}function SI(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function FE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(t,n,r,l,c=Et.min(),f=Et.min(),g=qe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t){this.yt=t}}function bI(s){const t=_I({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?tm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.Cn=new II}addToCollectionParentIndex(t,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Hr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Hr.min())}updateCollectionGroup(t,n,r){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class II{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n]||new Ie(Jt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(t){const n=t.lastSegment(),r=t.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ie(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(QE,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LruGarbageCollector",CI=1048576;function kv([s,t],[n,r]){const l=xt(s,n);return l===0?xt(t,r):l}class DI{constructor(t){this.Ir=t,this.buffer=new Ie(kv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class NI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(xv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){lo(n)?st(xv,"Ignoring IndexedDB error during garbage collection: ",n):await oo(n)}await this.Vr(3e5)}))}}class OI{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(ih.ce);const r=new DI(n);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Mv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Mv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,l,c,f,g,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,g=Date.now(),this.removeTargets(t,r,n)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(y=Date.now(),ja()<=Vt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function VI(s,t){return new OI(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.changes=new Qs((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t,n,r,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(r!==null&&Dl(r.mutation,l,_n.empty(),ee.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,kt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=kt()){const l=Ps();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,r).next((c=>{let f=El();return c.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Ps();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,kt())))}populateOverlays(t,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,r,l){let c=Ki();const f=Cl(),g=(function(){return Cl()})();return n.forEach(((p,y)=>{const E=r.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof $r)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Dl(E.mutation,y,E.mutation.getFieldMask(),ee.now())):f.set(y.key,_n.empty())})),this.recalculateAndSaveOverlays(t,c).next((p=>(p.forEach(((y,E)=>f.set(y,E))),n.forEach(((y,E)=>g.set(y,new xI(E,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Cl();let l=new ae(((f,g)=>f-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=r.get(p)||_n.empty();E=g.applyToLocalView(y,E),r.set(p,E);const b=(l.get(g.batchId)||kt()).add(p);l=l.insert(g.batchId,b)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,b=CE();E.forEach((O=>{if(!c.has(O)){const j=xE(n.get(O),r.get(O));j!==null&&b.set(O,j),c=c.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return Y.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,l){return(function(f){return ht.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,l):this.getDocumentsMatchingCollectionQuery(t,n,r,l)}getNextDocuments(t,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,l-c.size):Y.resolve(Ps());let g=Vl,p=c;return f.next((y=>Y.forEach(y,((E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?Y.resolve():this.remoteDocumentCache.getEntry(t,E).next((O=>{p=p.insert(E,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,p,y,kt()))).next((E=>({batchId:g,changes:IE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ht(n)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,l){const c=n.collectionGroup;let f=El();return this.indexManager.getCollectionParents(t,c).next((g=>Y.forEach(g,(p=>{const y=(function(b,O){return new uo(O,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((E=>{E.forEach(((b,O)=>{f=f.insert(b,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,c,l)))).next((f=>{c.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xe.newInvalidDocument(E)))}));let g=El();return f.forEach(((p,y)=>{const E=c.get(p);E!==void 0&&Dl(E.mutation,y,_n.empty(),ee.now()),oh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:di(l.createTime)}})(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:bI(l.bundledQuery),readTime:di(l.readTime)}})(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.overlays=new ae(ht.comparator),this.qr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Ps();return Y.forEach(n,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((l,c)=>{this.St(t,n,c)})),Y.resolve()}removeOverlaysForBatchId(t,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(t,n,r){const l=Ps(),c=n.length+1,f=new ht(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>r&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,r,l){let c=new ae(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let E=c.get(y.largestBatchId);E===null&&(E=Ps(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=Ps(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>g.set(y,E))),!(g.size()>=l)););return Y.resolve(g)}St(t,n,r){const l=this.overlays.get(r.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new eI(n,r));let c=this.qr.get(n);c===void 0&&(c=kt(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.Qr=new Ie(Me.$r),this.Ur=new Ie(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new Me(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new Me(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new ht(new Jt([])),r=new Me(n,t),l=new Me(n,t+1),c=[];return this.Ur.forEachInRange([r,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new ht(new Jt([])),r=new Me(n,t),l=new Me(n,t+1);let c=kt();return this.Ur.forEachInRange([r,l],(f=>{c=c.add(f.key)})),c}containsKey(t){const n=new Me(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Me{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return ht.comparator(t.key,n.key)||xt(t.Yr,n.Yr)}static Kr(t,n){return xt(t.Yr,n.Yr)||ht.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Me.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new tI(c,n,r,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new Me(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(f)}lookupMutationBatch(t,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Me(n,0),l=new Me(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ie(xt);return n.forEach((l=>{const c=new Me(l,0),f=new Me(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{r=r.add(g.Yr)}))})),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,l=r.length+1;let c=r;ht.isDocumentKey(c)||(c=c.child(""));const f=new Me(new ht(c),0);let g=new Ie(xt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Yr)),!0)}),f),Y.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Bt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,(l=>{const c=new Me(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new Me(n,0),l=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(t){this.ri=t,this.docs=(function(){return new ae(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Xe.newInvalidDocument(n))}getEntries(t,n){let r=Ki();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(r)}getDocumentsMatchingQuery(t,n,r,l){let c=Ki();const f=n.path,g=new ht(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||mR(dR(E),r)<=0||(l.has(E.key)||oh(n,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,r,l){yt(9500)}ii(t,n){return Y.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new BI(this)}getSize(t){return Y.resolve(this.size)}}class BI extends MI{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Y.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t){this.persistence=t,this.si=new Qs((n=>Om(n)),Vm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new zm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,n){return this.si.forEach(((r,l)=>n(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Pr(n),Y.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,r){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(t,f))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(t,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,n){this.ui={},this.overlays={},this.ci=new ih(0),this.li=!1,this.li=!0,this.hi=new LI,this.referenceDelegate=t(this),this.Pi=new qI(this),this.indexManager=new RI,this.remoteDocumentCache=(function(l){return new jI(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new wI(n),this.Ii=new PI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new UI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new zI(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){st("MemoryPersistence","Starting transaction:",t);const l=new HI(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,n){return Y.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class HI extends pR{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new zm,this.Vi=null}static mi(t){return new jm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(r=>{const l=ht.fromPath(r);return this.gi(t,l).next((c=>{c||n.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Kc{constructor(t,n){this.persistence=t,this.pi=new Qs((r=>vR(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=VI(this,n)}static mi(t,n){return new Kc(t,n)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((l=>r+l))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return Y.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Y.resolve():n(l)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(f=>this.br(t,f,n).next((g=>{g||(r++,c.removeEntry(f,Et.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Ic(t.data.value)),n}br(t,n,r){return Y.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Y.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t,n,r,l){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=l}static As(t,n){let r=kt(),l=kt();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Bm(t,n.fromCache,r,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kS()?8:yR($e())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,l){const c={result:null};return this.ys(t,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(t,n,l,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new GI;return this.Ss(t,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(t,n,f,g.size)}))})).next((()=>c.result))}bs(t,n,r,l){return r.documentReadCount<this.fs?(ja()<=Vt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(ja()<=Vt.DEBUG&&st("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(ja()<=Vt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(n))):Y.resolve())}ys(t,n){if(Sv(n))return Y.resolve(null);let r=fi(n);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=tm(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const f=kt(...c);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(t,tm(n,null,"F")):this.vs(t,y,n,p)}))))})))))}ws(t,n,r,l){return Sv(n)||l.isEqual(Et.min())?Y.resolve(null):this.ps.getDocuments(t,r).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,r,l)?Y.resolve(null):(ja()<=Vt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(n)),this.vs(t,f,n,fR(l,Vl)).next((g=>g)))}))}Ds(t,n){let r=new Ie(bE(t));return n.forEach(((l,c)=>{oh(t,c)&&(r=r.add(c))})),r}Cs(t,n,r,l){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,r){return ja()<=Vt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.ps.getDocumentsMatchingQuery(t,n,Hr.min(),r)}vs(t,n,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="LocalStore",QI=3e8;class KI{constructor(t,n,r,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new ae(xt),this.xs=new Qs((c=>Om(c)),Vm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function YI(s,t,n,r){return new KI(s,t,n,r)}async function YE(s,t){const n=St(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],g=[];let p=kt();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function XI(s,t){const n=St(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,E){const b=y.batch,O=b.keys();let j=Y.resolve();return O.forEach((X=>{j=j.next((()=>E.getEntry(p,X))).next((J=>{const $=y.docVersions.get(X);Bt($!==null,48541),J.version.compareTo($)<0&&(b.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(n,r,t,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function XE(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function $I(s,t){const n=St(s),r=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach(((E,b)=>{const O=l.get(b);if(!O)return;g.push(n.Pi.removeMatchingKeys(c,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,E.addedDocuments,b))));let j=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(E.resumeToken,r)),l=l.insert(b,j),(function(J,$,ot){return J.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=QI?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(O,j,E)&&g.push(n.Pi.updateTargetData(c,j))}));let p=Ki(),y=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,E))})),g.push(ZI(c,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!r.isEqual(Et.min())){const E=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(E)}return Y.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(n.Ms=l,c)))}function ZI(s,t,n){let r=kt(),l=kt();return n.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let f=Ki();return n.forEach(((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):st(qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function WI(s,t){const n=St(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function JI(s,t){const n=St(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,t).next((c=>c?(l=c,Y.resolve(l)):n.Pi.allocateTargetId(r).next((f=>(l=new Ur(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function sm(s,t,n){const r=St(s),l=r.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!lo(f))throw f;st(qm,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Pv(s,t,n){const r=St(s);let l=Et.min(),c=kt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=St(p),O=b.xs.get(E);return O!==void 0?Y.resolve(b.Ms.get(O)):b.Pi.getTargetData(y,E)})(r,f,fi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{c=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?l:Et.min(),n?c:kt()))).next((g=>(tC(r,LR(t),g),{documents:g,Qs:c})))))}function tC(s,t,n){let r=s.Os.get(t)||Et.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Uv{constructor(){this.activeTargetIds=GR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eC{constructor(){this.Mo=new Uv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Uv,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="ConnectivityMonitor";class zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function am(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",iC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,n,r,l,c){const f=am(),g=this.zo(t,n.toUriEncodedString());st(Pd,`Sending RPC '${t}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:y}=new URL(g),E=io(y);return this.Jo(t,g,p,r,E).then((b=>(st(Pd,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Za(Pd,`RPC '${t}' ${f} failed with error: `,b,"url: ",g,"request:",r),b}))}Ho(t,n,r,l,c,f){return this.Go(t,n,r,l,c)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ao})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,n){const r=iC[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class aC extends rC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,l,c){const f=am();return new Promise(((g,p)=>{const y=new WT;y.setWithCredentials(!0),y.listenOnce(JT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rc.NO_ERROR:const b=y.getResponseJson();st(Ke,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),g(b);break;case Rc.TIMEOUT:st(Ke,`RPC '${t}' ${f} timed out`),p(new rt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const O=y.getStatus();if(st(Ke,`RPC '${t}' ${f} failed with status:`,O,"response text:",y.getResponseText()),O>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const J=(function(ot){const mt=ot.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(mt)>=0?mt:Q.UNKNOWN})(X.status);p(new rt(J,X.message))}else p(new rt(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new rt(Q.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Ke,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(l);st(Ke,`RPC '${t}' ${f} sending request:`,l),y.send(n,"POST",E,r,15)}))}T_(t,n,r){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=nE(),g=eE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const E=c.join("");st(Ke,`Creating RPC '${t}' stream ${l}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let O=!1,j=!1;const X=new sC({Yo:$=>{j?st(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(O||(st(Ke,`Opening RPC '${t}' stream ${l} transport.`),b.open(),O=!0),st(Ke,`RPC '${t}' stream ${l} sending:`,$),b.send($))},Zo:()=>b.close()}),J=($,ot,mt)=>{$.listen(ot,(lt=>{try{mt(lt)}catch(wt){setTimeout((()=>{throw wt}),0)}}))};return J(b,Tl.EventType.OPEN,(()=>{j||(st(Ke,`RPC '${t}' stream ${l} transport opened.`),X.o_())})),J(b,Tl.EventType.CLOSE,(()=>{j||(j=!0,st(Ke,`RPC '${t}' stream ${l} transport closed`),X.a_(),this.E_(b))})),J(b,Tl.EventType.ERROR,($=>{j||(j=!0,Za(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),X.a_(new rt(Q.UNAVAILABLE,"The operation could not be completed")))})),J(b,Tl.EventType.MESSAGE,($=>{if(!j){const ot=$.data[0];Bt(!!ot,16349);const mt=ot,lt=mt?.error||mt[0]?.error;if(lt){st(Ke,`RPC '${t}' stream ${l} received error:`,lt);const wt=lt.status;let ft=(function(S){const R=Te[S];if(R!==void 0)return PE(R)})(wt),Nt=lt.message;ft===void 0&&(ft=Q.INTERNAL,Nt="Unknown error status: "+wt+" with message "+lt.message),j=!0,X.a_(new rt(ft,Nt)),b.close()}else st(Ke,`RPC '${t}' stream ${l} received:`,ot),X.u_(ot)}})),J(g,tE.STAT_EVENT,($=>{$.stat===Kd.PROXY?st(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Kd.NOPROXY&&st(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{X.__()}),0),X}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(s){return new cI(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="PersistentStream";class ZE{constructor(t,n,r,l,c,f,g,p){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new $E(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{t((()=>{const l=new rt(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(st(jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oC extends ZE{constructor(t,n,r,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=dI(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?di(f.readTime):Et.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=rm(this.serializer),n.addTarget=(function(c,f){let g;const p=f.target;if(g=Wd(p)?{documents:pI(c,p)}:{query:yI(c,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=zE(c,f.resumeToken);const y=em(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){g.readTime=Qc(c,f.snapshotVersion.toTimestamp());const y=em(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=vI(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=rm(this.serializer),n.removeTarget=t,this.q_(n)}}class lC extends ZE{constructor(t,n,r,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Bt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Bt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Bt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=gI(t.writeResults,t.commitTime),r=di(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=rm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>mI(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{}class cC extends uC{constructor(t,n,r,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(t,nm(n,r),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new rt(Q.UNKNOWN,c.toString())}))}Ho(t,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,nm(n,r),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(Q.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qi(n),this.aa=!1):st("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="RemoteStore";class fC{constructor(t,n,r,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{Ks(this)&&(st(Gs,"Restarting streams for network reachability change."),await(async function(p){const y=St(p);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await fh(y)})(this))}))})),this.Ra=new hC(r,l)}}async function fh(s){if(Ks(s))for(const t of s.da)await t(!0)}async function Yl(s){for(const t of s.da)await t(!1)}function WE(s,t){const n=St(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qm(n)?Fm(n):co(n).O_()&&Gm(n,t))}function Hm(s,t){const n=St(s),r=co(n);n.Ia.delete(t),r.O_()&&JE(n,t),n.Ia.size===0&&(r.O_()?r.L_():Ks(n)&&n.Ra.set("Unknown"))}function Gm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}co(s).Y_(t)}function JE(s,t){s.Va.Ue(t),co(s).Z_(t)}function Fm(s){s.Va=new aI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),co(s).start(),s.Ra.ua()}function Qm(s){return Ks(s)&&!co(s).x_()&&s.Ia.size>0}function Ks(s){return St(s).Ea.size===0}function t0(s){s.Va=void 0}async function dC(s){s.Ra.set("Online")}async function mC(s){s.Ia.forEach(((t,n)=>{Gm(s,t)}))}async function gC(s,t){t0(s),Qm(s)?(s.Ra.ha(t),Fm(s)):s.Ra.set("Unknown")}async function pC(s,t,n){if(s.Ra.set("Online"),t instanceof LE&&t.state===2&&t.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(s,t)}catch(r){st(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yc(s,r)}else if(t instanceof Nc?s.Va.Ze(t):t instanceof UE?s.Va.st(t):s.Va.tt(t),!n.isEqual(Et.min()))try{const r=await XE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const E=c.Ia.get(p);if(!E)return;c.Ia.set(p,E.withResumeToken(qe.EMPTY_BYTE_STRING,E.snapshotVersion)),JE(c,p);const b=new Ur(E.target,p,y,E.sequenceNumber);Gm(c,b)})),c.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){st(Gs,"Failed to raise snapshot:",r),await Yc(s,r)}}async function Yc(s,t,n){if(!lo(t))throw t;s.Ea.add(1),await Yl(s),s.Ra.set("Offline"),n||(n=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{st(Gs,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await fh(s)}))}function e0(s,t){return t().catch((n=>Yc(s,n,t)))}async function dh(s){const t=St(s),n=Kr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;yC(t);)try{const l=await WI(t.localStore,r);if(l===null){t.Ta.length===0&&n.L_();break}r=l.batchId,_C(t,l)}catch(l){await Yc(t,l)}n0(t)&&i0(t)}function yC(s){return Ks(s)&&s.Ta.length<10}function _C(s,t){s.Ta.push(t);const n=Kr(s);n.O_()&&n.X_&&n.ea(t.mutations)}function n0(s){return Ks(s)&&!Kr(s).x_()&&s.Ta.length>0}function i0(s){Kr(s).start()}async function vC(s){Kr(s).ra()}async function TC(s){const t=Kr(s);for(const n of s.Ta)t.ea(n.mutations)}async function EC(s,t,n){const r=s.Ta.shift(),l=Pm.from(r,t,n);await e0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await dh(s)}async function AC(s,t){t&&Kr(s).X_&&await(async function(r,l){if((function(f){return iI(f)&&f!==Q.ABORTED})(l.code)){const c=r.Ta.shift();Kr(r).B_(),await e0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await dh(r)}})(s,t),n0(s)&&i0(s)}async function Bv(s,t){const n=St(s);n.asyncQueue.verifyOperationInProgress(),st(Gs,"RemoteStore received new credentials");const r=Ks(n);n.Ea.add(3),await Yl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await fh(n)}async function SC(s,t){const n=St(s);t?(n.Ea.delete(2),await fh(n)):t||(n.Ea.add(2),await Yl(n),n.Ra.set("Unknown"))}function co(s){return s.ma||(s.ma=(function(n,r,l){const c=St(n);return c.sa(),new oC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:dC.bind(null,s),t_:mC.bind(null,s),r_:gC.bind(null,s),H_:pC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Qm(s)?Fm(s):s.Ra.set("Unknown")):(await s.ma.stop(),t0(s))}))),s.ma}function Kr(s){return s.fa||(s.fa=(function(n,r,l){const c=St(n);return c.sa(),new lC(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:vC.bind(null,s),r_:AC.bind(null,s),ta:TC.bind(null,s),na:EC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await dh(s)):(await s.fa.stop(),s.Ta.length>0&&(st(Gs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,n,r,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,l,c){const f=Date.now()+r,g=new Km(t,n,f,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,t){if(Qi("AsyncQueue",`${t}: ${s}`),lo(s))return new rt(Q.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=El(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.ga=new ae(ht.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class no{constructor(t,n,r,l,c,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,r,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new no(t,n,Ka.emptySet(n),f,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class bC{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=St(n),c=l.queries;l.queries=Hv(),c.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new rt(Q.ABORTED,"Firestore shutting down"))}}function Hv(){return new Qs((s=>wE(s)),ah)}async function RC(s,t){const n=St(s);let r=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new wC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Ym(f,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Xm(n)}async function IC(s,t){const n=St(s),r=t.query;let l=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(t);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CC(s,t){const n=St(s);let r=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(r=!0);f.wa=l}}r&&Xm(n)}function DC(s,t,n){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(t)}function Xm(s){s.Ca.forEach((t=>{t.next()}))}var om,Gv;(Gv=om||(om={})).Ma="default",Gv.Cache="cache";class NC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new no(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(t){this.key=t}}class s0{constructor(t){this.key=t}}class OC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=bE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new qv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((E,b)=>{const O=l.get(E),j=oh(this.query,b)?b:null,X=!!O&&this.mutatedKeys.has(O.key),J=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let $=!1;O&&j?O.data.isEqual(j.data)?X!==J&&(r.track({type:3,doc:j}),$=!0):this.su(O,j)||(r.track({type:2,doc:j}),$=!0,(p&&this.eu(j,p)>0||y&&this.eu(j,y)<0)&&(g=!0)):!O&&j?(r.track({type:0,doc:j}),$=!0):O&&!j&&(r.track({type:1,doc:O}),$=!0,(p||y)&&(g=!0)),$&&(j?(f=f.add(j),c=J?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),r.track({type:1,doc:E})}return{tu:f,iu:r,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(j,X){const J=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return J(j)-J(X)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(r),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new no(this.query,t.tu,c,f,t.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new s0(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new r0(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $m="SyncEngine";class VC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class MC{constructor(t){this.key=t,this.hu=!1}}class xC{constructor(t,n,r,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Qs((g=>wE(g)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new ae(ht.comparator),this.Au=new Map,this.Ru=new zm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kC(s,t,n=!0){const r=h0(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await a0(r,t,n,!0),l}async function PC(s,t){const n=h0(s);await a0(n,t,!0,!1)}async function a0(s,t,n,r){const l=await JI(s.localStore,fi(t)),c=l.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let g;return r&&(g=await UC(s,t,c,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&WE(s.remoteStore,l),g}async function UC(s,t,n,r,l){s.pu=(b,O,j)=>(async function(J,$,ot,mt){let lt=$.view.ru(ot);lt.Cs&&(lt=await Pv(J.localStore,$.query,!1).then((({documents:V})=>$.view.ru(V,lt))));const wt=mt&&mt.targetChanges.get($.targetId),ft=mt&&mt.targetMismatches.get($.targetId)!=null,Nt=$.view.applyChanges(lt,J.isPrimaryClient,wt,ft);return Qv(J,$.targetId,Nt.au),Nt.snapshot})(s,b,O,j);const c=await Pv(s.localStore,t,!0),f=new OC(t,c.Qs),g=f.ru(c.documents),p=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=f.applyChanges(g,s.isPrimaryClient,p);Qv(s,n,y.au);const E=new VC(t,n,f);return s.Tu.set(t,E),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),y.snapshot}async function LC(s,t,n){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((f=>!ah(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Hm(r.remoteStore,l.targetId),lm(r,l.targetId)})).catch(oo)):(lm(r,l.targetId),await sm(r.localStore,l.targetId,!0))}async function zC(s,t){const n=St(s),r=n.Tu.get(t),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hm(n.remoteStore,r.targetId))}async function jC(s,t,n){const r=KC(s);try{const l=await(function(f,g){const p=St(f),y=ee.now(),E=g.reduce(((j,X)=>j.add(X.key)),kt());let b,O;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let X=Ki(),J=kt();return p.Ns.getEntries(j,E).next(($=>{X=$,X.forEach(((ot,mt)=>{mt.isValidDocument()||(J=J.add(ot))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,X))).next(($=>{b=$;const ot=[];for(const mt of g){const lt=WR(mt,b.get(mt.key).overlayedDocument);lt!=null&&ot.push(new $r(mt.key,lt,pE(lt.value.mapValue),Mn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,ot,g)})).next(($=>{O=$;const ot=$.applyToLocalDocumentSet(b,J);return p.documentOverlayCache.saveOverlays(j,$.batchId,ot)}))})).then((()=>({batchId:O.batchId,changes:IE(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new ae(xt)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(r,l.batchId,n),await Xl(r,l.changes),await dh(r.remoteStore)}catch(l){const c=Ym(l,"Failed to persist write");n.reject(c)}}async function o0(s,t){const n=St(s);try{const r=await $I(n.localStore,t);t.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(Bt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Bt(f.hu,14607):l.removedDocuments.size>0&&(Bt(f.hu,42227),f.hu=!1))})),await Xl(n,r,t)}catch(r){await oo(r)}}function Fv(s,t,n){const r=St(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,f)=>{const g=f.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const p=St(f);p.onlineState=g;let y=!1;p.queries.forEach(((E,b)=>{for(const O of b.Sa)O.va(g)&&(y=!0)})),y&&Xm(p)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function BC(s,t,n){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",n);const l=r.Au.get(t),c=l&&l.key;if(c){let f=new ae(ht.comparator);f=f.insert(c,Xe.newNoDocument(c,Et.min()));const g=kt().add(c),p=new ch(Et.min(),new Map,new ae(xt),f,g);await o0(r,p),r.du=r.du.remove(c),r.Au.delete(t),Zm(r)}else await sm(r.localStore,t,!1).then((()=>lm(r,t,n))).catch(oo)}async function qC(s,t){const n=St(s),r=t.batch.batchId;try{const l=await XI(n.localStore,t);u0(n,r,null),l0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xl(n,l)}catch(l){await oo(l)}}async function HC(s,t,n){const r=St(s);try{const l=await(function(f,g){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next((b=>(Bt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(r.localStore,t);u0(r,t,n),l0(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Xl(r,l)}catch(l){await oo(l)}}function l0(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function u0(s,t,n){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function lm(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||c0(s,r)}))}function c0(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(Hm(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),Zm(s))}function Qv(s,t,n){for(const r of n)r instanceof r0?(s.Ru.addReference(r.key,t),GC(s,r)):r instanceof s0?(st($m,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||c0(s,r.key)):yt(19791,{wu:r})}function GC(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(st($m,"New document in limbo: "+n),s.Eu.add(r),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new ht(Jt.fromString(t)),r=s.fu.next();s.Au.set(r,new MC(n)),s.du=s.du.insert(n,r),WE(s.remoteStore,new Ur(fi(Mm(n.path)),r,"TargetPurposeLimboResolution",ih.ce))}}async function Xl(s,t,n){const r=St(s),l=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,t,n).then((y=>{if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){l.push(y);const E=Bm.As(p.targetId,y);c.push(E)}})))})),await Promise.all(f),r.Pu.H_(l),await(async function(p,y){const E=St(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(y,(O=>Y.forEach(O.Es,(j=>E.persistence.referenceDelegate.addReference(b,O.targetId,j))).next((()=>Y.forEach(O.ds,(j=>E.persistence.referenceDelegate.removeReference(b,O.targetId,j)))))))))}catch(b){if(!lo(b))throw b;st(qm,"Failed to update sequence numbers: "+b)}for(const b of y){const O=b.targetId;if(!b.fromCache){const j=E.Ms.get(O),X=j.snapshotVersion,J=j.withLastLimboFreeSnapshotVersion(X);E.Ms=E.Ms.insert(O,J)}}})(r.localStore,c))}async function FC(s,t){const n=St(s);if(!n.currentUser.isEqual(t)){st($m,"User change. New user:",t.toKey());const r=await YE(n.localStore,t);n.currentUser=t,(function(c,f){c.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(Q.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Xl(n,r.Ls)}}function QC(s,t){const n=St(s),r=n.Au.get(t);if(r&&r.hu)return kt().add(r.key);{let l=kt();const c=n.Iu.get(t);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function h0(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=QC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BC.bind(null,t),t.Pu.H_=CC.bind(null,t.eventManager),t.Pu.yu=DC.bind(null,t.eventManager),t}function KC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HC.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return YI(this.persistence,new FI,t.initialUser,this.serializer)}Cu(t){return new KE(jm.mi,this.serializer)}Du(t){return new eC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class YC extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Bt(this.persistence.referenceDelegate instanceof Kc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NI(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new KE((r=>Kc.mi(r,n)),this.serializer)}}class um{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FC.bind(null,this.syncEngine),await SC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new bC})()}createDatastore(t){const n=hh(t.databaseInfo.databaseId),r=(function(c){return new aC(c)})(t.databaseInfo);return(function(c,f,g,p){return new cC(c,f,g,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,l,c,f,g){return new fC(r,l,c,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>Fv(this.syncEngine,n,0)),(function(){return zv.v()?new zv:new nC})())}createSyncEngine(t,n){return(function(l,c,f,g,p,y,E){const b=new xC(l,c,f,g,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=St(n);st(Gs,"RemoteStore shutting down."),r.Ea.add(5),await Yl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Qi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class $C{constructor(t,n,r,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{st(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(st(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Ym(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Ld(s,t){s.asyncQueue.verifyOperationInProgress(),st(Yr,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await YE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Kv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await ZC(s);st(Yr,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>Bv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Bv(t.remoteStore,l))),s._onlineComponents=t}async function ZC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){st(Yr,"Using user provided OfflineComponentProvider");try{await Ld(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Za("Error using user provided cache. Falling back to memory cache: "+n),await Ld(s,new Xc)}}else st(Yr,"Using default OfflineComponentProvider"),await Ld(s,new YC(void 0));return s._offlineComponents}async function f0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(st(Yr,"Using user provided OnlineComponentProvider"),await Kv(s,s._uninitializedComponentsProvider._online)):(st(Yr,"Using default OnlineComponentProvider"),await Kv(s,new um))),s._onlineComponents}function WC(s){return f0(s).then((t=>t.syncEngine))}async function Yv(s){const t=await f0(s),n=t.eventManager;return n.onListen=kC.bind(null,t.syncEngine),n.onUnlisten=LC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=PC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=zC.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firestore.googleapis.com",$v=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m0,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<CI)throw new rt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,n,r,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new eR;switch(r.type){case"firstParty":return new sR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Xv.get(n);r&&(st("ComponentProvider","Removing Datastore"),Xv.delete(n),r.terminate())})(this),Promise.resolve()}}function JC(s,t,n,r={}){s=hi(s,mh);const l=io(t),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;l&&(fT(`https://${g}`),dT("Firestore",!0)),c.host!==m0&&c.host!==g&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:r};if(!js(p,f)&&(s._setSettings(p),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=Ye.MOCK_USER;else{y=RS(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new rt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ye(b)}s._authCredentials=new nR(new rE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Ys(this.firestore,t,this._query)}}class ye{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ye(this.firestore,t,this._key)}toJSON(){return{type:ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Fl(n,ye._jsonSchema))return new ye(t,r||null,new ht(Jt.fromString(n.referencePath)))}}ye._jsonSchemaVersion="firestore/documentReference/1.0",ye._jsonSchema={type:Ae("string",ye._jsonSchemaVersion),referencePath:Ae("string")};class qr extends Ys{constructor(t,n,r){super(t,n,Mm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ye(this.firestore,null,new ht(t))}withConverter(t){return new qr(this.firestore,t,this._path)}}function cm(s,t,...n){if(s=xe(s),sE("collection","path",t),s instanceof mh){const r=Jt.fromString(t,...n);return uv(r),new qr(s,null,r)}{if(!(s instanceof ye||s instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(t,...n));return uv(r),new qr(s.firestore,null,r)}}function mi(s,t,...n){if(s=xe(s),arguments.length===1&&(t=Im.newId()),sE("doc","path",t),s instanceof mh){const r=Jt.fromString(t,...n);return lv(r),new ye(s,null,new ht(r))}{if(!(s instanceof ye||s instanceof qr))throw new rt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Jt.fromString(t,...n));return lv(r),new ye(s.firestore,s instanceof qr?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $E(this,"async_queue_retry"),this._c=()=>{const r=Ud();r&&st(Wv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!lo(t))throw t;st(Wv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Qi("INTERNAL UNHANDLED ERROR: ",tT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=Km.createAndSchedule(this,t,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function tT(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Fs extends mh{constructor(t,n,r,l){super(t,n,r,l),this.type="firestore",this._queue=new Jv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function t2(s,t){const n=typeof s=="object"?s:yT(),r=typeof s=="string"?s:qc,l=gm(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=wS("firestore");c&&JC(l,...c)}return l}function g0(s){if(s._terminated)throw new rt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||e2(s),s._firestoreClient}function e2(s){const t=s._freezeSettings(),n=(function(l,c,f,g){return new AR(l,c,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,d0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new $C(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(qe.fromBase64String(t))}catch(n){throw new rt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new On(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Ae("string",On._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,gi._jsonSchema))return new gi(t.latitude,t.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Ae("string",gi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new pi(t.vectorValues);throw new rt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Ae("string",pi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=/^__.*__$/;class i2{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new $r(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(t,this.data,n,this.fieldTransforms)}}class p0{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new $r(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function y0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class Wm{constructor(t,n,r,l,c,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){const n=this.path?.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $c(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(y0(this.Ac)&&n2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class r2{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hh(t)}Cc(t,n,r,l=!1){return new Wm({Ac:t,methodName:n,Dc:r,path:Be.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yh(s){const t=s._freezeSettings(),n=hh(s._databaseId);return new r2(s._databaseId,!!t.ignoreUndefinedProperties,n)}function _0(s,t,n,r,l,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,t,n,l);tg("Data must be an object, but it was:",f,r);const g=v0(r,f);let p,y;if(c.merge)p=new _n(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const O=hm(t,b,n);if(!f.contains(O))throw new rt(Q.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);E0(E,O)||E.push(O)}p=new _n(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new i2(new un(g),p,y)}class _h extends ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _h}}class Jm extends ph{_toFieldTransform(t){return new YR(t.path,new Ul)}isEqual(t){return t instanceof Jm}}function s2(s,t,n,r){const l=s.Cc(1,t,n);tg("Data must be an object, but it was:",l,r);const c=[],f=un.empty();Xr(r,((p,y)=>{const E=eg(t,p,n);y=xe(y);const b=l.yc(E);if(y instanceof _h)c.push(E);else{const O=$l(y,b);O!=null&&(c.push(E),f.set(E,O))}}));const g=new _n(c);return new p0(f,g,l.fieldTransforms)}function a2(s,t,n,r,l,c){const f=s.Cc(1,t,n),g=[hm(t,r,n)],p=[l];if(c.length%2!=0)throw new rt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(hm(t,c[O])),p.push(c[O+1]);const y=[],E=un.empty();for(let O=g.length-1;O>=0;--O)if(!E0(y,g[O])){const j=g[O];let X=p[O];X=xe(X);const J=f.yc(j);if(X instanceof _h)y.push(j);else{const $=$l(X,J);$!=null&&(y.push(j),E.set(j,$))}}const b=new _n(y);return new p0(E,b,f.fieldTransforms)}function o2(s,t,n,r=!1){return $l(n,s.Cc(r?4:3,t))}function $l(s,t){if(T0(s=xe(s)))return tg("Unsupported field value:",t,s),v0(s,t);if(s instanceof ph)return(function(r,l){if(!y0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let f=0;for(const g of r){let p=$l(g,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FR(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ee.fromDate(r);return{timestampValue:Qc(l.serializer,c)}}if(r instanceof ee){const c=new ee(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(r instanceof gi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:zE(l.serializer,r._byteString)};if(r instanceof ye){const c=l.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof pi)return(function(f,g){return{mapValue:{fields:{[mE]:{stringValue:gE},[Hc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return xm(g.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${nh(r)}`)})(s,t)}function v0(s,t){const n={};return lE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xr(s,((r,l)=>{const c=$l(l,t.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function T0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof gi||s instanceof On||s instanceof ye||s instanceof ph||s instanceof pi)}function tg(s,t,n){if(!T0(n)||!aE(n)){const r=nh(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function hm(s,t,n){if((t=xe(t))instanceof gh)return t._internalPath;if(typeof t=="string")return eg(s,t);throw $c("Field path arguments must be of type string or ",s,!1,void 0,n)}const l2=new RegExp("[~\\*/\\[\\]]");function eg(s,t,n){if(t.search(l2)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new gh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function $c(s,t,n,r,l){const c=r&&!r.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${r}`),f&&(p+=` in document ${l}`),p+=")"),new rt(Q.INVALID_ARGUMENT,g+s+p)}function E0(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(t,n,r,l,c){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new u2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ng("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u2 extends A0{data(){return super.data()}}function ng(s,t){return typeof t=="string"?eg(s,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ig{}class S0 extends ig{}function h2(s,t,...n){let r=[];t instanceof ig&&r.push(t),r=r.concat(n),(function(c){const f=c.filter((p=>p instanceof sg)).length,g=c.filter((p=>p instanceof rg)).length;if(f>1||f>0&&g>0)throw new rt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class rg extends S0{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new rg(t,n,r)}_apply(t){const n=this._parse(t);return w0(t._query,n),new Ys(t.firestore,t.converter,Jd(t._query,n))}_parse(t){const n=yh(t.firestore);return(function(c,f,g,p,y,E,b){let O;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){iT(b,E);const X=[];for(const J of b)X.push(nT(p,c,J));O={arrayValue:{values:X}}}else O=nT(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||iT(b,E),O=o2(g,f,b,E==="in"||E==="not-in");return Ee.create(y,E,O)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class sg extends ig{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new sg(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)w0(f,p),f=Jd(f,p)})(t._query,n),new Ys(t.firestore,t.converter,Jd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends S0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new ag(t,n)}_apply(t){const n=(function(l,c,f){if(l.startAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pl(c,f)})(t._query,this._field,this._direction);return new Ys(t.firestore,t.converter,(function(l,c){const f=l.explicitOrderBy.concat([c]);return new uo(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(t._query,n))}}function f2(s,t="asc"){const n=t,r=ng("orderBy",s);return ag._create(r,n)}function nT(s,t,n){if(typeof(n=xe(n))=="string"){if(n==="")throw new rt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(t)&&n.indexOf("/")!==-1)throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Jt.fromString(n));if(!ht.isDocumentKey(r))throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yv(s,new ht(r))}if(n instanceof ye)return yv(s,n._key);throw new rt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nh(n)}.`)}function iT(s,t){if(!Array.isArray(s)||s.length===0)throw new rt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function w0(s,t){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class d2{convertValue(t,n="none"){switch(Qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Xr(t,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(t){const n=t.fields?.[Hc].arrayValue?.values?.map((r=>pe(r.doubleValue)));return new pi(n)}convertGeoPoint(t){return new gi(pe(t.latitude),pe(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=sh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ml(t));default:return null}}convertTimestamp(t){const n=Gr(t);return new ee(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Jt.fromString(t);Bt(FE(r),9688,{name:t});const l=new xl(r.get(1),r.get(3)),c=new ht(r.popFirst(5));return l.isEqual(n)||Qi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(s,t,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(t,n):s.toFirestore(t):t,r}class Sl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zs extends A0{constructor(t,n,r,l,c,f){super(t,n,r,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ng("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Ae("string",zs._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Oc extends zs{data(t={}){return super.data(t)}}class Ya{constructor(t,n,r,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Sl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Oc(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const p=new Oc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Sl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:m2(g.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function m2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Ae("string",Ya._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class R0 extends d2{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ye(this.firestore,null,n)}}function I0(s,t,n){s=hi(s,ye);const r=hi(s.firestore,Fs),l=b0(s.converter,t,n);return vh(r,[_0(yh(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Mn.none())])}function Zc(s,t,n,...r){s=hi(s,ye);const l=hi(s.firestore,Fs),c=yh(l);let f;return f=typeof(t=xe(t))=="string"||t instanceof gh?a2(c,"updateDoc",s._key,t,n,r):s2(c,"updateDoc",s._key,t),vh(l,[f.toMutation(s._key,Mn.exists(!0))])}function rT(s){return vh(hi(s.firestore,Fs),[new km(s._key,Mn.none())])}function C0(s,t){const n=hi(s.firestore,Fs),r=mi(s),l=b0(s.converter,t);return vh(n,[_0(yh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Mn.exists(!1))]).then((()=>r))}function D0(s,...t){s=xe(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||eT(t[r])||(n=t[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(eT(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let c,f,g;if(s instanceof ye)f=hi(s.firestore,Fs),g=Mm(s._key.path),c={next:p=>{t[r]&&t[r](g2(f,s,p))},error:t[r+1],complete:t[r+2]};else{const p=hi(s,Ys);f=hi(p.firestore,Fs),g=p._query;const y=new R0(f);c={next:E=>{t[r]&&t[r](new Ya(f,y,p,E))},error:t[r+1],complete:t[r+2]},c2(s._query)}return(function(y,E,b,O){const j=new XC(O),X=new NC(E,j,b);return y.asyncQueue.enqueueAndForget((async()=>RC(await Yv(y),X))),()=>{j.Nu(),y.asyncQueue.enqueueAndForget((async()=>IC(await Yv(y),X)))}})(g0(f),g,l,c)}function vh(s,t){return(function(r,l){const c=new Ls;return r.asyncQueue.enqueueAndForget((async()=>jC(await WC(r),l,c))),c.promise})(g0(s),t)}function g2(s,t,n){const r=n.docs.get(t._key),l=new R0(s);return new zs(s,l,t._key,r,new Sl(n.hasPendingWrites,n.fromCache),t.converter)}function Bi(){return new Jm("serverTimestamp")}(function(t,n=!0){(function(l){ao=l})(ro),Xa(new Bs("firestore",((r,{instanceIdentifier:l,options:c})=>{const f=r.getProvider("app").getImmediate(),g=new Fs(new iR(r.getProvider("auth-internal")),new aR(f,r.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new rt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xl(y.options.projectId,E)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),jr(rv,sv,t),jr(rv,sv,"esm2020")})();const p2={apiKey:"AIzaSyAmdHR-7ThvXdO1Y-QCDcwDib29xa3asK4",authDomain:"student-e6421.firebaseapp.com",projectId:"student-e6421",storageBucket:"student-e6421.firebasestorage.app",messagingSenderId:"105877561229",appId:"1:105877561229:web:94e16edbe02324469767c4"},N0=pT(p2),Vc=Z1(N0),y2=new ji,Vn=t2(N0);function _2(){const[s,t]=Mt.useState(null),[n,r]=Mt.useState(!0);return Mt.useEffect(()=>{const l=zT(Vc,c=>{t(c),r(!1)});return()=>l()},[]),{user:s,loading:n}}function O0(){const[s,t]=Mt.useState(navigator.onLine),[n,r]=Mt.useState("unknown");return Mt.useEffect(()=>{const l=()=>{t(navigator.onLine)},c=()=>{"connection"in navigator?r(navigator.connection.effectiveType||"unknown"):"mozConnection"in navigator?r(navigator.mozConnection.type||"unknown"):"webkitConnection"in navigator&&r(navigator.webkitConnection.type||"unknown")};return l(),c(),window.addEventListener("online",l),window.addEventListener("offline",l),"connection"in navigator&&navigator.connection.addEventListener("change",c),()=>{window.removeEventListener("online",l),window.removeEventListener("offline",l),"connection"in navigator&&navigator.connection.removeEventListener("change",c)}},[]),{isOnline:s,connectionType:n}}const v2="jaqbek.eth@gmail.com",Th=s=>s?.email===v2,V0=(s,t="general")=>Th(s)?!0:(console.warn(`Unauthorized ${t} attempt by ${s?.email||"anonymous"}`),!1);function sT(){const[s,t]=Mt.useState(null),[n,r]=Mt.useState(!0);Mt.useEffect(()=>{const f=zT(Vc,g=>{t(g),r(!1)});return()=>f()},[]);const l=async()=>{try{await a1(Vc,y2)}catch(f){console.error("Error signing in with Google:",f)}},c=async()=>{try{await jb(Vc)}catch(f){console.error("Error signing out:",f)}};return n?W.jsx("div",{className:"loading",children:"Ładowanie..."}):s?W.jsxs("div",{className:"user-info",children:[W.jsxs("div",{className:"user-profile",children:[W.jsx("img",{src:s.photoURL,alt:"Profil",className:"profile-img"}),W.jsxs("span",{children:["Witaj, ",s.displayName]}),Th(s)&&W.jsx("span",{className:"admin-indicator",children:"ADMIN"})]}),W.jsx("button",{onClick:c,className:"signout-btn",children:"Wyloguj się"})]}):W.jsxs("div",{className:"auth-container",children:[W.jsx("h1",{children:"Aplikacja do Transkrypcji Wykładów"}),W.jsx("p",{children:"Zaloguj się, aby rozpocząć transkrypcję wykładów i dzielić się wiedzą"}),W.jsx("button",{onClick:l,className:"google-signin-btn",children:"Zaloguj się z Google"})]})}function T2({user:s,onSelectLecture:t,selectedLectureId:n}){const[r,l]=Mt.useState([]),[c,f]=Mt.useState(!1),[g,p]=Mt.useState({name:"",topic:""}),[y,E]=Mt.useState(!1);Mt.useEffect(()=>{const j=h2(cm(Vn,"lectures"),f2("createdAt","desc")),X=D0(j,J=>{const $=[];J.forEach(ot=>{$.push({id:ot.id,...ot.data()})}),l($)});return()=>X()},[]);const b=async j=>{if(j.preventDefault(),!(!g.name.trim()||!g.topic.trim())){E(!0);try{const X=await C0(cm(Vn,"lectures"),{name:g.name.trim(),topic:g.topic.trim(),createdBy:s.uid,createdByName:s.displayName,createdAt:Bi(),isPublic:!0});p({name:"",topic:""}),f(!1),t(X.id)}catch(X){console.error("Error creating lecture:",X)}E(!1)}},O=async(j,X)=>{if(!V0(s,"delete lecture")){alert("Brak uprawnień administratora do usuwania wykładów.");return}const J=`Czy na pewno chcesz usunąć wykład "${X}"? Ta operacja usunie również wszystkie związane transkrypcje i jest nieodwracalna.`;if(confirm(J)){E(!0);try{await rT(mi(Vn,"lectures",j));try{await rT(mi(Vn,"transcriptions",j))}catch($){console.log("No transcription found for this lecture:",$)}alert(`Wykład "${X}" został usunięty.`),n===j&&t(null)}catch($){console.error("Error deleting lecture:",$),alert("Wystąpił błąd podczas usuwania wykładu. Spróbuj ponownie.")}E(!1)}};return W.jsxs("div",{className:"lecture-manager",children:[W.jsxs("div",{className:"lecture-header",children:[W.jsx("h2",{children:"Wykłady"}),W.jsx("button",{onClick:()=>f(!c),className:"create-btn",children:c?"Anuluj":"Utwórz Nowy Wykład"})]}),c&&W.jsxs("form",{onSubmit:b,className:"create-lecture-form",children:[W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Nazwa wykładu:"}),W.jsx("input",{type:"text",value:g.name,onChange:j=>p({...g,name:j.target.value}),placeholder:"np. Wprowadzenie do Reacta",required:!0})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{children:"Temat/Przedmiot:"}),W.jsx("input",{type:"text",value:g.topic,onChange:j=>p({...g,topic:j.target.value}),placeholder:"np. Informatyka, Matematyka",required:!0})]}),W.jsx("button",{type:"submit",disabled:y,className:"submit-btn",children:y?"Tworzenie...":"Utwórz Wykład"})]}),W.jsx("div",{className:"lectures-list",children:r.length===0?W.jsx("p",{className:"no-lectures",children:"Brak wykładów. Utwórz pierwszy!"}):r.map(j=>W.jsxs("div",{className:`lecture-item ${n===j.id?"selected":""}`,children:[W.jsxs("div",{className:"lecture-info",onClick:()=>t(j.id),children:[W.jsx("h3",{children:j.name}),W.jsx("p",{className:"topic",children:j.topic}),W.jsxs("div",{className:"meta",children:[W.jsxs("span",{children:["przez ",j.createdByName]}),W.jsx("span",{children:j.createdAt?.toDate?.()?.toLocaleDateString?.("pl-PL")||"Niedawno"})]})]}),Th(s)&&W.jsx("button",{onClick:X=>{X.stopPropagation(),O(j.id,j.name)},className:"delete-btn lecture-delete-btn",disabled:y,title:"Usuń wykład (tylko admin)",children:"✕"})]},j.id))})]})}class E2{constructor(){this.dbName="LectureTranscriptionPWA",this.version=1,this.db=null,this.init()}async init(){try{this.db=await this.openDB()}catch(t){console.error("Failed to initialize offline storage:",t)}}openDB(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>n(r.error),r.onsuccess=()=>t(r.result),r.onupgradeneeded=l=>{const c=l.target.result;if(!c.objectStoreNames.contains("transcriptions")){const f=c.createObjectStore("transcriptions",{keyPath:"lectureId"});f.createIndex("timestamp","timestamp",{unique:!1}),f.createIndex("synced","synced",{unique:!1})}if(!c.objectStoreNames.contains("lectures")){const f=c.createObjectStore("lectures",{keyPath:"id"});f.createIndex("timestamp","timestamp",{unique:!1}),f.createIndex("synced","synced",{unique:!1})}if(!c.objectStoreNames.contains("syncQueue")){const f=c.createObjectStore("syncQueue",{keyPath:"id",autoIncrement:!0});f.createIndex("timestamp","timestamp",{unique:!1}),f.createIndex("type","type",{unique:!1})}}})}async storeTranscription(t,n){this.db||await this.init();try{const l=this.db.transaction(["transcriptions"],"readwrite").objectStore("transcriptions"),c={lectureId:t,rawText:n.rawText||"",correctedText:n.correctedText||"",chunks:n.chunks||[],timestamp:Date.now(),synced:!1,lastUpdated:new Date().toISOString(),createdBy:n.createdBy,...n};return await l.put(c),console.log("Transcription stored offline:",t),!0}catch(r){return console.error("Error storing transcription offline:",r),!1}}async storeLecture(t){this.db||await this.init();try{const r=this.db.transaction(["lectures"],"readwrite").objectStore("lectures"),l={...t,timestamp:Date.now(),synced:!1};return await r.put(l),console.log("Lecture stored offline:",t.id),!0}catch(n){return console.error("Error storing lecture offline:",n),!1}}async addToSyncQueue(t,n,r=null){this.db||await this.init();try{const c=this.db.transaction(["syncQueue"],"readwrite").objectStore("syncQueue"),f={type:t,data:n,lectureId:r,timestamp:Date.now(),retries:0};return await c.add(f),console.log("Added to sync queue:",t,r),!0}catch(l){return console.error("Error adding to sync queue:",l),!1}}async getUnsyncedData(){this.db||await this.init();try{const[t,n,r]=await Promise.all([this.getAllFromStore("transcriptions"),this.getAllFromStore("lectures"),this.getAllFromStore("syncQueue")]);return{transcriptions:t.filter(l=>!l.synced),lectures:n.filter(l=>!l.synced),syncQueue:r}}catch(t){return console.error("Error getting unsynced data:",t),{transcriptions:[],lectures:[],syncQueue:[]}}}async getOfflineTranscription(t){this.db||await this.init();try{return await this.db.transaction(["transcriptions"],"readonly").objectStore("transcriptions").get(t)||null}catch(n){return console.error("Error getting offline transcription:",n),null}}async markAsSynced(t,n){this.db||await this.init();try{const l=this.db.transaction([t],"readwrite").objectStore(t),c=await l.get(n);c&&(c.synced=!0,c.syncedAt=Date.now(),await l.put(c),console.log(`Marked as synced: ${t}/${n}`))}catch(r){console.error("Error marking as synced:",r)}}async removeFromSyncQueue(t){this.db||await this.init();try{await this.db.transaction(["syncQueue"],"readwrite").objectStore("syncQueue").delete(t),console.log("Removed from sync queue:",t)}catch(n){console.error("Error removing from sync queue:",n)}}async getAllFromStore(t){return this.db||await this.init(),new Promise((n,r)=>{const f=this.db.transaction([t],"readonly").objectStore(t).getAll();f.onsuccess=()=>n(f.result),f.onerror=()=>r(f.error)})}async clearSyncedData(){this.db||await this.init();try{const t=["transcriptions","lectures"];for(const n of t){const f=this.db.transaction([n],"readwrite").objectStore(n).index("synced").openCursor(IDBKeyRange.only(!0));f.onsuccess=g=>{const p=g.target.result;if(p){const y=Date.now()-6048e5;p.value.syncedAt<y&&p.delete(),p.continue()}}}}catch(t){console.error("Error clearing synced data:",t)}}async getStorageStats(){this.db||await this.init();try{const[t,n,r]=await Promise.all([this.getAllFromStore("transcriptions"),this.getAllFromStore("lectures"),this.getAllFromStore("syncQueue")]);return{transcriptions:{total:t.length,unsynced:t.filter(l=>!l.synced).length},lectures:{total:n.length,unsynced:n.filter(l=>!l.synced).length},syncQueue:r.length}}catch(t){return console.error("Error getting storage stats:",t),{transcriptions:{total:0,unsynced:0},lectures:{total:0,unsynced:0},syncQueue:0}}}}const on=new E2;class A2{constructor(){this.issyncing=!1,this.syncListeners=[]}addSyncListener(t){this.syncListeners.push(t)}removeSyncListener(t){this.syncListeners=this.syncListeners.filter(n=>n!==t)}notifySyncListeners(t,n=null){this.syncListeners.forEach(r=>{try{r(t,n)}catch(l){console.error("Error in sync listener:",l)}})}async syncOfflineData(){if(this.issyncing){console.log("Sync already in progress");return}this.issyncing=!0,this.notifySyncListeners("sync_start");try{const t=await on.getUnsyncedData();console.log("Unsynced data found:",t);let n=0,r=0;for(const l of t.lectures)try{await this.syncLecture(l),await on.markAsSynced("lectures",l.id),n++}catch(c){console.error("Error syncing lecture:",l.id,c),r++}for(const l of t.transcriptions)try{await this.syncTranscription(l),await on.markAsSynced("transcriptions",l.lectureId),n++}catch(c){console.error("Error syncing transcription:",l.lectureId,c),r++}for(const l of t.syncQueue)try{await this.processSyncQueueItem(l),await on.removeFromSyncQueue(l.id),n++}catch(c){console.error("Error processing sync queue item:",l.id,c),r++,l.retries=(l.retries||0)+1,l.retries>=3&&(console.error("Max retries reached for sync queue item:",l.id),await on.removeFromSyncQueue(l.id))}this.notifySyncListeners("sync_complete",{synced:n,errors:r,total:t.lectures.length+t.transcriptions.length+t.syncQueue.length}),console.log(`Sync completed: ${n} synced, ${r} errors`)}catch(t){console.error("Sync error:",t),this.notifySyncListeners("sync_error",t)}finally{this.issyncing=!1}}async syncLecture(t){if(console.log("Syncing lecture:",t.id),t.id.startsWith("offline_")){const n={name:t.name,topic:t.topic,createdBy:t.createdBy,createdByName:t.createdByName,createdAt:Bi(),isPublic:t.isPublic},r=await C0(cm(Vn,"lectures"),n);console.log("New lecture synced with ID:",r.id);const l=await on.getOfflineTranscription(t.id);l&&(l.lectureId=r.id,await on.storeTranscription(r.id,l))}else await Zc(mi(Vn,"lectures",t.id),{name:t.name,topic:t.topic,lastUpdated:Bi()}),console.log("Lecture updated:",t.id)}async syncTranscription(t){console.log("Syncing transcription:",t.lectureId);const n=mi(Vn,"transcriptions",t.lectureId),r={rawText:t.rawText||"",lastUpdated:Bi()};t.chunks&&(r.chunks=t.chunks),t.correctedText&&(r.correctedText=t.correctedText,r.correctedBy=t.correctedBy,r.correctedByName=t.correctedByName,r.correctedAt=t.correctedAt?new Date(t.correctedAt):Bi()),t.createdBy&&!t.synced&&(r.createdBy=t.createdBy,r.createdAt=Bi()),await I0(n,r,{merge:!0}),console.log("Transcription synced:",t.lectureId)}async processSyncQueueItem(t){switch(console.log("Processing sync queue item:",t.type,t.lectureId),t.type){case"transcription_update":await this.syncTranscription({lectureId:t.lectureId,...t.data});break;case"lecture_create":await this.syncLecture(t.data);break;case"transcription_create":await this.syncTranscription({lectureId:t.lectureId,...t.data});break;default:console.warn("Unknown sync queue item type:",t.type)}}async storeOfflineTranscription(t,n,r){try{return await on.storeTranscription(t,{...n,createdBy:r}),await on.addToSyncQueue("transcription_update",n,t),console.log("Transcription stored offline and queued for sync:",t),!0}catch(l){return console.error("Error storing offline transcription:",l),!1}}async storeOfflineLecture(t,n){try{const r=`offline_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,l={...t,id:r,createdBy:n};return await on.storeLecture(l),await on.addToSyncQueue("lecture_create",l),console.log("Lecture stored offline:",r),r}catch(r){return console.error("Error storing offline lecture:",r),null}}async autoSync(){if(navigator.onLine&&!this.issyncing){const t=await on.getStorageStats();(t.transcriptions.unsynced>0||t.lectures.unsynced>0||t.syncQueue>0)&&(console.log("Auto-syncing offline data..."),await this.syncOfflineData())}}async getSyncStatus(){const t=await on.getStorageStats();return{issyncing:this.issyncing,pendingSync:t.transcriptions.unsynced+t.lectures.unsynced+t.syncQueue,stats:t}}}const Pr=new A2;function S2({lectureId:s,userId:t}){const[n,r]=Mt.useState(!1),[l,c]=Mt.useState(""),[f,g]=Mt.useState(""),[p,y]=Mt.useState(""),[E,b]=Mt.useState(0),O=Mt.useRef(null),j=Mt.useRef(""),{isOnline:X}=O0();Mt.useEffect(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){y("Rozpoznawanie mowy nie jest obsługiwane w tej przeglądarce.");return}const lt=window.SpeechRecognition||window.webkitSpeechRecognition;O.current=new lt;const wt=O.current;return wt.continuous=!0,wt.interimResults=!0,wt.lang="pl-PL",wt.onstart=()=>{r(!0),y("")},wt.onresult=async ft=>{let Nt="",V="";for(let S=ft.resultIndex;S<ft.results.length;S++){const R=ft.results[S][0].transcript;ft.results[S].isFinal?Nt+=R+" ":V+=R}if(Nt){const S=j.current+Nt;if(j.current=S,c(S),s){const R={rawText:S,lastUpdated:new Date().toISOString(),chunks:[...j.current.match(/.{1,100}(\s|$)/g)||[]].map((M,D)=>({id:D,text:M.trim(),timestamp:new Date().toISOString()}))};if(X)try{const M=mi(Vn,"transcriptions",s);await Zc(M,{...R,lastUpdated:Bi()})}catch(M){console.error("Error updating transcription online, storing offline:",M),await Pr.storeOfflineTranscription(s,R,t),J()}else await Pr.storeOfflineTranscription(s,R,t),J()}}g(V)},wt.onerror=ft=>{y(`Błąd rozpoznawania mowy: ${ft.error}`),r(!1)},wt.onend=()=>{r(!1)},()=>{wt&&wt.stop()}},[s,X,t]),Mt.useEffect(()=>{X&&(Pr.autoSync(),J())},[X]);const J=async()=>{try{const lt=await on.getStorageStats();b(lt.transcriptions.unsynced+lt.syncQueue)}catch(lt){console.error("Error updating offline queue count:",lt)}};Mt.useEffect(()=>{J()},[]);const $=async()=>{if(O.current&&!n)try{if(s){const lt={rawText:"",correctedText:"",createdBy:t,createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),chunks:[]};if(X)try{const wt=mi(Vn,"transcriptions",s);await I0(wt,{...lt,createdAt:Bi(),lastUpdated:Bi()},{merge:!0})}catch(wt){console.error("Error initializing transcription online, storing offline:",wt),await Pr.storeOfflineTranscription(s,lt,t),J()}else await Pr.storeOfflineTranscription(s,lt,t),J()}j.current="",c(""),g(""),O.current.start()}catch(lt){y("Błąd podczas uruchamiania transkrypcji: "+lt.message)}},ot=()=>{O.current&&n&&O.current.stop()},mt=()=>{c(""),g(""),j.current=""};return p&&p.includes("nie jest obsługiwane")?W.jsxs("div",{className:"speech-error",children:[W.jsx("p",{children:p}),W.jsx("p",{children:"Proszę użyć przeglądarki Chrome, Edge lub Safari aby uzyskać obsługę rozpoznawania mowy."})]}):W.jsxs("div",{className:"speech-recognition",children:[!X&&W.jsx("div",{className:"offline-banner",children:"⚠️ Tryb offline - transkrypcja będzie zsynchronizowana po przywróceniu połączenia"}),E>0&&W.jsxs("div",{className:"offline-queue-info",children:[W.jsxs("strong",{children:["Oczekuje na synchronizację: ",E," elementów"]}),X?"Synchronizowanie w toku...":"Będzie zsynchronizowane po połączeniu z internetem"]}),W.jsxs("div",{className:"controls",children:[W.jsxs("button",{onClick:$,disabled:n,className:`start-btn ${n?"disabled":""}`,children:[n?"Nasłuchiwanie...":"Rozpocznij Nagrywanie",!X&&W.jsx("span",{className:"offline-indicator",children:"OFFLINE"})]}),W.jsx("button",{onClick:ot,disabled:!n,className:`stop-btn ${n?"":"disabled"}`,children:"Zatrzymaj Nagrywanie"}),W.jsx("button",{onClick:mt,className:"clear-btn",children:"Wyczyść"})]}),p&&W.jsx("div",{className:"error",children:p}),W.jsxs("div",{className:"transcript-container",children:[W.jsxs("div",{className:"transcript",children:[l,W.jsx("span",{className:"interim",children:f})]}),!X&&l&&W.jsx("div",{className:"offline-save-notice",children:"💾 Transkrypcja zapisywana lokalnie"})]}),n&&W.jsxs("div",{className:"listening-indicator",children:["🎤 Nasłuchiwanie...",!X&&W.jsx("span",{className:"offline-indicator",children:"OFFLINE"})]})]})}function w2({lectureId:s,user:t}){const[n,r]=Mt.useState(null),[l,c]=Mt.useState("raw"),[f,g]=Mt.useState(""),[p,y]=Mt.useState(!1),[E,b]=Mt.useState(!1);Mt.useEffect(()=>{if(!s)return;const J=D0(mi(Vn,"transcriptions",s),$=>{$.exists()&&(r($.data()),g($.data().correctedText||""))});return()=>J()},[s]);const O=async()=>{if(s){b(!0);try{await Zc(mi(Vn,"transcriptions",s),{correctedText:f.trim(),correctedBy:t.uid,correctedByName:t.displayName,correctedAt:new Date}),y(!1)}catch(J){console.error("Error saving corrected text:",J)}b(!1)}},j=()=>{const J=l==="raw"?n?.rawText||"":n?.correctedText||"",$=new Blob([J],{type:"text/plain"}),ot=URL.createObjectURL($),mt=document.createElement("a");mt.href=ot,mt.download=`lecture-${s}-${l}.txt`,document.body.appendChild(mt),mt.click(),document.body.removeChild(mt),URL.revokeObjectURL(ot)},X=async J=>{if(!V0(t,"delete transcription")){alert("Brak uprawnień administratora do usuwania transkrypcji.");return}if(confirm(J==="raw"?"Czy na pewno chcesz usunąć surową transkrypcję? Ta operacja jest nieodwracalna.":"Czy na pewno chcesz usunąć poprawione notatki? Ta operacja jest nieodwracalna.")){b(!0);try{const ot={};J==="raw"?(ot.rawText="",ot.chunks=[]):J==="corrected"&&(ot.correctedText="",ot.correctedBy=null,ot.correctedByName=null,ot.correctedAt=null),await Zc(mi(Vn,"transcriptions",s),ot),J==="corrected"&&(g(""),y(!1)),alert(`${J==="raw"?"Surowa transkrypcja":"Poprawione notatki"} została usunięta.`)}catch(ot){console.error("Error deleting transcription:",ot),alert("Wystąpił błąd podczas usuwania. Spróbuj ponownie.")}b(!1)}};return n?W.jsxs("div",{className:"transcription-viewer",children:[W.jsxs("div",{className:"transcription-header",children:[W.jsxs("div",{className:"view-controls",children:[W.jsx("button",{onClick:()=>c("raw"),className:l==="raw"?"active":"",children:"Surowa Transkrypcja"}),W.jsx("button",{onClick:()=>c("corrected"),className:l==="corrected"?"active":"",children:"Poprawione Notatki"})]}),W.jsxs("div",{className:"action-buttons",children:[W.jsx("button",{onClick:j,className:"export-btn",children:"Eksportuj jako TXT"}),l==="corrected"&&W.jsx("button",{onClick:()=>y(!p),className:"edit-btn",children:p?"Anuluj Edycję":"Edytuj Notatki"}),Th(t)&&W.jsx("button",{onClick:()=>X(l),className:"delete-btn",disabled:E,children:l==="raw"?"Usuń Surową":"Usuń Poprawione"})]})]}),W.jsx("div",{className:"transcription-content",children:l==="raw"?W.jsxs("div",{className:"raw-transcription",children:[W.jsx("div",{className:"content",children:n.rawText||"Brak dostępnej transkrypcji."}),W.jsxs("div",{className:"meta",children:["Ostatnio zaktualizowano: ",n.lastUpdated?.toDate?.()?.toLocaleString?.("pl-PL")||"Nieznane"]})]}):W.jsx("div",{className:"corrected-transcription",children:p?W.jsxs("div",{className:"edit-mode",children:[W.jsx("textarea",{value:f,onChange:J=>g(J.target.value),placeholder:"Wprowadź poprawione notatki tutaj...",className:"edit-textarea"}),W.jsx("div",{className:"edit-actions",children:W.jsx("button",{onClick:O,disabled:E,className:"save-btn",children:E?"Zapisywanie...":"Zapisz Zmiany"})})]}):W.jsxs("div",{className:"view-mode",children:[W.jsx("div",{className:"content",children:n.correctedText||'Brak poprawionych notatek. Kliknij "Edytuj Notatki" aby je dodać.'}),n.correctedText&&W.jsxs("div",{className:"meta",children:["Poprawione przez: ",n.correctedByName||"Nieznany"," dnia"," ",n.correctedAt?.toDate?.()?.toLocaleString?.("pl-PL")||"Nieznana data"]})]})})})]}):W.jsx("div",{className:"transcription-viewer",children:W.jsx("p",{children:"Wybierz wykład aby zobaczyć transkrypcję lub rozpocznij nowe nagrywanie."})})}function b2(){const{user:s,loading:t}=_2(),{isOnline:n}=O0(),[r,l]=Mt.useState(null),[c,f]=Mt.useState("browse"),[g,p]=Mt.useState(!1);return Mt.useEffect(()=>{const y=(E,b)=>{switch(E){case"sync_start":p(!0);break;case"sync_complete":case"sync_error":p(!1);break}};return Pr.addSyncListener(y),()=>{Pr.removeSyncListener(y)}},[]),Mt.useEffect(()=>{n&&s&&Pr.autoSync()},[n,s]),t?W.jsx("div",{className:"loading",children:"Ładowanie..."}):s?W.jsxs("div",{className:"app",children:[W.jsxs("header",{className:"app-header",children:[W.jsx("h1",{children:"Aplikacja do Transkrypcji Wykładów"}),W.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[!n&&W.jsx("span",{className:"offline-indicator",children:"OFFLINE"}),g&&W.jsx("span",{className:"sync-indicator",children:"SYNC"}),W.jsx(sT,{})]})]}),W.jsxs("nav",{className:"app-nav",children:[W.jsx("button",{onClick:()=>f("browse"),className:c==="browse"?"active":"",children:"Przeglądaj Wykłady"}),W.jsx("button",{onClick:()=>f("record"),className:c==="record"?"active":"",disabled:!r,children:"Nagraj"}),W.jsx("button",{onClick:()=>f("view"),className:c==="view"?"active":"",disabled:!r,children:"Zobacz Transkrypcję"})]}),W.jsxs("main",{className:"app-main",children:[c==="browse"&&W.jsx(T2,{user:s,onSelectLecture:y=>{l(y),f("record")},selectedLectureId:r}),c==="record"&&r&&W.jsxs("div",{className:"record-section",children:[W.jsx("h2",{children:"Nagrywanie Wykładu"}),W.jsx(S2,{lectureId:r,userId:s.uid})]}),c==="view"&&r&&W.jsx(w2,{lectureId:r,user:s}),!r&&c!=="browse"&&W.jsx("div",{className:"no-lecture-selected",children:W.jsx("p",{children:"Proszę najpierw wybrać wykład z zakładki Przeglądaj."})})]})]}):W.jsx(sT,{})}gS.createRoot(document.getElementById("root")).render(W.jsx(Mt.StrictMode,{children:W.jsx(b2,{})}));
